"use strict";(self.webpackChunkSISAPPRAv2_0=self.webpackChunkSISAPPRAv2_0||[]).push([[955],{15955:function(a,e,n){n.r(e),n.d(e,{default:function(){return je}});var t=n(72791),s=n(16871),r=n(81732),l=n(1413),i=n(15861),c=n(29439),o=n(64687),d=n.n(o),m=n(59434),u=n(43550),h=n(55705),x=n(97788),g=n(74845),p=n(18622),j=n(80184),f=function(a){var e=a.target;return{target:{name:e.name,value:e.value}}},_=function(){return(0,s.TH)().pathname},v=function(a){var e=a.className,n=a.field,t=a.onChange;return(0,j.jsx)(x.ZP,{containerClassName:e,inputClass:"form-control",format:"YYYY-MM-DD",disabled:-1!==_().indexOf("Detail"),value:n.value,onChange:function(a){n.onChange({target:{name:n.name,value:null===a||void 0===a?void 0:a.toString()}}),t({target:{name:n.name,value:null===a||void 0===a?void 0:a.toString()}})}})},k=function(a){var e=a.field,n=(a.range,a.form),t=a.className,s=a.onChange,r=n.values[e.name].split(":"),l=(0,c.Z)(r,2),i=l[0],o=l[1],d=parseInt(i,10),m=parseInt(o,10),u=(new x.NT).set({hour:d,minute:m});return(0,j.jsx)(x.ZP,{disableDayPicker:!0,containerClassName:t,inputClass:"form-control",format:"HH:mm:00",disabled:-1!==_().indexOf("Detail"),plugins:[(0,j.jsx)(g.Z,{hideSeconds:!0})],value:n.values[e.name]?u:"",onChange:function(a){e.onChange({target:{name:e.name,value:null===a||void 0===a?void 0:a.toString()}}),s({target:{name:e.name,value:null===a||void 0===a?void 0:a.toString()}})}})},b=function(a){var e,n,t=a.form,s=a.field,r=a.target,i=a.onChange,c=a.options,o=a.disabled,d=(0,m.v9)((function(a){return a.pelaporanKegiatan})),u=(0,m.v9)((function(a){return a.pelaporanKejadian})),h=(0,m.v9)((function(a){return a.pelaporanPengawasan})),x=(0,m.v9)((function(a){return a.pelaporanTamuDaerah})),g=(0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},x),h),u),d),f=Number(null===(e=s.value)||void 0===e?void 0:e.value);return g[r]>0&&c.length>0&&!t.values[s.name]&&(n=c.find((function(a){return Number(a.value)===g[r]})),t.setFieldValue(s.name,n)),(0,j.jsx)(p.ZP,{isLoading:"object"===typeof c&&0===c.length,isDisabled:o,options:"string"===typeof c?[]:c,value:f!==g[r]?"":s.value,onChange:function(a){s.onChange({target:{name:s.name,value:a}}),t.setFieldValue(r,null===a||void 0===a?void 0:a.value),i({target:{name:r,value:null===a||void 0===a?void 0:a.value}})}})},N=n(21830),w=n.n(N),y=n(74569),C=n.n(y),Z=function(a){a.handleChange,a.handleBlur;var e,n=a.handleReset,s=a.setFieldValue,r=a.values,l=a.detailState,i=a.listMasterKejadianValue,o=(0,m.I0)(),d=(0,m.v9)((function(a){return a.pelaporanKejadian.list_jenis_kejadian})),x=(0,m.v9)((function(a){return a.pelaporanKejadian.kejadian__jenis_kejadian_id})),g=(0,m.v9)((function(a){return a.pelaporanKejadian})),p=null===(e=r.kejadian__jenis_kejadian_selection)||void 0===e?void 0:e.label,_=r.kejadian__kota_id,N=r.kejadian__kecamatan_id,y=(0,m.v9)((function(a){return a.pelaporanKejadian.list_kota})),C=(0,m.v9)((function(a){return a.pelaporanKejadian.list_kecamatan})),Z=(0,m.v9)((function(a){return a.pelaporanKejadian.list_kelurahan}));console.log("kejadian",g),console.log("kejadian val",r),(0,t.useEffect)((function(){o((0,u.KB)()),o((0,u.nZ)()),o((0,u.Lw)())}),[p]);var P=(0,t.useState)({value:null,label:""}),A=(0,c.Z)(P,2),S=(A[0],A[1],(0,t.useState)({id:""})),K=(0,c.Z)(S,2),R=(K[0],K[1],(0,t.useState)({value:null,label:""})),T=(0,c.Z)(R,2),B=(T[0],T[1],(0,t.useState)({id:""})),E=(0,c.Z)(B,2),F=(E[0],E[1],(0,t.useState)({value:null,label:""})),L=(0,c.Z)(F,2);L[0],L[1];return(0,j.jsx)("div",{className:"w-50",children:(0,j.jsxs)("div",{className:"pb-10 pb-lg-15",children:[(0,j.jsx)("h2",{className:"fw-bolder text-dark mb-10",children:"Kejadian"}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jenis Kejadian"}),(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)("div",{className:"w-100 me-2",children:(0,j.jsx)(h.gN,{name:"kejadian__jenis_kejadian_selection",target:"kejadian__jenis_kejadian_id",className:"form-control",disabled:r.id||0!==x,component:b,options:d,onChange:function(a){o((0,u.w7)(f(a)))}})}),(0,j.jsx)("button",{className:"btn ".concat(r.id||0===x?"btn-secondary":"btn-outline-danger btn-outline","  btn-sm"),type:"reset",disabled:r.id||0===x,onClick:function(){w().fire({title:"Apakah anda yakin?",text:"Anda akan mereset seluruh form yang telah anda isi di halaman ini!",icon:"warning",showCancelButton:!0,cancelButtonText:"Tidak, kembali",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, lanjut!"}).then((function(a){a.isConfirmed&&(null===n||void 0===n||n(),o((0,u.mc)()),i(),w().fire("Silahkan mengisi kembali!"))}))},children:"Reset"})]}),(0,j.jsxs)("div",{className:"text-danger mt-2",children:[(0,j.jsx)(h.Bc,{name:"kejadian__jenis_kejadian_id"}),(0,j.jsx)(h.Bc,{name:"kejadian__jenis_kejadian_selection"})]})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Tanggal Kejadian"}),(0,j.jsx)(h.gN,{name:"kejadian__tanggal",className:"form-control",disabled:l,component:v,onChange:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__tanggal"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Waktu Kejadian"}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)(h.gN,{name:"kejadian__waktu_start",disabled:l,className:"form-control",component:k,onChange:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__waktu_start"})})]}),(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)(h.gN,{name:"kejadian__waktu_end",disabled:l,className:"form-control",component:k,onChange:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__waktu_end"})})]})]})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Kota"}),(0,j.jsx)(h.gN,{name:"kota_selection",target:"kejadian__kota_id",className:"form-control",disabled:l,component:b,options:y,onChange:function(a){o((0,u.w7)(f(a))),s("kecamatan_selection",[]),s("kelurahan_selection",[]),o((0,u.w7)({target:{name:"kecamatan_selection",value:0}})),o((0,u.w7)({target:{name:"kelurahan_selection",value:0}}))}}),(0,j.jsxs)("div",{className:"text-danger mt-2",children:[(0,j.jsx)(h.Bc,{name:"kejadian__kota_id"}),(0,j.jsx)(h.Bc,{name:"kota_selection"})]})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Kecamatan"}),(0,j.jsx)(h.gN,{name:"kecamatan_selection",target:"kejadian__kecamatan_id",className:"form-control",component:b,disabled:l,options:0!==_?C.filter((function(a){return a.kodeKota==="KOBA"+_})):C,onChange:function(a){o((0,u.w7)(f(a))),s("kelurahan_selection",[]),o((0,u.w7)({target:{name:"kelurahan_selection",value:0}}))}}),(0,j.jsxs)("div",{className:"text-danger mt-2",children:[(0,j.jsx)(h.Bc,{name:"kejadian__kecamatan_id"}),(0,j.jsx)(h.Bc,{name:"kecamatan_selection"})]})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Kelurahan"}),(0,j.jsx)(h.gN,{name:"kelurahan_selection",target:"kejadian__kelurahan_id",className:"form-control",component:b,disabled:l,options:0!==_?Z.filter((function(a){return a.kodeKecamatan==="KEC"+N})):Z,onChange:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsxs)("div",{className:"text-danger mt-2",children:[(0,j.jsx)(h.Bc,{name:"kejadian__kelurahan_id"}),(0,j.jsx)(h.Bc,{name:"kelurahan_selection"})]})]}),(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Alamat Lengkap"}),(0,j.jsx)(h.gN,{as:"textarea",name:"kejadian__alamat",disabled:l,className:"form-control",placeholder:"Masukkan Alamat Kejadian",onKeyUp:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__alamat"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Uraian Kejadian"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",disabled:l,name:"kejadian__uraian_kejadian",className:"form-control",placeholder:"Masukkan Uraian Kejadian",onKeyUp:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__uraian_kejadian"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Personil Satpol PP"}),(0,j.jsx)(h.gN,{type:"number",min:"0",disabled:l,name:"kejadian__jml_personil_satpolpp",className:"form-control",onFocus:function(a){return a.target.select()},onInput:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__jml_personil_satpolpp"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Personil Instansi Lain"}),(0,j.jsx)(h.gN,{type:"number",min:"0",disabled:l,name:"kejadian__jml_personil_instansilain",className:"form-control",onFocus:function(a){return a.target.select()},onInput:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__jml_personil_instansilain"})})]}),(0,u.Od)(r)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kejadian__ketinggian_air",className:"required form-label",children:"Ketinggian Air"}),(0,j.jsx)(h.gN,{type:"number",disabled:l,min:"0",name:"kejadian__ketinggian_air",className:"form-control",onFocus:function(a){return a.target.select()},onInput:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__ketinggian_air"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kejadian__pengungsi",className:"required form-label",children:"Jumlah Pengungsi"}),(0,j.jsx)(h.gN,{type:"number",min:"0",disabled:l,name:"kejadian__pengungsi",className:"form-control",onFocus:function(a){return a.target.select()},onInput:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__pengungsi"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Pengungsi Per KK"}),(0,j.jsx)(h.gN,{type:"number",min:"0",disabled:l,name:"kejadian__pengungsi_kk",className:"form-control",onFocus:function(a){return a.target.select()},onInput:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__pengungsi_kk"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Lokasi Penampungan"}),(0,j.jsx)(h.gN,{type:"text",name:"kejadian__lokasi_penampungan",disabled:l,className:"form-control",placeholder:"Masukkan Lokasi Penampungan",onKeyUp:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__lokasi_penampungan"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Lokasi Dapur Umum"}),(0,j.jsx)(h.gN,{type:"text",name:"kejadian__lokasi_dapur_umum",disabled:l,className:"form-control",placeholder:"Masukkan Lokasi Dapur Umum",onKeyUp:function(a){o((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__lokasi_dapur_umum"})})]})]})]})})},P=n(93433),A=(n(16072),n(66776)),S=n(34402),K=n(52394),R=n(85357),T="https://sisappra-uploader-service-v2.tsgitdev.com",B="e773f0a5562eec14ae024af3315c1",E=S.Z.Dragger,F=function(){var a=new Date;return"sisappra."+(a.getFullYear().toString().substring(2)+(a.getMonth()+1).toString().padStart(2,"0")+a.getDate().toString().padStart(2,"0"))+"."+Math.floor(1e5*Math.random())},L=function(a){return new Promise((function(e,n){var t=new FileReader;t.readAsDataURL(a),t.onload=function(){return e(t.result)},t.onerror=function(a){return n(a)}}))},I={name:"file",multiple:!0,accept:"image/*",listType:"picture",beforeUpload:function(a){var e="image/png"===a.type||"image/jpeg"===a.type;return e||K.ZP.error("".concat(a.name," is not a png / jpg file")),e||S.Z.LIST_IGNORE},onDrop:function(a){console.log("Dropped files",a.dataTransfer.files)}},D=function(a){var e=a.maxFile,n=a.path,s=a.change,r=a.slice,o=a.sourceFile,m=a.disabled,u=(0,t.useState)(!1),h=(0,c.Z)(u,2),x=h[0],g=h[1],p=(0,t.useState)(""),f=(0,c.Z)(p,2),_=f[0],v=f[1],k=(0,t.useState)(""),b=(0,c.Z)(k,2),N=b[0],w=b[1],y=o.map((function(a){return{uid:F(),Key:a.key,url:"".concat(T,"/").concat(a.bucket,"/").concat(a.key),status:"stored"}})),C=function(){var a=(0,i.Z)(d().mark((function a(e){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.url||e.preview){a.next=4;break}return a.next=3,L(e.originFileObj);case 3:e.preview=a.sent;case 4:v(e.url||e.preview),w(F()+e.name||F()+e.url.substring(e.url.lastIndexOf("/")+1)),g(!x);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,j.jsxs)("div",{className:"parent mb-8",children:[(0,j.jsxs)(E,(0,l.Z)((0,l.Z)({},I),{},{onPreview:C,onChange:function(a){var e=a.file.status,t=new FormData;if(t.append("bucket","pelaporan"),t.append("path",n),t.append("file",a.file.originFileObj),a.fileList.every((function(a){return"done"===a.status}))){var l=r;if(l=[],a.fileList.length>0)for(var i=0;i<a.fileList.length;i++)l.push({bucket:"pelaporan",key:a.fileList[i].response.Key});else l=[{bucket:"pelaporan",key:""}];s([{file_uploadResult:l,keterangan:r.keterangan}])}"done"===e?K.ZP.success("".concat(a.file.name," file uploaded successfully.")):"error"===e&&(console.log(a.fileList),K.ZP.error("".concat(a.file.name," file upload failed.")))},onRemove:function(a){"done"===a.status?fetch("".concat(T,"/pelaporan/").concat(a.response.Key),{method:"DELETE",headers:{Authorization:"Bearer ".concat(B)}}):"stored"===a.status?fetch("".concat(T,"/pelaporan/").concat(null===a||void 0===a?void 0:a.Key),{method:"DELETE",headers:{Authorization:"Bearer ".concat(B)}}):console.log(a.uid,"file is deleted")},customRequest:function(a){var e=a.file,t=a.onSuccess,s=a.onError;e.status="uploading";var r=new FormData;return r.append("bucket","pelaporan"),r.append("path",n),r.append("file",e),fetch("".concat(T,"/upload"),{method:"POST",body:r,headers:{Authorization:"Bearer ".concat(B)}}).then((function(a){if(a.status>=200&&a.status<=250)return e.status="done",a.json();e.status="error";var n=new Response(a.body,{statusText:"Upload error, coba kembali"});s(n)})).then((function(a){t(a.minioResult)})).catch((function(a){console.error(a),s(a)})),!1},maxCount:e,defaultFileList:1===o.length&&""===o[0].key?"":y,disabled:m,children:[(0,j.jsx)("p",{className:"ant-upload-drag-icon",children:(0,j.jsx)(A.Z,{})}),(0,j.jsx)("p",{className:"ant-upload-text",children:"Click or drag files to this area to upload"}),(0,j.jsxs)("p",{className:"ant-upload-hint",children:["Maximum file to upload is ",e]})]})),(0,j.jsx)(R.Z,{hidden:!0,alt:N,src:_,preview:{visible:x,onVisibleChange:function(a,e){return g(a)}}})]})},U=function(a){var e=a.values,n=a.setFieldValue,s=a.detailState,r=(0,m.I0)(),l=(0,m.v9)((function(a){return a.pelaporanKejadian.tindak__dokumentasi[0]})),i=(0,t.useState)(),o=(0,c.Z)(i,2),d=o[0],x=o[1],g=(0,t.useState)(0),_=(0,c.Z)(g,2),v=_[0],k=_[1],N=(0,t.useState)(0),w=(0,c.Z)(N,2),y=w[0],C=w[1],Z=(0,t.useState)(),A=(0,c.Z)(Z,2),S=A[0],K=A[1],R=(0,t.useState)(0),T=(0,c.Z)(R,2),B=T[0],E=T[1],F=(0,t.useState)(),L=(0,c.Z)(F,2),I=(L[0],L[1]),U=(0,t.useState)(),q=(0,c.Z)(U,2),M=(q[0],q[1]),O=(0,t.useState)(""),J=(0,c.Z)(O,2),V=J[0],W=J[1],H=(0,t.useState)(""),G=(0,c.Z)(H,2),Y=G[0],z=G[1],$=(0,m.v9)((function(a){return a.pelaporanKejadian.list_sumber_informasi})),X=(0,m.v9)((function(a){return a.pelaporanKejadian.list_jenis_kekerasan})),Q=(0,m.v9)((function(a){return a.pelaporanKejadian.list_jenis_bantuan_satpol_pp})),aa=(0,m.v9)((function(a){return a.pelaporanKejadian.list_jenis_bantuan_instansi_terkait})),ea=(0,m.v9)((function(a){return a.pelaporanKejadian.list_korban_jiwa})),na=(0,m.v9)((function(a){return a.pelaporanKejadian.list_korban_material})),ta=null===e||void 0===e?void 0:e.tindak__korban_jiwa,sa=null===e||void 0===e?void 0:e.tindak__korban_material,ra=(0,m.v9)((function(a){return a.pelaporanKejadian.tindak__jenis_bantuan_satpolpp})),la=(0,m.v9)((function(a){return a.pelaporanKejadian.tindak__jenis_bantuan_instansiterkait}));return(0,t.useEffect)((function(){r((0,u.w7)({target:{name:"tindak__korban_jiwa",value:ta}})),r((0,u.w7)({target:{name:"tindak__korban_material",value:sa}}))}),[ta.length,sa.length,ra.length,la.length]),(0,j.jsx)("div",{className:"w-100",children:(0,j.jsxs)("div",{className:"pb-10 pb-lg-15",children:[(0,j.jsx)("h2",{className:"fw-bolder text-dark mb-10",children:"Tindak Lanjut"}),(0,u.dP)(e)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col-5 mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Sumber Informasi"}),(0,j.jsx)(h.gN,{name:"kejadian__sumber_informasi_selection",target:"kejadian__sumber_informasi_id",className:"form-control",component:b,disabled:s,options:$,onChange:function(a){r((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__sumber_informasi_id"})})]})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col-5 mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jenis Kekerasan"}),(0,j.jsx)(h.gN,{name:"kejadian__jenis_kekerasan_selection",target:"kejadian__jenis_kekerasan_id",className:"form-control",disabled:s,component:b,options:X,onChange:function(a){r((0,u.w7)(f(a)))}}),(0,j.jsxs)("div",{className:"text-danger mt-2",children:[(0,j.jsx)(h.Bc,{name:"kejadian__jenis_kekerasan_id"}),(0,j.jsx)(h.Bc,{name:"kejadian__jenis_kekerasan_selection"})]})]})})]}),(0,u.TE)(e)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col-5 mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Massa"}),(0,j.jsx)(h.gN,{type:"number",min:"0",disabled:s,name:"kejadian__jumlah_massa",className:"form-control",onKeyUp:function(a){r((0,u.w7)(f(a)))},placeholder:"Masukkan Jumlah Massa"}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__jumlah_massa"})})]})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col-5 mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Tuntutan"}),(0,j.jsx)(h.gN,{type:"text",name:"kejadian__tuntutan",disabled:s,className:"form-control",onKeyUp:function(a){r((0,u.w7)(f(a)))},placeholder:"Masukkan Tuntutan"}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__tuntutan"})})]})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col-5 mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Penanggung Jawab Unras"}),(0,j.jsx)(h.gN,{type:"text",name:"kejadian__penanggung_jawab_unras",disabled:s,className:"form-control",onKeyUp:function(a){r((0,u.w7)(f(a)))},placeholder:"Masukkan Penanggung Jawab Unras"}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kejadian__penanggung_jawab_unras"})})]})})]}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col-5 mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jenis Bantuan Satpol PP"}),(0,j.jsx)(p.ZP,{name:"tindak__jenis_bantuan_satpolpp",isMulti:!0,isDisabled:s,options:Q,value:Q.filter((function(a){return ra.some((function(e){return e===Number(a.value)}))})),className:"basic-multi-select",onChange:function(a){!function(a){var e=[];if(a.length>0){for(var n=0;n<a.length;n++)e.push(Number(a[n].value));I(e),r((0,u.w7)({target:{name:"tindak__jenis_bantuan_satpolpp",value:e}}))}}(a)}})]})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col-5 mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jenis Bantuan Instansi Terkait"}),(0,j.jsx)(p.ZP,{name:"tindak__jenis_bantuan_instansiterkait",isMulti:!0,isDisabled:s,className:"basic-multi-select",value:aa.filter((function(a){return la.some((function(e){return e===Number(a.value)}))})),options:aa,onChange:function(a){!function(a){var e=[];if(a.length>0){for(var n=0;n<a.length;n++)e.push(Number(a[n].value));M(e),r((0,u.w7)({target:{name:"tindak__jenis_bantuan_instansiterkait",value:e}}))}}(a)}})]})}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-5 form-group",children:(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Korban Jiwa"}),(0,j.jsx)(p.ZP,{defaultValue:V,isDisabled:s,className:"basic-single",classNamePrefix:"select",options:ea.filter((function(a){return!ta.some((function(e){return Number(e.id)===Number(a.value)}))})),onChange:function(a){x(a.value),W(a.label)}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak__korban_jiwa"})})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Korban Pria"}),(0,j.jsx)("input",{type:"number",min:"0",disabled:s,value:v,className:"form-control",onFocus:function(a){return a.target.select()},onChange:function(a){return k(Number(a.target.value))}})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Korban Wanita"}),(0,j.jsx)("input",{type:"number",min:"0",disabled:s,value:y,className:"form-control",onFocus:function(a){return a.target.select()},onChange:function(a){return C(Number(a.target.value))}})]})}),(0,j.jsx)("div",{className:"col-1 mt-8",children:(0,j.jsx)("button",{className:"btn btn-secondary fw-bold",disabled:!V,type:"button",onClick:function(a){a.preventDefault(),n("tindak__korban_jiwa[".concat(ta.length,"].id"),d),n("tindak__korban_jiwa[".concat(ta.length,"].pria"),v),n("tindak__korban_jiwa[".concat(ta.length,"].wanita"),y),x(null),W(""),k(0),C(0)},children:(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[(0,j.jsx)("line",{x1:12,y1:5,x2:12,y2:19}),(0,j.jsx)("line",{x1:5,y1:12,x2:19,y2:12})]})})}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak__korban_jiwa"})})]}),ta.map((function(a,e){var t;return(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-5 form-group",children:(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Korban Jiwa"}),(0,j.jsx)(h.gN,{name:"tindak__korban_jiwa[".concat(e,"].id"),className:"form-control",disabled:!0,value:null===ea||void 0===ea||null===(t=ea.find((function(a){return Number(a.value)===Number(ta[e].id)})))||void 0===t?void 0:t.label})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Korban Pria"}),(0,j.jsx)(h.gN,{type:"number",min:"0",disabled:s,name:"tindak__korban_jiwa[".concat(e,"].pria"),className:"form-control",onFocus:function(a){return a.target.select()},onInput:function(a){r((0,u.w7)(f(a)))}})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Korban Wanita"}),(0,j.jsx)(h.gN,{type:"number",min:"0",disabled:s,name:"tindak__korban_jiwa[".concat(e,"].wanita"),className:"form-control",onInput:function(a){r((0,u.w7)(f(a)))}})]})}),(0,j.jsx)("div",{className:"col-1 mt-8",children:(0,j.jsx)("button",{className:"btn btn-danger fw-bold",type:"button",disabled:s,onClick:function(){var a=(0,P.Z)(ta);a.splice(e,1),n("tindak__korban_jiwa",a)},children:(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minus",children:(0,j.jsx)("line",{x1:5,y1:12,x2:19,y2:12})})})})]},e)})),!(0,u.TE)(e)&&!(0,u.dP)(e)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"row mt-2",children:[(0,j.jsx)("div",{className:"col-5 form-group",children:(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Korban Material"}),(0,j.jsx)(p.ZP,{defaultValue:Y,className:"basic-single",classNamePrefix:"select",isDisabled:s,options:na.filter((function(a){return!sa.some((function(e){return e.id===a.value}))})),onChange:function(a){K(a.value),z(a.label)}})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Korban Material"}),(0,j.jsx)("input",{type:"number",min:"0",disabled:s,value:B,className:"form-control",onFocus:function(a){return a.target.select()},onChange:function(a){return E(Number(a.target.value))}})]})}),(0,j.jsx)("div",{className:"col-1 mt-8",children:(0,j.jsx)("button",{className:"btn btn-secondary fw-bold",disabled:!Y,type:"button",onClick:function(a){a.preventDefault(),n("tindak__korban_material[".concat(sa.length,"].id"),S),n("tindak__korban_material[".concat(sa.length,"].jml"),B),K(null),z(""),E(0)},children:(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[(0,j.jsx)("line",{x1:12,y1:5,x2:12,y2:19}),(0,j.jsx)("line",{x1:5,y1:12,x2:19,y2:12})]})})}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak__korban_material"})})]}),sa.map((function(a,e){var t;return(0,j.jsxs)("div",{className:"row mt-2",children:[(0,j.jsx)("div",{className:"col-5 form-group",children:(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Korban Material"}),(0,j.jsx)(h.gN,{name:"tindak__korban_material[".concat(e,"].id"),className:"form-control",disabled:!0,value:null===na||void 0===na||null===(t=na.find((function(a){return Number(a.value)===Number(sa[e].id)})))||void 0===t?void 0:t.label}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak__korban_material"})})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__jumlah_personil",className:"required form-label",children:"Jumlah Korban Material"}),(0,j.jsx)(h.gN,{type:"number",min:"0",disabled:s,name:"tindak__korban_material[".concat(e,"].jml"),className:"form-control",onFocus:function(a){return a.target.select()},onInput:function(a){r((0,u.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak__korban_material"})})]})}),(0,j.jsx)("div",{className:"col-1 mt-8",children:(0,j.jsx)("button",{className:"btn btn-danger fw-bold",type:"button",disabled:s,onClick:function(){var a=(0,P.Z)(sa);a.splice(e,1),n("tindak__korban_material",a)},children:(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minus",children:(0,j.jsx)("line",{x1:5,y1:12,x2:19,y2:12})})})})]},e)}))]}),(0,j.jsxs)("div",{className:"row mt-2",children:[(0,j.jsx)("label",{className:"required form-label",children:"Dokumentasi"}),(0,j.jsx)("div",{className:"col",children:(0,j.jsx)(D,{maxFile:4,path:"kejadian",slice:l,sourceFile:l.file_uploadResult,change:function(a){r((0,u.w7)({target:{name:"tindak__dokumentasi",value:a}}))}})})]})]})})},q="https://sisappra-service-v2.tsgitdev.com",M=function(){var a=(0,t.useState)(u.CN[0]),e=(0,c.Z)(a,2),n=e[0],r=(e[1],(0,t.useState)(u.E3)),o=(0,c.Z)(r,2),x=o[0],g=o[1],p=(0,t.useState)(!0),f=(0,c.Z)(p,2),_=f[0],v=f[1],k=(0,s.UO)().id,b=(0,m.v9)((function(a){return a.pelaporanKejadian})),N=(0,m.I0)(),y=(0,s.s0)(),P=(0,t.useState)(!1),A=(0,c.Z)(P,2),S=A[0],K=A[1],R=(0,s.TH)().pathname,T=localStorage.getItem("kt-auth-react-v"),B=JSON.parse(T),E=function(){N((0,u.i1)()),N((0,u.nZ)()),N((0,u.KB)()),N((0,u.Lw)()),N((0,u.hF)()),N((0,u.J6)()),N((0,u.D6)()),N((0,u.fN)()),N((0,u.LN)()),N((0,u.yV)())},F=function(){var a=(0,i.Z)(d().mark((function a(){var e,n;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(q,"/kejadian-umum/?%24filter=id%20eq%20").concat(k));case 2:e=a.sent,n=Object.fromEntries(Object.entries(e.data.data[0]).filter((function(a){var e=(0,c.Z)(a,2),n=(e[0],e[1]);return 0!==n&&""!==n&&"0"!==n}))),N((0,u.A_)((0,l.Z)((0,l.Z)({},b),n))),g((0,l.Z)((0,l.Z)({},b),n)),N((0,u.w7)({target:{name:"updated_by",value:B.data.hak_akses}})),v(!1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),L=(0,j.jsxs)("div",{className:"btn btn-primary d-flex align-items-center",children:[(0,j.jsx)("span",{className:"spinner-border spinner-border me-5",role:"status","aria-hidden":"true"}),"Loading..."]});(0,t.useEffect)((function(){E(),-1!==R.indexOf("Detail")&&K(!0),k&&b.list_jenis_kejadian.length>0&&F(),k||N((0,u.w7)({target:{name:"created_by",value:B.data.hak_akses}})),k||v(!1)}),[b.created_by]);var I=function(){var a=(0,i.Z)(d().mark((function a(e,n){var t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!k){a.next=25;break}if(!(0,u.Od)(e)){a.next=8;break}return a.next=5,C().put("".concat(q,"/kejadian-banjir/").concat(k),b);case 5:t=a.sent,a.next=23;break;case 8:if(!(0,u.TE)(e)){a.next=14;break}return a.next=11,C().put("".concat(q,"/kejadian-unjuk-rasa/").concat(k),b);case 11:t=a.sent,a.next=23;break;case 14:if(!(0,u.dP)(e)){a.next=20;break}return a.next=17,C().put("".concat(q,"/kejadian-kekerasan-perak/").concat(k),b);case 17:t=a.sent,a.next=23;break;case 20:return a.next=22,C().put("".concat(q,"/kejadian-umum/").concat(k),b);case 22:t=a.sent;case 23:a.next=46;break;case 25:if(!(0,u.Od)(e)){a.next=31;break}return a.next=28,C().post("".concat(q,"/kejadian-banjir"),b);case 28:t=a.sent,a.next=46;break;case 31:if(!(0,u.dP)(e)){a.next=37;break}return a.next=34,C().post("".concat(q,"/kejadian-kekerasan-perak"),b);case 34:t=a.sent,a.next=46;break;case 37:if(!(0,u.TE)(e)){a.next=43;break}return a.next=40,C().post("".concat(q,"/kejadian-unjuk-rasa"),b);case 40:t=a.sent,a.next=46;break;case 43:return a.next=45,C().post("".concat(q,"/kejadian-umum"),b);case 45:t=a.sent;case 46:t&&(n.setSubmitting(!1),w().fire({icon:"success",text:"Data berhasil disubmit",showConfirmButton:!1,timer:1500,color:"#000000"}),k||(n.resetForm(u.E3),N((0,u.mc)()),E(),y(-1))),a.next=53;break;case 49:a.prev=49,a.t0=a.catch(0),w().fire({icon:"error",title:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(a.t0);case 53:case"end":return a.stop()}}),a,null,[[0,49]])})));return function(e,n){return a.apply(this,arguments)}}();return(0,j.jsx)(j.Fragment,{children:_?L:(0,j.jsx)(h.J9,{validationSchema:n,initialValues:k?x:u.E3,enableReinitialize:!0,onSubmit:I,children:function(a){var e=a.handleReset,n=(a.handleSubmit,a.errors,a.values),t=a.setFieldValue;return(0,j.jsx)(h.l0,{className:"mx-auto w-100 pt-15 pb-10",id:"pelaporan_kejadian_form",children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"card",children:(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsxs)("ul",{className:"nav nav-tabs nav-line-tabs mb-5 fs-6",children:[(0,j.jsx)("li",{className:"nav-item",children:(0,j.jsx)("a",{className:"nav-link active","data-bs-toggle":"tab",href:"#kt_tab_pane_1",children:"KEJADIAN"})}),(0,j.jsx)("li",{className:"nav-item",children:(0,j.jsx)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#kt_tab_pane_2",children:"TINDAK LANJUT"})})]}),(0,j.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[(0,j.jsx)("div",{className:"tab-pane fade show active",id:"kt_tab_pane_1",role:"tabpanel",children:(0,j.jsx)(Z,{values:n,handleReset:e,listMasterKejadianValue:E,allValues:b,detailState:S,setFieldValue:t})}),(0,j.jsx)("div",{className:"tab-pane fade",id:"kt_tab_pane_2",role:"tabpanel",children:(0,j.jsx)(U,{values:n,setFieldValue:t,detailState:S})})]})]})}),(0,j.jsx)("div",{className:"card mt-5",children:(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"row w-100",children:[(0,j.jsx)("div",{className:"col"}),(0,j.jsx)("div",{className:"col",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("button",{type:"button",onClick:function(){return y(-1)},className:"col-5 btn btn-flex btn-secondary px-6 m-3",children:[(0,j.jsx)("span",{className:"svg-icon svg-icon-2x",children:(0,j.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,j.jsxs)("span",{className:"d-flex flex-column align-items-start ms-2",children:[(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Kembali"}),(0,j.jsx)("span",{className:"fs-7",children:"ke Halaman Utama"})]})]}),!S&&(0,j.jsxs)("button",{type:"submit",className:"col-5 btn btn-flex btn-primary px-6 m-3",children:[(0,j.jsx)("span",{className:"svg-icon svg-icon-2x",children:(0,j.jsx)("i",{className:"fa-solid fa-paper-plane"})}),(0,j.jsx)("span",{className:"d-flex flex-column align-items-start ms-2",children:k?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Simpan"}),(0,j.jsx)("span",{className:"fs-7",children:"Perubahan"})]}):(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Kirim Laporan"})})]})]})})]})})})]})})}})})},O=n(73100),J=n(33959),V="https://sisappra-master-data-service-v2.tsgitdev.com",W=function(a){a.handleChange;var e=a.values,n=(a.handleBlur,a.handleReset,a.listMasterPengawasanValue),s=a.detailState,r=(0,m.I0)();(0,t.useEffect)((function(){r((0,O.KB)()),r((0,O.nZ)()),r((0,O.Lw)()),n()}),[]),console.log(e);var o=(0,t.useState)({value:null,label:""}),u=(0,c.Z)(o,2),x=u[0],g=u[1],p=function(){var a=(0,i.Z)(d().mark((function a(e){var n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get(V+"/kota/"+e);case 2:return n=a.sent,a.next=5,n.data.data;case 5:return t=a.sent,a.abrupt("return",t.map((function(a){return{label:a.name,value:a.id}})));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),_=(0,t.useState)({id:""}),b=(0,c.Z)(_,2),N=b[0],w=b[1],y=(0,t.useState)({value:null,label:""}),Z=(0,c.Z)(y,2),P=Z[0],A=Z[1],S=function(){var a=(0,i.Z)(d().mark((function a(e){var n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(V,"/kecamatan?filter_kecamatan=").concat(parseInt(N.id)).concat(""!==e&&"&nama=".concat(e)));case 2:return n=a.sent,a.next=5,n.data.data;case 5:return t=a.sent,a.abrupt("return",t.map((function(a){return{label:a.nama,value:a.id}})));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),K=(0,t.useState)({id:""}),R=(0,c.Z)(K,2),T=R[0],B=R[1],E=(0,t.useState)({value:null,label:""}),F=(0,c.Z)(E,2),L=F[0],I=F[1],D=function(){var a=(0,i.Z)(d().mark((function a(e){var n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(V,"/kelurahan?filter_kelurahan=").concat(parseInt(T.id)).concat(""!==e&&"&nama=".concat(e)));case 2:return n=a.sent,a.next=5,n.data.data;case 5:return t=a.sent,a.abrupt("return",t.map((function(a){return{label:a.nama,value:a.id}})));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,j.jsx)("div",{className:"w-50",children:(0,j.jsxs)("div",{className:"pb-10 pb-lg-15",children:[(0,j.jsx)("h2",{className:"fw-bolder text-dark mb-10",children:"Reklame"}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Tanggal Pengawasan"}),(0,j.jsx)(h.gN,{name:"tgl_pengecekan",className:"form-control",disabled:s,component:v,onChange:function(a){r((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tgl_pengecekan"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Waktu Pengawasan"}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)(h.gN,{name:"waktu_pengawasan",disabled:s,className:"form-control",component:k,onChange:function(a){r((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"waktu_pengawasan"})})]})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Kota"}),(0,j.jsx)(J.Z,{value:x.value?x:{value:"",label:"Pilih Kota"},loadOptions:function(a,e){setTimeout((0,i.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,p(a);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},defaultOptions:!0,onChange:function(a){g((function(e){return(0,l.Z)((0,l.Z)({},e),a)})),w((function(e){return(0,l.Z)((0,l.Z)({},e),{},{id:a.value})}))},placeholder:"Pilih",loadingMessage:function(){return"Sedang mencari pilihan..."},noOptionsMessage:function(){return"Ketik untuk mencari pilihan..."}}),(0,j.jsxs)("div",{className:"text-danger mt-2",children:[(0,j.jsx)(h.Bc,{name:"kota"}),(0,j.jsx)(h.Bc,{name:"kota_selection"})]})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Kecamatan"}),(0,j.jsx)(J.Z,{loadOptions:function(a,e){setTimeout((0,i.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,S(a);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},value:P.value?P:{value:"",label:"Pilih Kecamatan"},onChange:function(a){A((function(e){return(0,l.Z)((0,l.Z)({},e),a)})),B((function(e){return(0,l.Z)((0,l.Z)({},e),{},{id:a.value})}))},name:"filter_kecamatan",noOptionsMessage:function(){return"Ketik untuk mencari pilihan..."}}),(0,j.jsxs)("div",{className:"text-danger mt-2",children:[(0,j.jsx)(h.Bc,{name:"kecamatan"}),(0,j.jsx)(h.Bc,{name:"kecamatan_selection"})]})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Kelurahan"}),(0,j.jsx)(J.Z,{loadOptions:function(a,e){setTimeout((0,i.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,D(a);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},value:L.value?L:{value:"",label:"Pilih Kelurahan"},onChange:function(a){I((function(e){return(0,l.Z)((0,l.Z)({},e),a)}))},name:"filter_kelurahan",noOptionsMessage:function(){return"Ketik untuk mencari pilihan..."}}),(0,j.jsxs)("div",{className:"text-danger mt-2",children:[(0,j.jsx)(h.Bc,{name:"kelurahan"}),(0,j.jsx)(h.Bc,{name:"kelurahan_selection"})]})]}),(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Alamat Lengkap"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"alamat",className:"form-control",disabled:s,placeholder:"Masukkan Alamat Lengkap",onKeyUp:function(a){r((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"keterangan"})})]})]})})},H=function(a){var e=a.detailState,n=(0,m.I0)(),t=(0,m.v9)((function(a){return a.pelaporanPengawasan.list_kawasan_kendali})),s=(0,m.v9)((function(a){return a.pelaporanPengawasan.list_jenis_reklame})),r=(0,m.v9)((function(a){return a.pelaporanPengawasan.list_status_reklame})),l=(0,m.v9)((function(a){return a.pelaporanPengawasan.tindak_dokumentasi[0]}));return(0,j.jsx)("div",{className:"w-100",children:(0,j.jsxs)("div",{className:"pb-10 pb-lg-15",children:[(0,j.jsx)("h2",{className:"fw-bolder text-dark mb-10",children:"Tindak Lanjut"}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-6 form-group",children:(0,j.jsx)("div",{className:"mb-10 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__jumlah_personil",className:"required form-label",children:"Posisi Reklame"}),(0,j.jsx)(h.gN,{type:"text",name:"share_location",disabled:e,className:"form-control",onKeyUp:function(a){n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"lokasi_tiang"})})]})})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__jumlah_personil",className:"required form-label",children:"Latitude"}),(0,j.jsx)(h.gN,{type:"number",name:"lokasi_tiang",className:"form-control",disabled:e,onKeyUp:function(a){n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"lokasi_tiang"})})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__jumlah_personil",className:"required form-label",children:"Longtitude"}),(0,j.jsx)(h.gN,{type:"number",name:"longtitude",disabled:e,className:"form-control",onKeyUp:function(a){n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"lokasi_tiang"})})]})})]}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col-6 mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Kawasan Kendali"}),(0,j.jsx)(h.gN,{name:"kawasan_kendali_selection",target:"kawasan_kendali",className:"form-control",disabled:e,component:b,options:t,onChange:function(a){console.log(a),n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kawasan_kendali_selection"})})]})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col-6 mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jenis Reklame"}),(0,j.jsx)(h.gN,{name:"jenis_reklame_selection",target:"jenis_reklame",className:"form-control",component:b,disabled:e,options:s,onChange:function(a){n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"jenis_reklame_selection"})})]})}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-6 form-group",children:(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Status Reklame"}),(0,j.jsx)(h.gN,{name:"status_reklame_selection",target:"status_reklame",className:"form-control",disabled:e,component:b,options:r,onChange:function(a){n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"status_reklame_selection"})})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__jumlah_personil",className:"required form-label",children:"Pemilik Reklame"}),(0,j.jsx)(h.gN,{type:"text",name:"pemilik_reklame",className:"form-control",disabled:e,onKeyUp:function(a){n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"pemilik_reklame"})})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__jumlah_personil",className:"required form-label",children:"Pemilik Kontruksi"}),(0,j.jsx)(h.gN,{type:"text",name:"konstruksi_reklame",disabled:e,className:"form-control",onKeyUp:function(a){n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__jumlah_personil"})})]})})]}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-6 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__jumlah_personil",className:"required form-label",children:"Konten Iklan"}),(0,j.jsx)(h.gN,{type:"text",name:"konten_iklan",className:"form-control",disabled:e,onKeyUp:function(a){n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"konten_iklan"})})]})}),(0,j.jsx)("div",{className:"col-3 form-group",children:(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__jumlah_personil",className:"required form-label",children:"Ukuran"}),(0,j.jsx)(h.gN,{type:"number",name:"ukuran",className:"form-control",disabled:e,onKeyUp:function(a){n((0,O.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"ukuran"})})]})})]}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"pb-10 pb-lg-15",children:[(0,j.jsx)("h2",{className:"fw-bolder text-dark mb-10",children:"Dokumentasi"}),(0,j.jsx)(D,{maxFile:4,path:"pengawasan",slice:l,sourceFile:l.file_uploadResult,disabled:e,change:function(a){n((0,O.w7)({target:{name:"tindak_dokumentasi",value:a}}))}})]})})]})})},G={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_LAYOUT_CONFIG_KEY:"metronic-react-demo1-8100",REACT_APP_API_URL:"https://preview.keenthemes.com/metronic8/laravel/api",REACT_APP_VERSION:"v8.1.0",REACT_APP_THEME_NAME:"Metornic",REACT_APP_THEME_DEMO:"demo1",REACT_APP_BOOTSTRAP_DOCS_LINK:"https://getbootstrap.com/docs/5.0",REACT_APP_SASS_PATH:"src/_metronic/assets/sass/core/components",REACT_APP_SASS_VARIABLES_PATH:"src/_metronic/assets/sass/core/components/_variables.scss",REACT_APP_PURCHASE_URL:"https://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469",REACT_APP_PREVIEW_URL:"https://preview.keenthemes.com/metronic8/react/demo1/",REACT_APP_PREVIEW_REACT_URL:"https://preview.keenthemes.com/metronic8/react",REACT_APP_PREVIEW_DOCS_URL:"https://preview.keenthemes.com/metronic8/react/docs",REACT_APP_THEME_API_URL:"https://preview.keenthemes.com/theme-api/api",REACT_APP_SISAPPRA_API_URL:"https://sisappra-be.tsgitdev.com",REACT_APP_SISAPPRA_MASTERDATA_API_URL:"https://sisappra-master-data-service-v2.tsgitdev.com",REACT_APP_SISAPPRA_PELAPORAN_API_URL:"https://sisappra-service-v2.tsgitdev.com",REACT_APP_SISAPPRA_PELAPORAN_UPLOAD_URL:"https://sisappra-uploader-service-v2.tsgitdev.com",REACT_APP_SISAPPRA_PELAPORAN_UPLOAD_TOKEN:"e773f0a5562eec14ae024af3315c1",REACT_APP_RECAPTCHA_SITE_KEY:"6LeY5hAjAAAAANRE7la_kwyyzR3cyyFvre6sKvBn",REACT_APP_RECAPTCHA_SITE_TEST_KEY:"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"}.REACT_APP_SISAPPRA_PELAPORAN_PELAPORAN_URL,Y=function(){var a=(0,t.useState)(O.f8[0]),e=(0,c.Z)(a,2),n=e[0],r=(e[1],(0,s.UO)().id),o=(0,s.s0)(),u=(0,m.I0)(),x=(0,m.v9)((function(a){return a.pelaporanPengawasan})),g=(0,t.useState)(!0),p=(0,c.Z)(g,2),f=p[0],_=p[1],v=(0,t.useState)(O.E3),k=(0,c.Z)(v,2),b=k[0],N=k[1],y=(0,t.useState)(!1),Z=(0,c.Z)(y,2),P=Z[0],A=Z[1],S=(0,s.TH)().pathname,K=function(){var a=(0,i.Z)(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:u((0,O.nZ)()),u((0,O.KB)()),u((0,O.Lw)()),u((0,O.Bt)()),u((0,O.an)()),u((0,O.iu)());case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),R=localStorage.getItem("kt-auth-react-v"),T=JSON.parse(R),B=function(){var a=(0,i.Z)(d().mark((function a(){var e,n;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(G,"/reklame/?%24filter=id%20eq%20").concat(r));case 2:e=a.sent,n=Object.fromEntries(Object.entries(e.data.data[0]).filter((function(a){var e=(0,c.Z)(a,2),n=(e[0],e[1]);return 0!==n&&""!==n&&"0"!==n}))),u((0,O.A_)((0,l.Z)((0,l.Z)({},x),n))),N((0,l.Z)((0,l.Z)({},x),n)),u((0,O.w7)({target:{name:"updated_by",value:T.data.hak_akses}})),_(!1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),E=(0,j.jsxs)("div",{className:"btn btn-primary d-flex align-items-center",children:[(0,j.jsx)("span",{className:"spinner-border spinner-border me-5",role:"status","aria-hidden":"true"}),"Loading..."]});(0,t.useEffect)((function(){K(),-1!==S.indexOf("Detail")&&A(!0),r||_(!1)}),[]),(0,t.useEffect)((function(){r&&x.list_kota.length>0&&x.list_kecamatan.length>0&&x.list_kelurahan.length>0&&B()}),[x.list_kecamatan.length,x.list_kota.length,x.list_kelurahan.length]),(0,t.useEffect)((function(){r||(u((0,O.w7)({target:{name:"created_by",value:T.data.hak_akses}})),_(!1))}),[x.created_by]);var F=function(){var a=(0,i.Z)(d().mark((function a(e,n){var t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!r){a.next=7;break}return a.next=4,C().put("".concat(G,"/reklame/").concat(r),x);case 4:t=a.sent,a.next=10;break;case 7:return a.next=9,C().post("".concat(G,"/reklame/"),x);case 9:t=a.sent;case 10:t&&(console.log("laststep",e),n.setSubmitting(!1),w().fire({icon:"success",text:"Data berhasil disubmit",showConfirmButton:!1,timer:1500,color:"#000000"}),n.resetForm(O.E3),u((0,O.mc)()),K(),o(-1)),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),w().fire({icon:"error",title:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,n){return a.apply(this,arguments)}}();return(0,j.jsx)(j.Fragment,{children:f?E:(0,j.jsx)(h.J9,{validationSchema:n,initialValues:r?b:O.E3,enableReinitialize:!0,onSubmit:F,children:function(a){var e=a.handleReset,n=(a.handleSubmit,a.errors,a.values),t=a.setFieldValue;return(0,j.jsx)(h.l0,{className:"mx-auto w-100 pt-15 pb-10",id:"pelaporan_pengawasan_form",children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"card",children:(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsxs)("ul",{className:"nav nav-tabs nav-line-tabs mb-5 fs-6",children:[(0,j.jsx)("li",{className:"nav-item",children:(0,j.jsx)("a",{className:"nav-link active","data-bs-toggle":"tab",href:"#kt_tab_pane_1",children:"REKLAME"})}),(0,j.jsx)("li",{className:"nav-item",children:(0,j.jsx)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#kt_tab_pane_2",children:"TINDAK LANJUT"})})]}),(0,j.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[(0,j.jsx)("div",{className:"tab-pane fade show active",id:"kt_tab_pane_1",role:"tabpanel",children:(0,j.jsx)(W,{values:n,handleReset:e,listMasterPengawasanValue:K,detailState:P})}),(0,j.jsx)("div",{className:"tab-pane fade",id:"kt_tab_pane_2",role:"tabpanel",children:(0,j.jsx)(H,{setFieldValue:t,detailState:P})})]})]})}),(0,j.jsx)("div",{className:"card mt-5",children:(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"row w-100",children:[(0,j.jsx)("div",{className:"col"}),(0,j.jsx)("div",{className:"col",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("button",{type:"button",onClick:function(){return o(-1)},className:"col-5 btn btn-flex btn-secondary px-6 m-3",children:[(0,j.jsx)("span",{className:"svg-icon svg-icon-2x",children:(0,j.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,j.jsxs)("span",{className:"d-flex flex-column align-items-start ms-2",children:[(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Kembali"}),(0,j.jsx)("span",{className:"fs-7",children:"ke Halaman Utama"})]})]}),(0,j.jsxs)("button",{type:"submit",className:"col-5 btn btn-flex btn-primary px-6 m-3",children:[(0,j.jsx)("span",{className:"svg-icon svg-icon-2x",children:(0,j.jsx)("i",{className:"fa-solid fa-paper-plane"})}),(0,j.jsx)("span",{className:"d-flex flex-column align-items-start ms-2",children:(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Simpan"})})]})]})})]})})})]})})}})})},z=n(79050),$=function(a){a.handleChange,a.values,a.handleBlur,a.handleReset,a.allValues;var e=a.detailState,n=(0,m.I0)();return(0,j.jsx)("div",{className:"w-50",children:(0,j.jsxs)("div",{className:"pb-10 pb-lg-15",children:[(0,j.jsx)("h2",{className:"fw-bolder text-dark mb-10",children:"Tamu Daerah"}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Tanggal Kunjungan"}),(0,j.jsx)(h.gN,{name:"tanggal_kunjungan",className:"form-control",component:v,onChange:function(a){n((0,z.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tanggal_kunjungan"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Waktu Kunjungan"}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)(h.gN,{name:"waktu_mulai_kunjungan",className:"form-control",component:k,onChange:function(a){n((0,z.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"waktu_mulai_kunjungan"})})]}),(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)(h.gN,{name:"waktu_selesai_kunjungan",className:"form-control",component:k,onChange:function(a){n((0,z.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"waktu_selesai_kunjungan"})})]})]})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Asal Instansi"}),(0,j.jsx)(h.gN,{type:"text",name:"asal_instansi",className:"form-control",disabled:e,placeholder:"Masukkan asal instansi",onKeyUp:function(a){n((0,z.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"asal_instansi"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Pengunjung"}),(0,j.jsx)(h.gN,{type:"number",min:"0",name:"jml_pengunjung",className:"form-control",disabled:e,placeholder:"Masukkan Jumlah Pengunjung",onFocus:function(a){return a.target.select()},onInput:function(a){n((0,z.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"jml_pengunjung"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Maksud dan Tujuan"}),(0,j.jsx)(h.gN,{type:"text",name:"maksud_dan_tujuan",className:"form-control",disabled:e,placeholder:"Masukkan Maksud dan Tujuan",onKeyUp:function(a){n((0,z.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"maksud_dan_tujuan"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Pejabat Penerima Kunjungan"}),(0,j.jsx)(h.gN,{type:"text",name:"pejabat_penerima_kunjungan",className:"form-control",disabled:e,placeholder:"Masukkan Pejabat Penerima Kunjungan",onKeyUp:function(a){n((0,z.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"pejabat_penerima_kunjungan"})})]}),(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Tempat Kunjungan"}),(0,j.jsx)(h.gN,{type:"text",name:"tempat_kunjungan",className:"form-control",disabled:e,placeholder:"Masukkan Tempat Kunjungan",onKeyUp:function(a){n((0,z.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tempat_kunjungan"})})]})]})})},X="https://sisappra-service-v2.tsgitdev.com",Q=function(){var a=(0,t.useState)(z.R6[0]),e=(0,c.Z)(a,2),n=e[0],r=(e[1],(0,t.useState)(z.E3)),o=(0,c.Z)(r,2),u=o[0],x=o[1],g=(0,t.useState)(!0),p=(0,c.Z)(g,2),f=p[0],_=p[1],v=(0,t.useState)(!1),k=(0,c.Z)(v,2),b=k[0],N=k[1],y=(0,s.UO)().id,Z=(0,s.TH)().pathname,P=(0,s.s0)(),A=(0,m.I0)(),S=(0,m.v9)((function(a){return a.pelaporanTamuDaerah})),K=localStorage.getItem("kt-auth-react-v"),R=JSON.parse(K),T=function(){var a=(0,i.Z)(d().mark((function a(){var e,n;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(X,"/tamu-daerah/?%24filter=id%20eq%20").concat(y));case 2:e=a.sent,n=Object.fromEntries(Object.entries(e.data.data[0]).filter((function(a){var e=(0,c.Z)(a,2),n=(e[0],e[1]);return 0!==n&&""!==n&&"0"!==n}))),A((0,z.A_)((0,l.Z)((0,l.Z)({},S),n))),x((0,l.Z)((0,l.Z)({},S),n)),A((0,z.w7)({target:{name:"updated_by",value:R.data.hak_akses}})),_(!1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),B=(0,j.jsxs)("div",{className:"btn btn-primary d-flex align-items-center",children:[(0,j.jsx)("span",{className:"spinner-border spinner-border me-5",role:"status","aria-hidden":"true"}),"Loading..."]});(0,t.useEffect)((function(){y&&T(),y||(A((0,z.w7)({target:{name:"created_by",value:R.data.hak_akses}})),_(!1)),-1!==Z.indexOf("Detail")&&N(!0)}),[S.created_by]);var E=function(){var a=(0,i.Z)(d().mark((function a(e,n){var t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!y){a.next=7;break}return a.next=4,C().put("".concat(X,"/tamu-daerah/").concat(y),S);case 4:t=a.sent,a.next=10;break;case 7:return a.next=9,C().post("".concat(X,"/tamu-daerah"),S);case 9:t=a.sent;case 10:t&&(n.setSubmitting(!1),y||(n.resetForm(z.E3),A((0,z.mc)())),w().fire({icon:"success",text:"Data berhasil disubmit",showConfirmButton:!1,timer:1500,color:"#000000"})),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(0),w().fire({icon:"error",title:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e,n){return a.apply(this,arguments)}}();return(0,j.jsx)(j.Fragment,{children:f?B:(0,j.jsx)(h.J9,{validationSchema:n,initialValues:y?u:z.E3,onSubmit:E,children:function(a){var e=a.handleReset,n=(a.handleSubmit,a.errors,a.values);a.setFieldValue;return(0,j.jsx)(h.l0,{className:"mx-auto w-100 pt-15 pb-10",id:"pelaporan_tamu_daerah_form",children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"card",children:(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsx)("ul",{className:"nav nav-tabs nav-line-tabs mb-5 fs-6",children:(0,j.jsx)("li",{className:"nav-item",children:(0,j.jsx)("a",{className:"nav-link active","data-bs-toggle":"tab",href:"#kt_tab_pane_1",children:"TAMU DAERAH"})})}),(0,j.jsx)("div",{className:"tab-content",id:"myTabContent",children:(0,j.jsx)("div",{className:"tab-pane fade show active",id:"kt_tab_pane_1",role:"tabpanel",children:(0,j.jsx)($,{values:n,handleReset:e,allValues:S,detailState:b})})})]})}),(0,j.jsx)("div",{className:"card mt-5",children:(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"row w-100",children:[(0,j.jsx)("div",{className:"col"}),(0,j.jsx)("div",{className:"col",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("button",{type:"button",onClick:function(){return P(-1)},className:"col-5 btn btn-flex btn-secondary px-6 m-3",children:[(0,j.jsx)("span",{className:"svg-icon svg-icon-2x",children:(0,j.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,j.jsx)("span",{className:"d-flex flex-column align-items-start ms-2",children:(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Kembali"})})]}),!b&&(0,j.jsxs)("button",{type:"submit",className:"col-5 btn btn-flex btn-primary px-6 m-3",children:[(0,j.jsx)("span",{className:"svg-icon svg-icon-2x",children:(0,j.jsx)("i",{className:"fa-solid fa-paper-plane"})}),(0,j.jsx)("span",{className:"d-flex flex-column align-items-start ms-2",children:(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Simpan"})})]})]})})]})})})]})})}})})},aa=n(63004),ea=function(a){a.handleChange,a.handleBlur;var e,n=a.handleReset,s=a.values,r=a.listMasterJenisValue,l=a.allValues,i=a.detailState,c=(0,m.I0)(),o=(0,m.v9)((function(a){return a.pelaporanKegiatan.list_jenis_kegiatan})),d=(0,m.v9)((function(a){return a.pelaporanKegiatan.kegiatan__jenis_kegiatan_id})),u=null===(e=s.kegiatan__jenis_kegiatan_selection)||void 0===e?void 0:e.label,x=(0,m.v9)((function(a){return a.pelaporanKegiatan.list_jenis_asal_laporan})),g=(0,m.v9)((function(a){return a.pelaporanKegiatan.list_jenis_pengamanan}));return(0,t.useEffect)((function(){(0,aa.PU)(s)&&c((0,aa.AG)()),(0,aa.hj)(s)&&c((0,aa.b$)()),(0,aa.un)(s)&&c((0,aa.G5)()),(0,aa.sP)(s)&&c((0,aa.wW)())}),[u]),(0,j.jsx)("div",{className:"w-50",children:(0,j.jsxs)("div",{className:"pb-10 pb-lg-15",children:[(0,j.jsx)("h1",{className:"fw-bolder text-dark mb-10",children:"Kegiatan"}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jenis Kegiatan"}),(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)("div",{className:"w-100 me-2",children:(0,j.jsx)(h.gN,{name:"kegiatan__jenis_kegiatan_selection",target:"kegiatan__jenis_kegiatan_id",className:"form-control",disabled:s.id||0!==d,component:b,options:o,onChange:function(a){var e=[a.target.value,l];c((0,aa.GS)(e)),c((0,aa.w7)(f(a)))}})}),(0,j.jsx)("button",{className:"btn ".concat(s.id||0===d?"btn-secondary":"btn-outline-danger btn-outline","  btn-sm"),type:"reset",disabled:s.id||0===d,onClick:function(){w().fire({title:"Apakah anda yakin?",text:"Anda akan mereset seluruh form yang telah anda isi di halaman ini!",icon:"warning",showCancelButton:!0,cancelButtonText:"Tidak, kembali",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, lanjut!"}).then((function(a){a.isConfirmed&&(null===n||void 0===n||n(),c((0,aa.mc)()),r(),w().fire("Silahkan mengisi kembali!"))}))},children:"Reset"})]}),(0,j.jsxs)("div",{className:"text-danger mt-2",children:[(0,j.jsx)(h.Bc,{name:"kegiatan__jenis_kegiatan_id"}),(0,j.jsx)(h.Bc,{name:"kegiatan__jenis_kegiatan_selection"})]})]}),((0,aa.PU)(s)||(0,aa.hj)(s))&&(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:(0,aa.PU)(s)?"Asal Laporan":"Jenis Pengamanan"}),(0,j.jsx)(h.gN,{name:(0,aa.PU)(s)?"kegiatan__asal_laporan_selection":"kegiatan__jenis_pengamanan_selection",target:(0,aa.PU)(s)?"kegiatan__asal_laporan_id":"kegiatan__jenis_pengamanan_id",className:"form-control",component:b,disabled:i,options:(0,aa.PU)(s)?x:g,onChange:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,aa.PU)(s)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h.Bc,{name:"kegiatan__asal_laporan_id"}),(0,j.jsx)(h.Bc,{name:"kegiatan__asal_laporan_selection"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h.Bc,{name:"kegiatan__jenis_pengamanan_id"}),(0,j.jsx)(h.Bc,{name:"kegiatan__jenis_pengamanan_selection"})]})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Personil"}),(0,j.jsx)(h.gN,{type:"number",min:"0",name:"kegiatan__jumlah_personil",className:"form-control",disabled:i,onFocus:function(a){return a.target.select()},onInput:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__jumlah_personil"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Uraian Kegiatan"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"kegiatan__uraian_kegiatan",className:"form-control",disabled:i,onKeyUp:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__uraian_kegiatan"})})]}),(0,aa.hj)(s)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__masalah",className:"required form-label",children:"Masalah"}),(0,j.jsx)(h.gN,{type:"text",name:"kegiatan__masalah",className:"form-control",disabled:i,onKeyUp:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__masalah"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__pemecahan_masalah",className:"required form-label",children:"Pemecahan Masalah"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"kegiatan__pemecahan_masalah",className:"form-control",disabled:i,onKeyUp:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__pemecahan_masalah"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{htmlFor:"kegiatan__instansi_terkait",className:"required form-label",children:"Instansi Terkait"}),(0,j.jsx)(h.gN,{type:"text",name:"kegiatan__instansi_terkait",className:"form-control",disabled:i,onKeyUp:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__instansi_terkait"})})]})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Tanggal Kegiatan"}),(0,j.jsx)(h.gN,{name:"kegiatan__tanggal",className:"form-control",disabled:i,component:v,onChange:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__tanggal"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Waktu Kegiatan"}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)(h.gN,{name:"kegiatan__jam_start",className:"form-control",disabled:i,component:k,onChange:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__jam_start"})})]}),(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)(h.gN,{name:"kegiatan__jam_end",className:"form-control",disabled:i,component:k,onChange:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__jam_end"})})]})]})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Lokasi Kegiatan"}),(0,j.jsx)(h.gN,{type:"text",name:"kegiatan__lokasi",className:"form-control",disabled:i,onKeyUp:function(a){c((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"kegiatan__lokasi"})})]})]})})},na=function(a){var e=a.values,n=a.setFieldValue,s=a.allValues,r=a.detailState,l=(0,m.I0)(),i=(0,t.useState)(""),o=(0,c.Z)(i,2),d=o[0],u=o[1],x=(0,t.useState)(0),g=(0,c.Z)(x,2),p=g[0],_=g[1],k=(0,t.useState)(0),N=(0,c.Z)(k,2),w=N[0],y=N[1],C=(0,m.v9)((function(a){return a.pelaporanKegiatan.list_detail_jenis_pasal_kegiatan})),Z=(0,m.v9)((function(a){return a.pelaporanKegiatan.list_detail_jenis_pasal_penyelesaian})),A=(0,m.v9)((function(a){return a.pelaporanKegiatan.list_jenis_penindakan})),S=(0,m.v9)((function(a){return a.pelaporanKegiatan.list_jenis_proses_khusus})),K=(0,m.v9)((function(a){return a.pelaporanKegiatan.list_jenis_usaha})),R=(0,m.v9)((function(a){return a.pelaporanKegiatan.list_jenis_pelanggaran_bangunan})),T=(0,m.v9)((function(a){return a.pelaporanKegiatan.tindak_lanjut__jenis_penindakan_id})),B=(0,m.v9)((function(a){return(0,aa.un)(e)?a.pelaporanKegiatan.tindak_lanjut__denda__pengadilan:a.pelaporanKegiatan.tindak_lanjut__denda__non_pengadilan})),E=null===e||void 0===e?void 0:e.tindak_lanjut__jumlah_minol_merk;return(0,t.useEffect)((function(){if(E.length>0){var a=E.map((function(a){return a.jumlah})).reduce((function(a,e){return a+e}));y(a)}l((0,aa.w7)({target:{name:"tindak_lanjut__jumlah_minol_merk",value:E}}))}),[E]),(0,j.jsx)("div",{className:"w-100",children:(0,j.jsxs)("div",{className:"pb-10 pb-lg-15",children:[(0,j.jsx)("h1",{className:"fw-bolder text-dark mb-10",children:"Tindak Lanjut"}),(0,j.jsx)("h3",{className:"fw-bolder text-dark",children:"ADMINISTRASI"}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jenis Pasal"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__administrasi__jenis_pasal_selection",target:"tindak_lanjut__administrasi__jenis_pasal_id",className:"form-control",disabled:r,component:b,options:C.length>0?C:"",onChange:function(a){var e=[a.target.value,s],t=C.filter((function(e){return e.value===a.target.value}));l((0,aa.Ou)(e)),l((0,aa.w7)(f(a))),n("tindak_lanjut__administrasi__jenis_penertiban",t[0].penertiban),n("tindak_lanjut__administrasi__jenis_pelanggaran",t[0].pelanggaran),n("tindak_lanjut__administrasi__perda_perkada",t[0].perda),l((0,aa.w7)({target:{name:"tindak_lanjut__administrasi__jenis_penertiban",value:t[0].penertiban}})),l((0,aa.w7)({target:{name:"tindak_lanjut__administrasi__jenis_pelanggaran",value:t[0].pelanggaran}})),l((0,aa.w7)({target:{name:"tindak_lanjut__administrasi__perda_perkada",value:t[0].perda}}))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__administrasi__jenis_pasal_id"})})]}),(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jenis Penertiban"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"tindak_lanjut__administrasi__jenis_penertiban",className:"form-control",placeholder:"Pilih Jenis Pasal di Dropdown diatas",disabled:!0}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__administrasi__jenis_penertiban"})})]}),(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jenis Pelanggaran"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"tindak_lanjut__administrasi__jenis_pelanggaran",className:"form-control text-wrap",placeholder:"Pilih Jenis Pasal di Dropdown diatas",disabled:!0}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__administrasi__jenis_pelanggaran"})})]}),(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"PERDA / PERKADA yang dilanggar"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__administrasi__perda_perkada",className:"form-control text-wrap",placeholder:"Pilih Jenis Pasal di Dropdown diatas",disabled:!0}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__administrasi__perda_perkada"})})]})]}),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("div",{className:"col",children:[(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Penyelesaian"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__administrasi__penyelesaian_selection",target:"tindak_lanjut__administrasi__penyelesaian_id",className:"form-control",disabled:r,component:b,options:Z.length>0?Z:"",onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__administrasi__penyelesaian_id"})})]}),(0,aa.un)(e)&&(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Proses Khusus"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__administrasi__penyelesaian_khusus_selection",target:"tindak_lanjut__administrasi__penyelesaian_khusus_id",className:"form-control",disabled:r,component:b,options:S.length>0?S:"",onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__administrasi__penyelesaian_khusus_id"})})]})]}),(0,j.jsx)("div",{className:"col",children:!(0,aa.sP)(e)&&(0,j.jsxs)(j.Fragment,{children:[(0,aa.un)(e)?(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Tanggal Sidang"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__sidang__tanggal",className:"form-control",disabled:r,component:v,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__sidang__tanggal"})})]}):(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Penindakan"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__jenis_penindakan_selection",target:"tindak_lanjut__jenis_penindakan_id",className:"form-control",disabled:r,component:b,options:A,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__jenis_penindakan_id"})})]}),(0,aa.un)(e)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Pelanggar Hadir Sidang"}),(0,j.jsx)(h.gN,{type:"number",min:"0",name:"tindak_lanjut__sidang__jumlah_pelanggar_hadir",className:"form-control",disabled:r,onFocus:function(a){return a.target.select()},onInput:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__sidang__jumlah_pelanggar_hadir"})})]}),(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Pelanggar Tidak Hadir Sidang"}),(0,j.jsx)(h.gN,{type:"number",min:"0",name:"tindak_lanjut__sidang__jumlah_pelanggar_tidak_hadir",className:"form-control",disabled:r,onFocus:function(a){return a.target.select()},onInput:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__sidang__jumlah_pelanggar_tidak_hadir"})})]}),(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Pelanggar Verstek"}),(0,j.jsx)(h.gN,{type:"number",min:"0",name:"tindak_lanjut__sidang__jumlah_pelanggar_verstek",className:"form-control",disabled:r,onFocus:function(a){return a.target.select()},onInput:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__sidang__jumlah_pelanggar_verstek"})})]})]}):(0,aa.ES)(e)?(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"form-label",children:"Volume Minol"}),(0,j.jsx)("div",{className:"input-group",children:(0,j.jsx)("input",{type:"number",value:w,className:"form-control",disabled:!0})})]}):(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Jumlah Pelanggar / Penindakan"}),(0,j.jsx)(h.gN,{type:"number",min:"0",name:"tindak_lanjut__jumlah_pelanggar",className:"form-control",disabled:r,onFocus:function(a){return a.target.select()},onInput:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__jumlah_pelanggar"})})]})})]})})]})}),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"row mt-5",children:[(0,j.jsxs)("div",{className:"col",children:[(0,j.jsx)("h3",{className:"fw-bolder text-dark",children:"IDENTITAS NAMA / USAHA"}),(0,aa.sP)(e)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Nama Pemilik"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__identitas_pelanggar__nama_pemilik",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__nama_pemilik"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"NIK / Paspport"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__identitas_pelanggar__nik",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__nik"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Alamat Pelanggar"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"tindak_lanjut__identitas_pelanggar__alamat",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__alamat"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Luas Bongkaran"}),(0,j.jsxs)("div",{className:"input-group",children:[(0,j.jsx)(h.gN,{type:"number",min:"0",name:"tindak_lanjut__identitas_pelanggar__luas_bongkaran",className:"form-control",disabled:r,onFocus:function(a){return a.target.select()},onInput:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("span",{className:"input-group-text",children:"M2"})]}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__luas_bongkaran"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Jenis Usaha / Tempat"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__identitas_pelanggar__jenis_usaha_selection",target:"tindak_lanjut__identitas_pelanggar__jenis_usaha_id",className:"form-control",disabled:r,component:b,options:K,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__jenis_usaha_id"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Alamat Usaha / Tempat"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"tindak_lanjut__identitas_pelanggar__alamat_tempat_usaha",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__alamat_tempat_usaha"})})]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"required form-label",children:"Nomor BAP"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__identitas_pelanggar__no_bap",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__no_bap"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Nama / Penanggungjawab"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__identitas_pelanggar__nama_penanggung_jawab",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__nama_penanggung_jawab"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Nama Usaha / Tempat"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__identitas_pelanggar__nama_tempat_usaha",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__nama_tempat_usaha"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Alamat Usaha / Tempat"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"tindak_lanjut__identitas_pelanggar__alamat_tempat_usaha",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__alamat_tempat_usaha"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"NIK / Paspport"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__identitas_pelanggar__nik",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__nik"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Alamat Pelanggar"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"tindak_lanjut__identitas_pelanggar__alamat",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__alamat"})})]}),!(0,aa.ES)(e)&&(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Jenis Usaha / Tempat"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__identitas_pelanggar__jenis_usaha_selection",target:"tindak_lanjut__identitas_pelanggar__jenis_usaha_id",className:"form-control",disabled:r,component:b,options:K,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__identitas_pelanggar__jenis_usaha_id"})})]})]})]}),(0,j.jsxs)("div",{className:"col",children:[!((0,aa.sP)(e)||(0,aa.ES)(e))&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"form-group",children:(0,j.jsx)("h3",{className:"fw-bolder text-dark",children:"JUMLAH DENDA"})}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:"form-label",children:(0,aa.un)(e)||1===T?"Denda Pengadilan":"Denda Non Pengadilan"}),(0,j.jsxs)("div",{className:"input-group",children:[(0,j.jsx)("span",{className:"input-group-text w-50",children:B.toLocaleString("id-ID",{style:"currency",currency:"IDR"})}),(0,j.jsx)(h.gN,{type:"number",name:(0,aa.un)(e)||1===T?"tindak_lanjut__denda__pengadilan":"tindak_lanjut__denda__non_pengadilan",className:"form-control w-50",disabled:r,step:"500",onFocus:function(a){return a.target.select()},onInput:function(a){l((0,aa.w7)(f(a)))}})]}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:(0,aa.un)(e)||1===T?"tindak_lanjut__denda__pengadilan":"tindak_lanjut__denda__non_pengadilan"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Tanggal Setor"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__denda__tanggal_setor",className:"form-control",disabled:r,component:v,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__denda__tanggal_setor"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Nama Bank"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__denda__nama_bank",className:"form-control",disabled:r,onBlur:function(a){l((0,aa.w7)(f(a)))},onChange:function(a){n("tindak_lanjut__denda__nama_bank",a.target.value.toUpperCase())}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__denda__nama_bank"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"No Validasi Bank"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__denda__no_validasi_bank",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__denda__no_validasi_bank"})})]})]}),(0,aa.sP)(e)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"form-group",children:(0,j.jsx)("h3",{className:"fw-bolder text-dark",children:"REKOMENDASI CITATA"})}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Jenis Pelanggaran Bangunan"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__rekom_citata__jenis_pelanggaran_selection",target:"tindak_lanjut__rekom_citata__jenis_pelanggaran_id",className:"form-control",disabled:r,component:b,options:R,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__jenis_pelanggaran_id"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Nomor SP"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__rekom_citata__no_sp",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__no_sp"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Tanggal SP"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__rekom_citata__tanggal_no_sp",className:"form-control",disabled:r,component:v,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__tanggal_no_sp"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Nomor Segel"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__rekom_citata__no_segel",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__no_segel"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Tanggal Segel"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__rekom_citata__tanggal_segel",className:"form-control",disabled:r,component:v,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__tanggal_segel"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Nomor SPB"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__rekom_citata__no_spb",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__no_spb"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Tanggal SPB"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__rekom_citata__tanggal_spb",className:"form-control",disabled:r,component:v,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__tanggal_spb"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Nomor Rekomtek"}),(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__rekom_citata__no_rekomtek",className:"form-control",disabled:r,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__no_rekomtek"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Tanggal Rekomtek"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__rekom_citata__tanggal_rekomtek",className:"form-control",disabled:r,component:v,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__tanggal_rekomtek"})})]}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Tanggal Peninjauan Lapangan"}),(0,j.jsx)(h.gN,{name:"tindak_lanjut__rekom_citata__tanggal_peninjauan_lapangan",className:"form-control",disabled:r,component:v,onChange:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__rekom_citata__tanggal_peninjauan_lapangan"})})]})]}),(0,aa.ES)(e)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{className:"fw-bolder text-dark",children:"Jenis Merk Minol"}),(0,j.jsxs)("div",{className:"form-group mb-10",children:[(0,j.jsx)("label",{className:" form-label",children:"Nama dan jumlah minol"}),(0,j.jsxs)("div",{className:"input-group",children:[(0,j.jsx)("input",{type:"text",value:d,className:"form-control w-50 me-4",onChange:function(a){return u(a.target.value)}}),(0,j.jsx)("input",{type:"number",min:"0",value:p,className:"form-control ",onFocus:function(a){return a.target.select()},onChange:function(a){return _(Number(a.target.value))}}),(0,j.jsx)("button",{className:"btn btn-secondary fw-bold",disabled:0===p||!d,type:"button",onClick:function(a){a.preventDefault(),n("tindak_lanjut__jumlah_minol_merk[".concat(E.length,"].merk"),d),n("tindak_lanjut__jumlah_minol_merk[".concat(E.length,"].jumlah"),p),u(""),_(0)},children:(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",children:[(0,j.jsx)("line",{x1:12,y1:5,x2:12,y2:19}),(0,j.jsx)("line",{x1:5,y1:12,x2:19,y2:12})]})})]}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"tindak_lanjut__jumlah_minol_merk"})})]}),E.map((function(a,e){return(0,j.jsx)("div",{className:"form-group mb-10",children:(0,j.jsxs)("div",{className:"input-group",children:[(0,j.jsx)(h.gN,{type:"text",name:"tindak_lanjut__jumlah_minol_merk[".concat(e,"].merk"),className:"form-control w-50 me-4",disabled:!0,onKeyUp:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)(h.gN,{type:"number",min:"0",name:"tindak_lanjut__jumlah_minol_merk[".concat(e,"].jumlah"),className:"form-control ",onFocus:function(a){return a.target.select()},onInput:function(a){l((0,aa.w7)(f(a)))}}),(0,j.jsx)("button",{className:"btn btn-danger fw-bold",type:"button",onClick:function(){var a=(0,P.Z)(E);a.splice(e,1),n("tindak_lanjut__jumlah_minol_merk",a)},children:(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minus",children:(0,j.jsx)("line",{x1:5,y1:12,x2:19,y2:12})})})]})},e)}))]})]})]})})]})})},ta=function(a){var e=a.detailState,n=(0,m.I0)(),t=(0,m.v9)((function(a){return a.pelaporanKegiatan.dokumentasi[0]}));return(0,j.jsx)("div",{className:"w-100",children:(0,j.jsxs)("div",{className:"pb-10 pb-lg-15",children:[(0,j.jsx)("h2",{className:"fw-bolder text-dark mb-10",children:"Dokumentasi"}),(0,j.jsx)(D,{maxFile:4,path:"kegiatan",slice:t,disabled:e,sourceFile:t.file_uploadResult,change:function(a){n((0,aa.w7)({target:{name:"dokumentasi",value:a}}))}}),(0,j.jsxs)("div",{className:"mb-10 form-group",children:[(0,j.jsx)("label",{className:"required form-label",children:"Keterangan"}),(0,j.jsx)(h.gN,{as:"textarea",type:"text",name:"dokumentasi[0].keterangan",className:"form-control",disabled:e,placeholder:"Masukkan Keterangan",onKeyUp:function(a){f(a),n((0,aa.w7)({target:{name:"dokumentasi",value:[{file_uploadResult:t.file_uploadResult,keterangan:a.target.value}]}}))}}),(0,j.jsx)("div",{className:"text-danger mt-2",children:(0,j.jsx)(h.Bc,{name:"keterangan"})})]})]})})},sa="https://sisappra-service-v2.tsgitdev.com",ra=function(){var a=(0,t.useState)(aa.V8[0]),e=(0,c.Z)(a,2),n=e[0],r=(e[1],(0,t.useState)(aa.E3)),o=(0,c.Z)(r,2),u=o[0],x=o[1],g=(0,t.useState)(!0),p=(0,c.Z)(g,2),f=p[0],_=p[1],v=(0,t.useState)(!1),k=(0,c.Z)(v,2),b=k[0],N=k[1],y=(0,s.UO)().id,Z=(0,s.TH)().pathname,P=(0,s.s0)(),A=(0,m.I0)(),S=(0,m.v9)((function(a){return a.pelaporanKegiatan})),K=function(){var a=(0,i.Z)(d().mark((function a(){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:A((0,aa.Vd)()),A((0,aa.gk)()),A((0,aa.X$)()),A((0,aa.mU)()),A((0,aa.n5)()),y||A((0,aa.w7)({target:{name:"created_by",value:T.data.hak_akses}}));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),R=localStorage.getItem("kt-auth-react-v"),T=JSON.parse(R),B=function(){var a=(0,i.Z)(d().mark((function a(){var e,n;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(sa,"/kegiatan-umum/?%24filter=id%20eq%20").concat(y));case 2:e=a.sent,n=Object.fromEntries(Object.entries(e.data.data[0]).filter((function(a){var e=(0,c.Z)(a,2),n=(e[0],e[1]);return 0!==n&&""!==n&&"0"!==n}))),A((0,aa.A_)((0,l.Z)((0,l.Z)({},S),n))),x((0,l.Z)((0,l.Z)({},S),n)),A((0,aa.w7)({target:{name:"updated_by",value:T.data.hak_akses}})),_(!1);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),E=(0,j.jsxs)("div",{className:"btn btn-primary d-flex align-items-center",children:[(0,j.jsx)("span",{className:"spinner-border spinner-border me-5",role:"status","aria-hidden":"true"}),"Loading..."]});(0,t.useEffect)((function(){K(),-1!==Z.indexOf("Detail")&&N(!0),y||_(!1)}),[]),(0,t.useEffect)((function(){y&&S.list_jenis_kegiatan.length>0&&S.list_detail_jenis_pasal.length>0&&S.list_jenis_penyelesaian.length>0&&B()}),[S.list_detail_jenis_pasal.length,S.list_jenis_kegiatan.length,S.list_jenis_penyelesaian.length]),(0,t.useEffect)((function(){S.kegiatan__jenis_kegiatan_id>0&&S.list_detail_jenis_pasal.length>0&&(A((0,aa.GS)([S.kegiatan__jenis_kegiatan_id,S])),A((0,aa.Ou)([S.tindak_lanjut__administrasi__jenis_pasal_id,S])))}),[S.kegiatan__jenis_kegiatan_id]);var F=function(){var a=(0,i.Z)(d().mark((function a(e,n){var t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!y){a.next=43;break}if(!(0,aa.hj)(e)){a.next=8;break}return a.next=5,C().put("".concat(sa,"/kegiatan-pengamanan/").concat(y),S);case 5:t=a.sent,a.next=41;break;case 8:if(!(0,aa.PU)(e)){a.next=14;break}return a.next=11,C().put("".concat(sa,"/kegiatan-masyarakat/").concat(y),S);case 11:t=a.sent,a.next=41;break;case 14:if(!(0,aa.gp)(e)){a.next=20;break}return a.next=17,C().put("".concat(sa,"/kegiatan-ppkm/").concat(y),S);case 17:t=a.sent,a.next=41;break;case 20:if(!(0,aa.un)(e)){a.next=26;break}return a.next=23,C().put("".concat(sa,"/kegiatan-sidang-tipiring/").concat(y),S);case 23:t=a.sent,a.next=41;break;case 26:if(!(0,aa.sP)(e)){a.next=32;break}return a.next=29,C().put("".concat(sa,"/kegiatan-penertiban-bangunan/").concat(y),S);case 29:t=a.sent,a.next=41;break;case 32:if(!(0,aa.ES)(e)){a.next=38;break}return a.next=35,C().put("".concat(sa,"/kegiatan-penertiban-minol/").concat(y),S);case 35:t=a.sent,a.next=41;break;case 38:return a.next=40,C().put("".concat(sa,"/kegiatan-umum/").concat(y),S);case 40:t=a.sent;case 41:a.next=82;break;case 43:if(!(0,aa.hj)(e)){a.next=49;break}return a.next=46,C().post("".concat(sa,"/kegiatan-pengamanan"),S);case 46:t=a.sent,a.next=82;break;case 49:if(!(0,aa.PU)(e)){a.next=55;break}return a.next=52,C().post("".concat(sa,"/kegiatan-masyarakat"),S);case 52:t=a.sent,a.next=82;break;case 55:if(!(0,aa.gp)(e)){a.next=61;break}return a.next=58,C().post("".concat(sa,"/kegiatan-ppkm"),S);case 58:t=a.sent,a.next=82;break;case 61:if(!(0,aa.un)(e)){a.next=67;break}return a.next=64,C().post("".concat(sa,"/kegiatan-sidang-tipiring"),S);case 64:t=a.sent,a.next=82;break;case 67:if(!(0,aa.sP)(e)){a.next=73;break}return a.next=70,C().post("".concat(sa,"/kegiatan-penertiban-bangunan"),S);case 70:t=a.sent,a.next=82;break;case 73:if(!(0,aa.ES)(e)){a.next=79;break}return a.next=76,C().post("".concat(sa,"/kegiatan-penertiban-minol"),S);case 76:t=a.sent,a.next=82;break;case 79:return a.next=81,C().post("".concat(sa,"/kegiatan-umum"),S);case 81:t=a.sent;case 82:t&&(n.setSubmitting(!1),w().fire({icon:"success",text:"Data berhasil disubmit",showConfirmButton:!1,timer:1500,color:"#000000"}),y||(n.resetForm(aa.E3),A((0,aa.mc)()),K(),P(-1))),a.next=89;break;case 85:a.prev=85,a.t0=a.catch(0),w().fire({icon:"error",title:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(a.t0);case 89:case"end":return a.stop()}}),a,null,[[0,85]])})));return function(e,n){return a.apply(this,arguments)}}();return(0,j.jsx)(j.Fragment,{children:f?E:(0,j.jsx)(h.J9,{validationSchema:n,initialValues:y?u:aa.E3,enableReinitialize:!0,onSubmit:F,children:function(a){var e=a.handleReset,n=(a.handleSubmit,a.errors,a.values),t=a.setFieldValue;return(0,j.jsx)(h.l0,{className:"mx-auto w-100 pt-15 pb-10",id:"pelaporan_kegiatan_form",children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"card",children:(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsxs)("ul",{className:"nav nav-tabs nav-line-tabs mb-5 fs-6",children:[(0,j.jsx)("li",{className:"nav-item",children:(0,j.jsx)("a",{className:"nav-link active","data-bs-toggle":"tab",href:"#kt_tab_pane_1",children:"KEGIATAN"})}),!(0,aa.mx)(n)&&(0,j.jsx)("li",{className:"nav-item",children:(0,j.jsx)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#kt_tab_pane_2",children:"TINDAK LANJUT"})}),(0,j.jsx)("li",{className:"nav-item",children:(0,j.jsx)("a",{className:"nav-link","data-bs-toggle":"tab",href:"#kt_tab_pane_3",children:"DOKUMENTASI"})})]}),(0,j.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[(0,j.jsx)("div",{className:"tab-pane fade show active",id:"kt_tab_pane_1",role:"tabpanel",children:(0,j.jsx)(ea,{values:n,handleReset:e,listMasterJenisValue:K,allValues:S,detailState:b})}),(0,j.jsx)("div",{className:"tab-pane fade",id:"kt_tab_pane_2",role:"tabpanel",children:(0,j.jsx)(na,{values:n,setFieldValue:t,allValues:S,detailState:b})}),(0,j.jsx)("div",{className:"tab-pane fade",id:"kt_tab_pane_3",role:"tabpanel",children:(0,j.jsx)(ta,{detailState:b})})]})]})}),(0,j.jsx)("div",{className:"card mt-5",children:(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"row w-100",children:[(0,j.jsx)("div",{className:"col"}),(0,j.jsx)("div",{className:"col",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsxs)("button",{type:"button",onClick:function(){return P(-1)},className:"col-5 btn btn-flex btn-secondary px-6 m-3",children:[(0,j.jsx)("span",{className:"svg-icon svg-icon-2x",children:(0,j.jsx)("i",{className:"fa-solid fa-arrow-left"})}),(0,j.jsxs)("span",{className:"d-flex flex-column align-items-start ms-2",children:[(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Kembali"}),(0,j.jsx)("span",{className:"fs-7",children:"ke Halaman Utama"})]})]}),!b&&(0,j.jsxs)("button",{type:"submit",className:"col-5 btn btn-flex btn-primary px-6 m-3",children:[(0,j.jsx)("span",{className:"svg-icon svg-icon-2x",children:(0,j.jsx)("i",{className:"fa-solid fa-paper-plane"})}),(0,j.jsx)("span",{className:"d-flex flex-column align-items-start ms-2",children:y?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Simpan"}),(0,j.jsx)("span",{className:"fs-7",children:"Perubahan"})]}):(0,j.jsx)("span",{className:"fs-3 fw-bold",children:"Kirim Laporan"})})]})]})})]})})})]})})}})})},la=n(43504),ia=n(29546),ca=n(56144),oa=n(70636),da=n(43513),ma=n(24216),ua=n(1025),ha="https://sisappra-service-v2.tsgitdev.com",xa=function(a){return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,j.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,j.jsx)("div",{className:"d-flex flex-column",children:(0,j.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})},ga=function(a){var e=(0,ua.unparse)(a),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.setAttribute("download","LAPORAN KEGIATAN.csv"),document.body.appendChild(t),t.click(),t.remove()},pa=function(a){var e=a.data,n=a.totalRows,t=a.handlePerRowsChange,r=a.handlePageChange,l=a.loading,i=a.jenisKegiatanList,c=a.hakAkses,o=a.wilayahBidang,d=a.theme,m=((0,s.s0)(),function(a){var e=a.row,n=i.find((function(a){return a.value===e}));return(0,j.jsx)(j.Fragment,{children:null===n||void 0===n?void 0:n.text})}),u=function(a){var e=a.row,n=c.find((function(a){return a.id===e}));return(0,j.jsx)(j.Fragment,{children:null===n||void 0===n?void 0:n.nama_hak_akses})},h=function(a){var e=a.row,n=c.find((function(a){return a.id===e})),t=o.find((function(a){return a.id===(null===n||void 0===n?void 0:n.wilayah_bidang)}));return(0,j.jsx)(j.Fragment,{children:null===t||void 0===t?void 0:t.nama})},x=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Pelaksana",wrap:!0,width:"200px",selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(u,{row:parseInt(a.pelaksana)})}},{name:"Tanggal Kegiatan",width:"140px",selector:function(a){return a.tanggal_kegiatan}},{name:"Waktu Mulai",width:"140px",selector:function(a){return a.waktu_mulai}},{name:"Waktu Selesai",width:"140px",selector:function(a){return a.waktu_selesai}},{name:"Jenis Kegiatan",width:"140px",selector:function(a){return a.jenis_kegiatan},cell:function(a){return(0,j.jsx)(m,{row:parseInt(a.jenis_kegiatan)})}},{name:"Uraian Kegiatan",width:"200px",wrap:!0,selector:function(a){return a.uraian_kegiatan}},{name:"Wilayah",width:"140px",wrap:!0,selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(h,{row:parseInt(a.pelaksana)})}},{name:"Lokasi",width:"140px",wrap:!0,selector:function(a){return a.lokasi}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return ga(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:x,data:e,progressPending:l,pagination:!0,paginationServer:!0,progressComponent:(0,j.jsx)(xa,{}),paginationTotalRows:n,onChangeRowsPerPage:t,onChangePage:r,theme:d})]})},ja=function(a){var e=a.data,n=a.totalRows,r=a.handlePerRowsChange,l=a.handlePageChange,i=a.loading,c=a.jenisKegiatanList,o=a.hakAkses,d=a.wilayahBidang,m=a.konfirDel,u=a.theme,h=(0,s.s0)(),x=function(a){var e=a.row,n=c.find((function(a){return a.value===e}));return(0,j.jsx)(j.Fragment,{children:null===n||void 0===n?void 0:n.text})},g=function(a){var e=a.row,n=o.find((function(a){return a.id===e}));return(0,j.jsx)(j.Fragment,{children:null===n||void 0===n?void 0:n.nama_hak_akses})},p=function(a){var e=a.row,n=o.find((function(a){return a.id===e})),t=d.find((function(a){return a.id===(null===n||void 0===n?void 0:n.wilayah_bidang)}));return(0,j.jsx)(j.Fragment,{children:null===t||void 0===t?void 0:t.nama})},f=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Pelaksana",wrap:!0,width:"200px",selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(g,{row:parseInt(a.pelaksana)})}},{name:"Tanggal Kegiatan",width:"140px",selector:function(a){return a.tanggal_kegiatan}},{name:"Waktu Mulai",width:"140px",selector:function(a){return a.waktu_mulai}},{name:"Waktu Selesai",width:"140px",selector:function(a){return a.waktu_selesai}},{name:"Jenis Kegiatan",width:"140px",selector:function(a){return a.jenis_kegiatan},cell:function(a){return(0,j.jsx)(x,{row:parseInt(a.jenis_kegiatan)})}},{name:"Uraian Kegiatan",width:"200px",wrap:!0,selector:function(a){return a.uraian_kegiatan}},{name:"Wilayah",width:"140px",wrap:!0,selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(p,{row:parseInt(a.pelaksana)})}},{name:"Lokasi",width:"140px",wrap:!0,selector:function(a){return a.lokasi}},{name:"Aksi",sortable:!1,className:"action",center:!0,allowOverflow:!0,fixed:!0,cell:function(a){return(0,j.jsx)(t.Fragment,{children:(0,j.jsx)("div",{className:"d-flex mb-2 mt-2 flex-end",children:[ia.Z].map((function(e,n){return(0,j.jsxs)(e,{as:ca.Z,id:"dropdown-button-drop-".concat(n),size:"sm",variant:"light",title:"Aksi",children:[(0,j.jsx)(oa.Z.Item,{onClick:function(){return h("/pelaporan/DetailLaporanKegiatan/"+a.id)},children:"Detail"}),(0,j.jsx)(oa.Z.Item,{onClick:function(){return h("/pelaporan/UbahLaporanKegiatan/"+a.id)},children:"Ubah"}),(0,j.jsx)(oa.Z.Item,{href:"#",onClick:function(){return m(a.id)},children:"Hapus"})]},n)}))})})}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return ga(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:f,data:e,progressPending:i,pagination:!0,paginationServer:!0,progressComponent:(0,j.jsx)(xa,{}),paginationTotalRows:n,onChangeRowsPerPage:r,onChangePage:l,theme:u})]})},fa=function(a){var e=a.data,n=(a.totalRows,a.handlePerRowsChange,a.handlePageChange,a.loading,a.jenisKegiatanList,a.hakAkses,a.wilayahBidang,a.theme,function(a){var e=a.row,n=a.jenis,s=(0,t.useState)(0),r=(0,c.Z)(s,2),l=r[0],o=r[1];return(0,t.useEffect)((function(){function a(){return a=(0,i.Z)(d().mark((function a(e,n){var t,s,r;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(ha,"/kegiatan-umum/?%24filter=created_by%20eq%20%27").concat(e,"%27%20and%20tindak_lanjut__administrasi__penyelesaian_id%20eq%20").concat(n));case 2:t=a.sent,s=t.data,r=s.total_items,console.log(r),o(r);case 7:case"end":return a.stop()}}),a)}))),a.apply(this,arguments)}!function(e,n){a.apply(this,arguments)}(e,n)}),[]),(0,j.jsx)(j.Fragment,{children:l})}),s=function(a){var e=a.row,n=a.jenis,s=(0,t.useState)(0),r=(0,c.Z)(s,2),l=r[0],o=r[1];return(0,t.useEffect)((function(){function a(){return a=(0,i.Z)(d().mark((function a(e,n){var t,s,r;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(ha,"/kegiatan-umum/?%24filter=created_by%20eq%20%27").concat(e,"%27%20and%20tindak_lanjut__jenis_penindakan_id%20eq%20").concat(n));case 2:t=a.sent,s=t.data,r=s.total_items,console.log(r),o(r);case 7:case"end":return a.stop()}}),a)}))),a.apply(this,arguments)}!function(e,n){a.apply(this,arguments)}(e,n)}),[]),(0,j.jsx)(j.Fragment,{children:l})},r=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Bidang/Wilayah",wrap:!0,width:"200px",sortable:!0,selector:function(a){return a.pelaksana}},{name:"Peringatan",selector:function(a){return a.tanggal_kegiatan},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:27})}},{name:"Penghalauan",selector:function(a){return a.waktu_kegiatan},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:17})}},{name:"Teguran Tertulis",selector:function(a){return a.uraian_kegiatan},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:31})}},{name:"Penyegelan",selector:function(a){return a.wilayah},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:24})}},{name:"Pembongkaran",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:10})}},{name:"Ditertibkan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:5})}},{name:"Pemusnahan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:13})}},{name:"Penghentian Kegiatan Sementara 1x24jam",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:19})}},{name:"Penghentian Kegiatan Sementara 3x24jam",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:20})}},{name:"Penghentian Kegiatan Sementara 7x24jam",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:21})}},{name:"Pencabutan Izin",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:15})}},{name:"Pembekuan Sementara Izin",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:8})}},{name:"Pembubaran",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:11})}},{name:"Pengusiran",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:22})}},{name:"Razia",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:29})}},{name:"Penjemputan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:23})}},{name:"Penangkapan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:14})}},{name:"Penyitaan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:26})}},{name:"Pembersihan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:9})}},{name:"Pencopotan/Pelepasan/Pencabutan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:16})}},{name:"Penyidikan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:25})}},{name:"Kerja Sosial",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:6})}},{name:"Denda Administratif",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:3})}},{name:"Terbit Izin",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:33})}},{name:"Dikembalikan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:4})}},{name:"Belum Ditertibkan",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:36})}},{name:"Lain-lain",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:39})}},{name:"Tidak Ditemukan Pelanggaran",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(n,{row:a.no,jenis:42})}},{name:"Pengadilan (Yustitusi)",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(s,{row:a.no,jenis:1})}},{name:"Non Pengadilan (PPKM)",selector:function(a){return a.lokasi},cell:function(a){return(0,j.jsx)(s,{row:a.no,jenis:2})}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return ga(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:r,data:e,pagination:!0})]})},_a=n(43360),va=n(10589),ka=n(21493);(0,da.jG)("darkMetro",{text:{primary:"#92929f",secondary:"#92929f"},background:{default:"#1e1e2e"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#2b2c41"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");var ba=va.t.getSystemMode(),Na={input:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#5e6278"})},menu:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},container:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},indicatorsContainer:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#cccccc"})},indicatorSeparator:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#cccccc"})},control:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)",boxShadow:"0 0 0 1px #f5f8fa"})},singleValue:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278"})},option:function(a){return(0,l.Z)((0,l.Z)({},a),{},{height:"100%",backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})}},wa={input:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#92929f"})},menu:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},container:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},indicatorsContainer:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#92929f"})},indicatorSeparator:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#92929f"})},control:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)",boxShadow:"0 0 0 1px #1b1b29"})},singleValue:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f"})},option:function(a){return(0,l.Z)((0,l.Z)({},a),{},{height:"100%",backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})}},ya="https://sisappra-be.tsgitdev.com",Ca="https://sisappra-service-v2.tsgitdev.com",Za="".concat(ya,"/master"),Pa="".concat(ya,"/manajemen-pengguna"),Aa=function(){var a=(0,s.s0)(),e=(0,ka.rB)().mode,n="system"===e?ba:e,r=((0,m.I0)(),(0,t.useState)({strparam:""})),o=(0,c.Z)(r,2),u=o[0],h=o[1],x=(0,t.useState)(0),g=(0,c.Z)(x,2),p=g[0],f=g[1],_=(0,t.useState)([]),v=(0,c.Z)(_,2),k=v[0],b=v[1],N=localStorage.getItem("kt-auth-react-v"),y=JSON.parse(N).data.hak_akses,Z=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(ya,"/manajemen-pengguna/hak-akses/findone/").concat(y));case 2:e=a.sent,b(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,t.useEffect)((function(){Z()}),[]),(0,t.useEffect)((function(){var a,e,n;return null!==k&&void 0!==k&&null!==(a=k.nama_hak_akses)&&void 0!==a&&a.toLowerCase().includes("admin")?f(1):null!==k&&void 0!==k&&null!==(e=k.nama_hak_akses)&&void 0!==e&&e.toLowerCase().includes("kepala satpol pp dki")?f(2):null!==k&&void 0!==k&&null!==(n=k.nama_hak_akses)&&void 0!==n&&n.toLowerCase().includes("kepala")?f(0):f(3)}),[k]);var P=(0,t.useState)([]),A=(0,c.Z)(P,2),S=(A[0],A[1]),K=(0,t.useState)([]),R=(0,c.Z)(K,2),T=(R[0],R[1]),B=(0,t.useState)([]),E=(0,c.Z)(B,2),F=(E[0],E[1]),L=(0,t.useState)([]),I=(0,c.Z)(L,2),D=(I[0],I[1]),U=(0,t.useState)([]),q=(0,c.Z)(U,2),M=(q[0],q[1]),O=function(){var a=(0,i.Z)(d().mark((function a(){var e,n,t,s,r,l,i,c,o,m;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Za,"/kota/find"));case 2:return e=a.sent,a.next=5,C().get("".concat(Za,"/kecamatan/find"));case 5:return n=a.sent,a.next=8,C().get("".concat(Za,"/kelurahan/find"));case 8:return t=a.sent,a.next=11,C().get("".concat(Za,"/jenis-penertiban/find"));case 11:return s=a.sent,a.next=14,C().get("".concat(Za,"/jenis-perda-perkada/find"));case 14:r=a.sent,l=e.data.data.map((function(a){return{label:a.kota,value:String(a.kode_kota)}})),i=n.data.data.map((function(a){return{label:a.kecamatan,value:String(a.kode_kecamatan)}})),c=t.data.data.map((function(a){return{label:a.kelurahan,value:String(a.kode_kelurahan)}})),o=s.data.data.map((function(a){return{label:a.jenis_penertiban,value:String(a.kode)}})),m=r.data.data.map((function(a){return{label:a.judul,value:String(a.id)}})),S(l),T(i),F(c),D(o),M(m);case 25:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,t.useEffect)((function(){O(),$a(),ne()}),[]);var V=(0,t.useState)({val:""}),W=(0,c.Z)(V,2),H=W[0],G=W[1],Y=(0,t.useState)({val:""}),z=(0,c.Z)(Y,2),$=z[0],X=z[1],Q=function(a){G({val:a.target.value})},aa=function(a){X({val:a.target.value})},ea=(0,t.useState)([]),na=(0,c.Z)(ea,2),ta=na[0],sa=na[1],ra=(0,t.useState)({value:"",label:""}),ia=(0,c.Z)(ra,2),ca=ia[0],oa=ia[1],da=function(){var a=(0,i.Z)(d().mark((function a(e){var n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat("https://sisappra-master-data-service-v2.tsgitdev.com","/jenis-kegiatan/combobox"));case 2:return n=a.sent,a.next=5,n.data.data;case 5:return t=a.sent,sa(t),a.abrupt("return",t.map((function(a){return{label:a.text,value:a.value}})));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),ua=function(a,e){setTimeout((0,i.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,da(a);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},ha=function(a){oa((function(e){return(0,l.Z)((0,l.Z)({},e),a)}))},xa=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e="",H.val&&$.val?e+="kegiatan__tanggal%20ge%20%27".concat(H.val,"%27%20and%20kegiatan__tanggal%20le%20%27").concat($.val,"%27"):""!==H.val?e+="kegiatan__tanggal%20eq%20%27".concat(H.val,"%27"):""!==$.val&&(e+="kegiatan__tanggal%20eq%20%27".concat($.val,"%27")),""!==ca.value&&(H.val||$.val)?e+="%20and%20kegiatan__jenis_kegiatan_id%20eq%20%27".concat(ca.value,"%27"):""!==ca.value&&(e+="kegiatan__jenis_kegiatan_id%20eq%20%27".concat(ca.value,"%27")),h((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:e})}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),ga=function(){G({val:""}),X({val:""}),oa({value:"",label:""}),h((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:""})}))},va=(0,t.useState)(!1),Aa=(0,c.Z)(va,2),Sa=Aa[0],Ka=Aa[1],Ra=(0,t.useState)([]),Ta=(0,c.Z)(Ra,2),Ba=Ta[0],Ea=Ta[1],Fa=(0,t.useState)(10),La=(0,c.Z)(Fa,2),Ia=La[0],Da=La[1],Ua=(0,t.useState)(0),qa=(0,c.Z)(Ua,2),Ma=qa[0],Oa=qa[1],Ja=function(a){C().get("".concat(Ca,"/kegiatan-umum/?%24filter=").concat(u.strparam,"&%24top=").concat(Ia,"&%24page=").concat(a)).then((function(a){var e=a.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.created_by,tanggal_kegiatan:a.kegiatan__tanggal,waktu_mulai:a.kegiatan__jam_start,waktu_selesai:a.kegiatan__jam_end,jenis_kegiatan:a.kegiatan__jenis_kegiatan_id,uraian_kegiatan:a.kegiatan__uraian_kegiatan,lokasi:a.kegiatan__lokasi}}));return Array.from(e).forEach((function(a,e){a.serial=e+1})),Ea(e),Oa(a.data.total_items),Ka(!1),[e,Ea]}))};(0,t.useEffect)((function(){Ja(0)}),[u,Ia]);var Va=function(a){Ja(a-1),console.log("ini page",a)},Wa=function(){var a=(0,i.Z)(d().mark((function a(e,n){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Ka(!0),C().get("".concat(Ca,"/kegiatan-umum/?%24filter=").concat(u.strparam,"&%24top=").concat(e,"&%24page=").concat(n)).then((function(a){var n=a.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.created_by,tanggal_kegiatan:a.kegiatan__tanggal,waktu_mulai:a.kegiatan__jam_start,waktu_selesai:a.kegiatan__jam_end,jenis_kegiatan:a.kegiatan__jenis_kegiatan_id,uraian_kegiatan:a.kegiatan__uraian_kegiatan,wilayah:a.created_by,lokasi:a.kegiatan__lokasi}}));Array.from(n).forEach((function(a,e){a.serial=e+1})),Ea(n),Da(e),Ka(!1)}));case 2:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}(),Ha=(0,t.useState)([]),Ga=(0,c.Z)(Ha,2),Ya=Ga[0],za=Ga[1],$a=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Pa,"/hak-akses/find"));case 2:e=a.sent,za(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Xa=(0,t.useState)([]),Qa=(0,c.Z)(Xa,2),ae=Qa[0],ee=Qa[1],ne=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Za,"/bidang-wilayah/find"));case 2:e=a.sent,ee(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),te=(0,t.useState)([]),se=(0,c.Z)(te,2),re=se[0],le=se[1],ie=function(){var a=(0,i.Z)(d().mark((function a(){var e,n;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("http://127.0.0.1:3000/master/bidang-wilayah/find");case 2:e=a.sent,n=e.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.nama}})),Array.from(n).forEach((function(a,e){a.serial=e+1})),le(n);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),ce=function(){var a=(0,i.Z)(d().mark((function a(e){var n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("http://127.0.0.1:3000/master/bidang-wilayah/findone/".concat(e));case 2:n=a.sent,t=n.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.nama}})),le(t);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,t.useEffect)((function(){ce(0)}),[]),(0,t.useEffect)((function(){ie()}),[]),(0,j.jsx)("div",{className:"app-main flex-column flex-row-fluid",id:"kt_app_main",children:(0,j.jsxs)("div",{className:"d-flex flex-column flex-column-fluid",children:[(0,j.jsx)("div",{id:"kt_app_toolbar",className:"app-toolbar py-3 py-lg-6",children:(0,j.jsx)("div",{id:"kt_app_toolbar_container",className:"app-container container-xxl d-flex flex-stack",children:(0,j.jsx)("div",{className:"page-title d-flex flex-column justify-content-center flex-wrap me-3",children:(0,j.jsx)("h1",{className:"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0",children:"Daftar Laporan Kegiatan"})})})}),(0,j.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,j.jsx)("div",{id:"kt_app_content_container",className:"app-container container-xxl",children:3===p?(0,j.jsx)("div",{className:"card",children:(0,j.jsx)("div",{className:"card-header border-1 py-6 d-flex justify-content-center align-items-center",children:(0,j.jsx)("h3",{className:"fs-4 fw-semibold",children:"TIDAK MEMILIKI HAK AKSES HALAMAN INI"})})}):(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card-header border-1 pt-6",children:(0,j.jsx)("div",{className:"accordion accordion-icon-toggle",id:"kt_accordion_2",children:(0,j.jsxs)("div",{className:"mb-5",children:[(0,j.jsxs)("div",{className:"accordion-header py-3 d-flex","data-bs-toggle":"collapse","data-bs-target":"#kt_accordion_2_item_1",children:[(0,j.jsx)("span",{className:"accordion-icon",children:(0,j.jsx)("span",{className:"svg-icon svg-icon-4",children:(0,j.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,j.jsx)("rect",{opacity:"0.5",x:"18",y:"13",width:"13",height:"2",rx:"1",transform:"rotate(-180 18 13)",fill:"currentColor"}),(0,j.jsx)("path",{d:"M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z",fill:"currentColor"})]})})}),(0,j.jsx)("h3",{className:"fs-4 fw-semibold mb-0 ms-4",children:"Pilihan Filter"})]}),(0,j.jsx)("div",{id:"kt_accordion_2_item_1",className:"fs-6 collapse show ps-10","data-bs-parent":"#kt_accordion_2",children:0===p?(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Jenis Kegiatan"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)(J.Z,{name:"filter_jenis_kegiatan_id_selection",defaultOptions:!0,value:ca,loadOptions:ua,onChange:ha,styles:"dark"===n?wa:Na})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{type:"date",name:"tanggal_kunjungan",className:"form-control",value:H.val,onChange:Q})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{name:"tanggal_kunjungan",type:"date",className:"form-control",value:$.val,onChange:aa})})]})})}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:xa,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:ga,children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})]}),(0,j.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12"})]})]}):1===p?(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Jenis Kegiatan"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)(J.Z,{name:"filter_jenis_kegiatan_id_selection",defaultOptions:!0,value:ca,loadOptions:ua,onChange:ha,styles:"dark"===n?wa:Na})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{type:"date",name:"tanggal_kunjungan",className:"form-control",value:H.val,onChange:Q})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{name:"tanggal_kunjungan",type:"date",className:"form-control",value:$.val,onChange:aa})})]})})}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:xa,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:ga,children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})]}),(0,j.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12",children:(0,j.jsxs)(_a.Z,{onClick:function(){return a("/pelaporan/TambahLaporanKegiatan")},className:"btn btn-primary me-2",children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Tambah"]})})]})]}):(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Jenis Kejadian"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)(J.Z,{name:"filter_jenis_kejadian_id_selection",defaultOptions:!0,value:ca,loadOptions:ua,onChange:ha,styles:"dark"===n?wa:Na})})]})})}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsx)(la.rU,{to:"#",children:(0,j.jsxs)("button",{className:"btn btn-light-primary me-2",children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]})}),(0,j.jsx)(la.rU,{to:"#",children:(0,j.jsxs)("button",{className:"btn btn-light-primary",children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})})]}),(0,j.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12"})]})]})})]})})}),(0,j.jsx)("div",{className:"card-body py-4",children:0===p?(0,j.jsx)(pa,{data:Ba,totalRows:Ma,handlePerRowsChange:Wa,handlePageChange:Va,loading:Sa,jenisKegiatanList:ta,hakAkses:Ya,wilayahBidang:ae,theme:"dark"===n?"darkMetro":"light"}):1===p?(0,j.jsx)(ja,{data:Ba,totalRows:Ma,handlePerRowsChange:Wa,handlePageChange:Va,loading:Sa,jenisKegiatanList:ta,hakAkses:Ya,wilayahBidang:ae,konfirDel:function(a){w().fire({text:"Anda yakin ingin menghapus data ini",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya!",cancelButtonText:"Tidak!",color:"#000000"}).then(function(){var e=(0,i.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=6;break}return t={data:{deleted_by:"string"}},e.next=4,C().delete("".concat(Ca,"/kegiatan-umum/").concat(a),t);case 4:e.sent?(Ja(0),w().fire({icon:"success",text:"Data berhasil dihapus",showConfirmButton:!1,timer:1500,color:"#000000"})):w().fire({icon:"error",text:"Data gagal dihapus, harap mencoba lagi",showConfirmButton:!1,timer:1500,color:"#000000"});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},theme:"dark"===n?"darkMetro":"light"}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-2 fw-semibold text-center",children:"LAPORAN HASIL KEGIATAN"})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-2 fw-semibold text-center",children:"PADA SATPOL PP......................................"})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-6 fw-semibold text-center",children:"PERIODE .................... s/d ......................."})}),(0,j.jsx)(fa,{data:re,theme:"dark"===n?"darkMetro":"light"}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-8"}),(0,j.jsxs)("div",{className:"col-4 fs-6 mb-2 fw-semibold text-center",children:["Jakarta, ..............................20...",(0,j.jsx)("div",{className:"col fs-6 mb-15 fw-semibold text-center",children:"KEPALA SATUAN POLISI PAMONG PRAJA ..............................................................."}),(0,j.jsx)("div",{className:"col fs-6 mb-2 fw-semibold text-center",children:"NAMA"}),(0,j.jsx)("div",{className:"col fs-6 mb-2 fw-semibold text-center",children:"NIP. ......................"})]})]})]})})]})})})]})})},Sa="https://sisappra-master-data-service-v2.tsgitdev.com",Ka=function(a){return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,j.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,j.jsx)("div",{className:"d-flex flex-column",children:(0,j.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})},Ra=function(a){var e=a.row,n=(0,t.useState)(""),s=(0,c.Z)(n,2),r=s[0],l=s[1];return(0,t.useEffect)((function(){function a(){return(a=(0,i.Z)(d().mark((function a(e){var n,t,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Sa,"/jenis-kejadian/?%24filter=id%20eq%20").concat(e));case 2:n=a.sent,t=n.data,s=t.data[0].nama,l(s);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(e){a.apply(this,arguments)}(e)}),[r,e]),(0,j.jsx)(j.Fragment,{children:r})},Ta=function(a){var e=(0,ua.unparse)(a),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.setAttribute("download","LAPORAN KEJADIAN.csv"),document.body.appendChild(t),t.click(),t.remove()},Ba=function(a){var e=a.data,n=a.totalRows,t=a.handlePerRowsChange,s=a.handlePageChange,r=a.loading,l=a.hakAkses,i=a.wilayahBidang,c=a.theme,o=function(a){var e=a.row,n=l.find((function(a){return a.id===e}));return(0,j.jsx)(j.Fragment,{children:null===n||void 0===n?void 0:n.nama_hak_akses})},d=function(a){var e=a.row,n=l.find((function(a){return a.id===e})),t=i.find((function(a){return a.id===(null===n||void 0===n?void 0:n.wilayah_bidang)}));return(0,j.jsx)(j.Fragment,{children:null===t||void 0===t?void 0:t.nama})},m=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Pelaksana",wrap:!0,width:"200px",selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(o,{row:parseInt(a.pelaksana)})}},{name:"Tanggal Kejadian",width:"140px",selector:function(a){return a.tanggal_kejadian}},{name:"Waktu Mulai",width:"140px",selector:function(a){return a.waktu_mulai}},{name:"Waktu Selesai",width:"140px",selector:function(a){return a.waktu_selesai}},{name:"Jenis Kejadian",width:"140px",selector:function(a){return a.jenis_kejadian},cell:function(a){return(0,j.jsx)(Ra,{row:parseInt(a.jenis_kejadian)})}},{name:"Uraian Kejadian",width:"200px",wrap:!0,selector:function(a){return a.uraian_kejadian}},{name:"Wilayah",width:"140px",wrap:!0,selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(d,{row:parseInt(a.pelaksana)})}},{name:"Lokasi",width:"140px",wrap:!0,selector:function(a){return a.lokasi}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return Ta(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:m,data:e,progressPending:r,pagination:!0,paginationServer:!0,progressComponent:(0,j.jsx)(Ka,{}),paginationTotalRows:n,onChangeRowsPerPage:t,onChangePage:s,theme:c})]})},Ea=function(a){var e=a.data,n=a.totalRows,r=a.handlePerRowsChange,l=a.handlePageChange,i=a.loading,c=a.hakAkses,o=a.wilayahBidang,d=a.konfirDel,m=(a.theme,(0,s.s0)()),u=function(a){var e=a.row,n=c.find((function(a){return a.id===e}));return(0,j.jsx)(j.Fragment,{children:null===n||void 0===n?void 0:n.nama_hak_akses})},h=function(a){var e=a.row,n=c.find((function(a){return a.id===e})),t=o.find((function(a){return a.id===(null===n||void 0===n?void 0:n.wilayah_bidang)}));return(0,j.jsx)(j.Fragment,{children:null===t||void 0===t?void 0:t.nama})},x=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Pelaksana",wrap:!0,width:"200px",selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(u,{row:parseInt(a.pelaksana)})}},{name:"Tanggal Kejadian",width:"140px",selector:function(a){return a.tanggal_kejadian}},{name:"Waktu Mulai",width:"140px",selector:function(a){return a.waktu_mulai}},{name:"Waktu Selesai",width:"140px",selector:function(a){return a.waktu_selesai}},{name:"Jenis Kejadian",width:"140px",selector:function(a){return a.jenis_kejadian},cell:function(a){return(0,j.jsx)(Ra,{row:parseInt(a.jenis_kejadian)})}},{name:"Uraian Kejadian",width:"200px",wrap:!0,selector:function(a){return a.uraian_kejadian}},{name:"Wilayah",width:"140px",wrap:!0,selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(h,{row:parseInt(a.pelaksana)})}},{name:"Lokasi",width:"140px",wrap:!0,selector:function(a){return a.lokasi}},{name:"Aksi",sortable:!1,className:"action",center:!0,allowOverflow:!0,fixed:!0,cell:function(a){return(0,j.jsx)(t.Fragment,{children:(0,j.jsx)("div",{className:"d-flex mb-2 mt-2 flex-end",children:[ia.Z].map((function(e,n){return(0,j.jsxs)(e,{as:ca.Z,id:"dropdown-button-drop-".concat(n),size:"sm",variant:"light",title:"Aksi",children:[(0,j.jsx)(oa.Z.Item,{onClick:function(){return m("/pelaporan/DetailLaporanKejadian/"+a.id)},children:"Detail"}),(0,j.jsx)(oa.Z.Item,{onClick:function(){return m("/pelaporan/ubah-laporan-kejadian/"+a.id)},children:"Ubah"}),(0,j.jsx)(oa.Z.Item,{href:"#",onClick:function(){return d(a.id)},children:"Hapus"})]},n)}))})})}}];return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return Ta(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:x,data:e,progressPending:i,pagination:!0,paginationServer:!0,progressComponent:(0,j.jsx)(Ka,{}),paginationTotalRows:n,onChangeRowsPerPage:r,onChangePage:l})]})})},Fa=function(a){var e=a.aksi,n=(a.jumlah,a.theme,a.kota),s=a.pelaporanUrl,r=(0,t.useState)([]),l=(0,c.Z)(r,2),o=l[0],m=l[1];(0,t.useEffect)((function(){var a=function(){var a=(0,i.Z)(d().mark((function a(){var e,n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(s,"/kejadian-umum/?%24top=1&%24select=id%2C%20kejadian__kota_id%2C%20kejadian__jenis_kejadian_id"));case 2:return e=a.sent,n=e.data,a.next=6,C().get("".concat(s,"/kejadian-umum/?%24top=").concat(n.total_items,"&%24select=id%2C%20kejadian__kota_id%2C%20kejadian__jenis_kejadian_id"));case 6:t=a.sent,m(t.data.data);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[]);var u=function(a){var n=a.row,t=a.jenis,s=0;return n&&!t&&(s=o.filter((function(a){return a.kejadian__kota_id===n})).length),n&&t&&(s=o.filter((function(a){return a.kejadian__kota_id===n&&a.kejadian__jenis_kejadian_id===t})).length),(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("a",{onClick:function(){return e(t,n)},children:s})})},h=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Kota",width:"200px",wrap:!0,selector:function(a){return a.bidang_wilayah}},{name:"Jumlah Kejadian",selector:function(a){return a.no},cell:function(a){return(0,j.jsx)(u,{row:a.no})}},{name:"Banjir",selector:function(a){return a.banjir},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:1})}},{name:"Hewan Buas dan Berbisa",wrap:!0,selector:function(a){return a.hewan},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:2})}},{name:"Kebakaran",wrap:!0,selector:function(a){return a.kebakaran},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:3})}},{name:"Kecelakaan",wrap:!0,selector:function(a){return a.kecelakaan},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:4})}},{name:"Pendampingan Kekerasan Pada Perempuan",wrap:!0,selector:function(a){return a.pendampingan_perempuan},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:5})}},{name:"Kerusakan Konstruksi",wrap:!0,selector:function(a){return a.kerusakan_konstruksi},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:6})}},{name:"Kriminalitas",wrap:!0,selector:function(a){return a.kriminalitas},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:7})}},{name:"Pembunuhan",wrap:!0,selector:function(a){return a.pembunuhan},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:8})}},{name:"Penemuan Mayat",wrap:!0,selector:function(a){return a.penemuan},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:9})}},{name:"Penyelamatan Orang",wrap:!0,selector:function(a){return a.penyelamatan},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:10})}},{name:"Pohon Tumbang",wrap:!0,selector:function(a){return a.pohon},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:11})}},{name:"Tawuran",wrap:!0,selector:function(a){return a.tawuran},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:12})}},{name:"Terorisme",wrap:!0,selector:function(a){return a.terorisme},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:13})}},{name:"Unjuk Rasa",wrap:!0,selector:function(a){return a.unjuk_rasa},cell:function(a){return(0,j.jsx)(u,{row:a.no,jenis:14})}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button",className:"btn btn-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",onClick:function(){return Ta(n)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:h,data:n,pagination:!0})]})},La=n(61146),Ia=n.n(La);(0,da.jG)("darkMetro",{text:{primary:"#92929f",secondary:"#92929f"},background:{default:"#1e1e2e"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#2b2c41"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");var Da=va.t.getSystemMode(),Ua={input:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#5e6278"})},menu:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},container:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},indicatorsContainer:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#cccccc"})},indicatorSeparator:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#cccccc"})},control:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)",boxShadow:"0 0 0 1px #f5f8fa"})},singleValue:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278"})},option:function(a){return(0,l.Z)((0,l.Z)({},a),{},{height:"100%",backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})}},qa={input:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#92929f"})},menu:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},container:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},indicatorsContainer:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#92929f"})},indicatorSeparator:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#92929f"})},control:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)",boxShadow:"0 0 0 1px #1b1b29"})},singleValue:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f"})},option:function(a){return(0,l.Z)((0,l.Z)({},a),{},{height:"100%",backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})}},Ma="https://sisappra-be.tsgitdev.com",Oa="https://sisappra-master-data-service-v2.tsgitdev.com",Ja="https://sisappra-service-v2.tsgitdev.com",Va="".concat(Ma,"/master"),Wa="".concat(Ma,"/manajemen-pengguna"),Ha=function(){var a,e=(0,s.s0)(),n=(0,ka.rB)().mode,r="system"===n?Da:n,o=((0,m.I0)(),(0,t.useState)(u.CN[0])),h=(0,c.Z)(o,2),x=(h[0],h[1],(0,t.useState)({strparam:""})),g=(0,c.Z)(x,2),p=g[0],f=g[1],_=(0,t.useState)([]),v=(0,c.Z)(_,2),k=(v[0],v[1]),b=((0,m.v9)((function(a){return a.pelaporanKejadian.list_kecamatan})),(0,m.v9)((function(a){return a.pelaporanKejadian.list_kelurahan})),(0,t.useState)({start:Date.now()-10,end:Date.now()})),N=(0,c.Z)(b,2);N[0],N[1];(0,t.useEffect)((function(){C().get("".concat(Oa,"/jenis-kejadian/combobox?$orderby=nama")).then((function(a){var e=a.data.data.map((function(a){return{label:a.text,value:String(a.value)}}));k(e)}))}),[]);var y=(0,t.useState)(0),Z=(0,c.Z)(y,2),P=Z[0],A=Z[1],S=(0,t.useState)(0),K=(0,c.Z)(S,2),R=K[0],T=K[1],B=(0,t.useState)(0),E=(0,c.Z)(B,2),F=E[0],L=E[1],I=(0,t.useState)(0),D=(0,c.Z)(I,2),U=D[0],q=D[1],M=(0,t.useState)([]),O=(0,c.Z)(M,2),V=O[0],W=O[1],H=localStorage.getItem("kt-auth-react-v"),G=JSON.parse(H).data.hak_akses,Y=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Ma,"/manajemen-pengguna/hak-akses/findone/").concat(G));case 2:e=a.sent,W(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,t.useEffect)((function(){Y()}),[]),(0,t.useEffect)((function(){var a,e,n;return null!==V&&void 0!==V&&null!==(a=V.nama_hak_akses)&&void 0!==a&&a.toLowerCase().includes("admin")?A(1):null!==V&&void 0!==V&&null!==(e=V.nama_hak_akses)&&void 0!==e&&e.toLowerCase().includes("kepala satpol pp dki")?A(2):null!==V&&void 0!==V&&null!==(n=V.nama_hak_akses)&&void 0!==n&&n.toLowerCase().includes("kepala")?A(0):A(3)}),[V]);var z=(0,t.useState)({val:""}),$=(0,c.Z)(z,2),X=$[0],Q=$[1],aa=(0,t.useState)({val:""}),ea=(0,c.Z)(aa,2),na=ea[0],ta=ea[1],sa=function(a){Q({val:a.target.value})},ra=function(a){ta({val:a.target.value})},la=(0,t.useState)({value:"",label:""}),ia=(0,c.Z)(la,2),ca=ia[0],oa=ia[1],da=function(){var a=(0,i.Z)(d().mark((function a(e){var n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Oa,"/jenis-kejadian/combobox"));case 2:return n=a.sent,a.next=5,n.data.data;case 5:return t=a.sent,a.abrupt("return",t.map((function(a){return{label:a.text,value:a.value}})));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),ua=function(a,e){setTimeout((0,i.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,da(a);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},ha=function(a){oa((function(e){return(0,l.Z)((0,l.Z)({},e),a)}))},xa=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e="",X.val&&na.val?e+="kejadian__tanggal%20ge%20%27".concat(X.val,"%27%20and%20kejadian__tanggal%20le%20%27").concat(na.val,"%27"):""!==X.val?e+="kejadian__tanggal%20eq%20%27".concat(X.val,"%27"):""!==na.val&&(e+="kejadian__tanggal%20eq%20%27".concat(na.val,"%27")),""!==ca.value&&(X.val||na.val)?e+="%20and%20kejadian__jenis_kejadian_id%20eq%20%27".concat(ca.value,"%27"):""!==ca.value&&(e+="kejadian__jenis_kejadian_id%20eq%20%27".concat(ca.value,"%27")),f((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:e})}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),ga=function(){Q({val:""}),ta({val:""}),oa({value:"",label:""}),f((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:""})}))},pa=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e="",""!==Ae.value&&(e+="/?%24filter=id%20eq%20".concat(Ae.value)),ye((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparamkota:e})}));case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),ja=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e="",X.val&&na.val?e+="%20and%20kejadian__tanggal%20ge%20%27".concat(X.val,"%27%20and%20kejadian__tanggal%20le%20%27").concat(na.val,"%27"):""!==X.val?e+="%20and%20kejadian__tanggal%20eq%20%27".concat(X.val,"%27"):""!==na.val&&(e+="%20and%20kejadian__tanggal%20eq%20%27".concat(na.val,"%27")),(""!==ca.value&&(X.val||na.val)||""!==ca.value)&&(e+="%20and%20kejadian__jenis_kejadian_id%20eq%20%27".concat(ca.value,"%27")),f((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:e})}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),fa=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e="",X.val&&na.val?e+="%20and%20kejadian__tanggal%20ge%20%27".concat(X.val,"%27%20and%20kejadian__tanggal%20le%20%27").concat(na.val,"%27"):""!==X.val?e+="%20and%20kejadian__tanggal%20eq%20%27".concat(X.val,"%27"):""!==na.val&&(e+="%20and%20kejadian__tanggal%20eq%20%27".concat(na.val,"%27")),f((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:e})}));case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),va=(0,t.useState)(!1),ba=(0,c.Z)(va,2),Na=ba[0],wa=ba[1],ya=(0,t.useState)([]),Ca=(0,c.Z)(ya,2),Za=Ca[0],Pa=Ca[1],Aa=(0,t.useState)([]),Sa=(0,c.Z)(Aa,2),Ka=Sa[0],Ra=Sa[1],Ta=(0,t.useState)([]),La=(0,c.Z)(Ta,2),Ha=La[0],Ga=La[1],Ya=(0,t.useState)(10),za=(0,c.Z)(Ya,2),$a=za[0],Xa=za[1],Qa=(0,t.useState)(0),ae=(0,c.Z)(Qa,2),ee=ae[0],ne=ae[1],te=function(a){C().get("".concat(Ja,"/kejadian-umum/?%24filter=").concat(p.strparam,"&%24top=").concat($a,"&%24page=").concat(a,"&%24orderby=created_at%20asc")).then((function(a){var e=a.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.created_by,tanggal_kejadian:a.kejadian__tanggal,waktu_mulai:a.kejadian__waktu_start,waktu_selesai:a.kejadian__waktu_end,jenis_kejadian:a.kejadian__jenis_kejadian_id,uraian_kejadian:a.kejadian__uraian_kejadian,lokasi:a.kejadian__alamat}}));return Array.from(e).forEach((function(a,e){a.serial=e+1})),Pa(e),ne(a.data.total_items),wa(!1),[e,Pa]}))},se=function(a){wa(!0),C().get("".concat(Ja,"/kejadian-umum/?%24filter=kejadian__kota_id%20eq%20").concat(U,"%20and%20kejadian__jenis_kejadian_id%20eq%20").concat(F).concat(p.strparam,"&%24top=").concat($a,"&%24page=").concat(a,"&%24orderby=created_at%20asc")).then((function(a){var e=a.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.created_by,tanggal_kejadian:a.kejadian__tanggal,waktu_mulai:a.kejadian__waktu_start,waktu_selesai:a.kejadian__waktu_end,jenis_kejadian:a.kejadian__jenis_kejadian_id,uraian_kejadian:a.kejadian__uraian_kejadian,lokasi:a.kejadian__alamat}}));return Array.from(e).forEach((function(a,e){a.serial=e+1})),Ra(e),ne(a.data.total_items),wa(!1),[e,Ra]}))};(0,t.useEffect)((function(){te(0)}),[p,$a]),(0,t.useEffect)((function(){var a;0!==U&&0!==F?se(0):(a=0,C().get("".concat(Ja,"/kejadian-umum/?%24filter=kejadian__kota_id%20eq%20").concat(U).concat(p.strparam,"&%24top=").concat($a,"&%24page=").concat(a,"&%24orderby=created_at%20asc")).then((function(a){var e=a.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.created_by,tanggal_kejadian:a.kejadian__tanggal,waktu_mulai:a.kejadian__waktu_start,waktu_selesai:a.kejadian__waktu_end,jenis_kejadian:a.kejadian__jenis_kejadian_id,uraian_kejadian:a.kejadian__uraian_kejadian,lokasi:a.kejadian__alamat}}));return Array.from(e).forEach((function(a,e){a.serial=e+1})),Ga(e),ne(a.data.total_items),wa(!1),[e,Ga]})))}),[U,F,$a,R,p]);var re=function(a){te(a-1)},le=function(){var a=(0,i.Z)(d().mark((function a(e,n){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:wa(!0),C().get("".concat(Ja,"/kejadian-umum/?%24filter=").concat(p.strparam,"&%24top=").concat(e,"&%24page=").concat(n)).then((function(a){var n=a.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.created_by,tanggal_kejadian:a.kejadian__tanggal,waktu_mulai:a.kejadian__waktu_start,waktu_selesai:a.kejadian__waktu_end,jenis_kejadian:a.kejadian__jenis_kejadian_id,uraian_kejadian:a.kejadian__uraian_kejadian,lokasi:a.kejadian__alamat}}));Array.from(n).forEach((function(a,e){a.serial=e+1})),Pa(n),Xa(e),wa(!1)}));case 2:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}(),ie=function(){var a=(0,i.Z)(d().mark((function a(e,n){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:wa(!0),C().get("".concat(Ja,"/kejadian-umum/?%24filter=kejadian__kota_id%20eq%20").concat(U,"%20and%20kejadian__jenis_kejadian_id%20eq%20").concat(F).concat(p.strparam,"&%24top=").concat(e,"&%24page=").concat(n)).then((function(a){var n=a.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.created_by,tanggal_kejadian:a.kejadian__tanggal,waktu_mulai:a.kejadian__waktu_start,waktu_selesai:a.kejadian__waktu_end,jenis_kejadian:a.kejadian__jenis_kejadian_id,uraian_kejadian:a.kejadian__uraian_kejadian,lokasi:a.kejadian__alamat}}));Array.from(n).forEach((function(a,e){a.serial=e+1})),Ra(n),Xa(e),wa(!1)}));case 2:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}(),ce=(0,t.useState)([]),oe=(0,c.Z)(ce,2),de=oe[0],me=oe[1],ue=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Wa,"/hak-akses/find"));case 2:e=a.sent,me(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),he=(0,t.useState)([]),xe=(0,c.Z)(he,2),ge=xe[0],pe=xe[1],je=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Va,"/bidang-wilayah/find"));case 2:e=a.sent,pe(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,t.useEffect)((function(){ue(),je()}),[]);var fe=(0,t.useState)([]),_e=(0,c.Z)(fe,2),ve=_e[0],ke=_e[1],be=(0,t.useState)({strparamkota:""}),Ne=(0,c.Z)(be,2),we=Ne[0],ye=Ne[1],Ce=function(){var a=(0,i.Z)(d().mark((function a(){var e,n;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Oa,"/kota").concat(we.strparamkota));case 2:return e=a.sent,n=e.data.data.map((function(a){return{id:a.id,no:a.id,bidang_wilayah:a.nama}})),Array.from(n).forEach((function(a,e){a.serial=e+1})),ke(n),a.abrupt("return",[ve,ke]);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,t.useEffect)((function(){Ce()}),[we]);var Ze=(0,t.useState)({value:"",label:""}),Pe=(0,c.Z)(Ze,2),Ae=Pe[0],Se=Pe[1],Ke=function(){var a=(0,i.Z)(d().mark((function a(e){var n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Oa,"/kota/combobox"));case 2:return n=a.sent,a.next=5,n.data.data;case 5:return t=a.sent,a.abrupt("return",t.map((function(a){return{label:a.text,value:a.value}})));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,j.jsx)("div",{className:"app-main flex-column flex-row-fluid",id:"kt_app_main",children:(0,j.jsxs)("div",{className:"d-flex flex-column flex-column-fluid",children:[(0,j.jsx)("div",{id:"kt_app_toolbar",className:"app-toolbar py-3 py-lg-6",children:(0,j.jsx)("div",{id:"kt_app_toolbar_container",className:"app-container container-xxl d-flex flex-stack",children:(0,j.jsx)("div",{className:"page-title d-flex flex-column justify-content-center flex-wrap me-3",children:(0,j.jsx)("h1",{className:"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0",children:"Daftar Laporan Kejadian"})})})}),(0,j.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,j.jsx)("div",{id:"kt_app_content_container",className:"app-container container-xxl",children:3===P?(0,j.jsx)("div",{className:"card",children:(0,j.jsx)("div",{className:"card-header border-1 py-6 d-flex justify-content-center align-items-center",children:(0,j.jsx)("h3",{className:"fs-4 fw-semibold",children:"TIDAK MEMILIKI HAK AKSES HALAMAN INI"})})}):(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card card-flush h-xl-100",children:(0,j.jsx)("div",{className:"card-header border-1 pt-6",children:(0,j.jsx)("div",{className:"col-xl-12 mb-xl-12 mt-6",children:(0,j.jsx)("div",{className:"accordion accordion-icon-toggle",id:"kt_accordion_2",children:(0,j.jsxs)("div",{className:"mb-5",children:[(0,j.jsxs)("div",{className:"accordion-header py-3 d-flex","data-bs-toggle":"collapse","data-bs-target":"#kt_accordion_2_item_1",children:[(0,j.jsx)("span",{className:"accordion-icon",children:(0,j.jsx)("span",{className:"svg-icon svg-icon-4",children:(0,j.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,j.jsx)("rect",{opacity:"0.5",x:"18",y:"13",width:"13",height:"2",rx:"1",transform:"rotate(-180 18 13)",fill:"currentColor"}),(0,j.jsx)("path",{d:"M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z",fill:"currentColor"})]})})}),(0,j.jsx)("h3",{className:"fs-4 fw-semibold mb-0 ms-4",children:"Pilihan Filter"})]}),(0,j.jsx)("div",{id:"kt_accordion_2_item_1",className:"fs-6 collapse show ps-10","data-bs-parent":"#kt_accordion_2",children:0===P?(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Jenis Kejadian"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)(J.Z,{name:"filter_jenis_kejadian_id_selection",defaultOptions:!0,value:ca,loadOptions:ua,onChange:ha,styles:"dark"===r?qa:Ua})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{type:"date",name:"tanggal_kunjungan",className:"form-control",value:X.val,onChange:sa})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{name:"tanggal_kunjungan",type:"date",className:"form-control",value:na.val,onChange:ra})})]})})}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:xa,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:ga,children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})]}),(0,j.jsxs)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12",children:[(0,j.jsxs)(_a.Z,{onClick:function(){return e("/pelaporan/tambah-laporan-kejadian")},className:"btn btn-primary me-2",children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Tambah"]}),(0,j.jsx)("button",{type:"button",className:"btn btn-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh"]})}),(0,j.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown w-100px w-md-150px","data-kt-menu":"true",children:[(0,j.jsx)("div",{className:"px-7 py-5",children:(0,j.jsx)("div",{className:"fs-5 text-dark fw-bolder",children:"Pilihan Unduh"})}),(0,j.jsx)("div",{className:"separator border-gray-200"}),(0,j.jsx)("div",{className:"px-7 py-5","data-kt-user-table-filter":"form",children:(0,j.jsx)("button",{className:"btn btn-outline btn-outline-dashed btn-outline-success btn-active-light-success w-100",children:"Excel"})}),(0,j.jsx)("div",{className:"px-7 py-2","data-kt-user-table-filter":"form",children:(0,j.jsx)("button",{className:"btn btn-outline btn-outline-dashed btn-outline-danger btn-active-light-danger w-100",children:"PDF"})})]})]})]})]}):1===P?(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Jenis Kejadian"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)(J.Z,{name:"filter_jenis_kejadian_id_selection",defaultOptions:!0,value:ca,loadOptions:ua,onChange:ha,styles:"dark"===r?qa:Ua})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{type:"date",name:"tanggal_kunjungan",className:"form-control",value:X.val,onChange:sa})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{name:"tanggal_kunjungan",type:"date",className:"form-control",value:na.val,onChange:ra})})]})})}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:xa,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:ga,children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})]}),(0,j.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12",children:(0,j.jsxs)(_a.Z,{onClick:function(){return e("/pelaporan/tambah-laporan-kejadian")},className:"btn btn-primary me-2",children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Tambah"]})})]})]}):(0,j.jsx)("div",{className:"row mt-10 mb-10",children:0===R?(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Kota"})}),(0,j.jsx)("div",{className:"col",children:(0,j.jsx)(J.Z,{name:"id",defaultOptions:!0,value:Ae,loadOptions:function(a,e){setTimeout((0,i.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,Ke(a);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},onChange:function(a){Se((function(e){return(0,l.Z)((0,l.Z)({},e),a)}))},styles:"dark"===r?qa:Ua})})]}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:pa,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:function(){Se({value:"",label:""}),ye((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparamkota:""})}))},children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})]}),(0,j.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)(Ia(),{trigger:function(){return(0,j.jsx)("button",{type:"button",className:"btn btn-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh PDF"]})})},pageStyle:" @page { size: auto; margin: 20mm; } @media print { html, body { height: 100%; /* Use 100% here to support printing more than a single page*/ margin: 0 !important; padding: 0 !important; overflow: hidden; } } @media all { .pagebreak { display: inline; } }",content:function(){return a}})})]})]}):(0,j.jsxs)(j.Fragment,{children:[0!==U&&0!==F?"":(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Jenis Kejadian"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)(J.Z,{name:"filter_jenis_kejadian_id_selection",defaultOptions:!0,value:ca,loadOptions:ua,onChange:ha,styles:"dark"===r?qa:Ua})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{type:"date",name:"tanggal_kunjungan",className:"form-control",value:X.val,onChange:sa})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{name:"tanggal_kunjungan",type:"date",className:"form-control",value:na.val,onChange:ra})})]})})}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:0!==U&&0!==F?fa:ja,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:0!==U&&0!==F?function(){Q({val:""}),ta({val:""}),f((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:""})}))}:function(){Q({val:""}),ta({val:""}),oa({value:"",label:""}),f((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:""})}))},children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})]}),(0,j.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12"})]})]})})})]})})})})}),(0,j.jsx)("div",{className:"card-body py-4",children:0===P?(0,j.jsx)(Ba,{data:Za,totalRows:ee,handlePerRowsChange:le,handlePageChange:re,loading:Na,hakAkses:de,wilayahBidang:ge,theme:"dark"===r?"darkMetro":"light"}):1===P?(0,j.jsx)(Ea,{data:Za,totalRows:ee,handlePerRowsChange:le,handlePageChange:re,loading:Na,hakAkses:de,wilayahBidang:ge,konfirDel:function(a){w().fire({text:"Anda yakin ingin menghapus data ini",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya!",cancelButtonText:"Tidak!",color:"#000000"}).then(function(){var e=(0,i.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=6;break}return t={data:{deleted_by:"string"}},e.next=4,C().delete("".concat(Ja,"/kejadian-umum/").concat(a),t);case 4:e.sent?(te(0),w().fire({icon:"success",text:"Data berhasil dihapus",showConfirmButton:!1,timer:1500,color:"#000000"})):w().fire({icon:"error",text:"Data gagal dihapus, harap mencoba lagi",showConfirmButton:!1,timer:1500,color:"#000000"});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},theme:"dark"===r?"darkMetro":"light"}):(0,j.jsxs)("div",{ref:function(e){return a=e},children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-2 fw-semibold text-center",children:"LAPORAN HASIL KEJADIAN"})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-2 fw-semibold text-center",children:"PADA SATPOL PP......................................"})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-6 fw-semibold text-center",children:"PERIODE .................... s/d ......................."})}),0===R?(0,j.jsx)(Fa,{aksi:function(a,e){q(e),L(a),T(1)},jumlah:function(a){q(a),T(1)},theme:"dark"===r?"darkMetro":"light",kota:ve,pelaporanUrl:Ja}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ba,{data:0!==U&&0!==F?Ka:Ha,totalRows:ee,handlePerRowsChange:ie,handlePageChange:function(a){se(a-1)},loading:Na,hakAkses:de,wilayahBidang:ge,theme:"dark"===r?"darkMetro":"light"})," ",(0,j.jsxs)(_a.Z,{className:"btn btn-secondary me-2",onClick:function(){T(0)},children:[(0,j.jsx)("i",{className:"fa-solid fa-arrow-left"}),"Kembali"]})]}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-8"}),(0,j.jsxs)("div",{className:"col-4 fs-6 mb-2 fw-semibold text-center",children:["Jakarta, ..............................20...",(0,j.jsx)("div",{className:"col fs-6 mb-15 fw-semibold text-center",children:"KEPALA SATUAN POLISI PAMONG PRAJA ..............................................................."}),(0,j.jsx)("div",{className:"col fs-6 mb-2 fw-semibold text-center",children:"NAMA"}),(0,j.jsx)("div",{className:"col fs-6 mb-2 fw-semibold text-center",children:"NIP. ......................"})]})]})]})})]})})})]})})},Ga="https://sisappra-master-data-service-v2.tsgitdev.com",Ya=function(a){return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,j.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,j.jsx)("div",{className:"d-flex flex-column",children:(0,j.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})},za=function(a){var e=(0,ua.unparse)(a),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.setAttribute("download","LAPORAN PENGAWASAN.csv"),document.body.appendChild(t),t.click(),t.remove()},$a=function(a){var e=a.data,n=a.totalRows,s=a.handlePerRowsChange,r=a.handlePageChange,l=a.loading,o=a.hakAkses,u=a.wilayahBidang,h=a.theme,x=((0,m.I0)(),function(a){var e=a.row,n=o.find((function(a){return a.id===e}));return(0,j.jsx)(j.Fragment,{children:null===n||void 0===n?void 0:n.nama_hak_akses})}),g=function(a){var e=a.row,n=o.find((function(a){return a.id===e})),t=u.find((function(a){return a.id===(null===n||void 0===n?void 0:n.wilayah_bidang)}));return(0,j.jsx)(j.Fragment,{children:null===t||void 0===t?void 0:t.nama})},p=function(a){var e=a.row,n=(0,t.useState)(""),s=(0,c.Z)(n,2),r=s[0],l=s[1];return(0,t.useEffect)((function(){function a(){return a=(0,i.Z)(d().mark((function a(e){var n,t,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Ga,"/status-reklame/?%24filter=id%20eq%20").concat(e));case 2:n=a.sent,t=n.data,s=t.data[0].nama,l(s);case 6:case"end":return a.stop()}}),a)}))),a.apply(this,arguments)}!function(e){a.apply(this,arguments)}(e)}),[r,e]),(0,j.jsx)(j.Fragment,{children:r})},f=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Pelaksana",wrap:!0,width:"200px",selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(x,{row:parseInt(a.pelaksana)})}},{name:"Tanggal",width:"140px",wrap:!0,selector:function(a){return a.tgl_pengecekan}},{name:"Waktu",width:"140px",wrap:!0,selector:function(a){return a.waktu_pengawasan}},{name:"Wilayah",width:"140px",wrap:!0,selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(g,{row:parseInt(a.pelaksana)})}},{name:"Alamat",width:"140px",wrap:!0,selector:function(a){return a.alamat}},{name:"Status",width:"140px",wrap:!0,selector:function(a){return a.status_reklame},cell:function(a){return(0,j.jsx)(p,{row:parseInt(a.status_reklame)})}},{name:"Pemilik Reklame Konten Iklan",width:"200px",wrap:!0,selector:function(a){return a.pemilik_reklame}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return za(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:f,data:e,progressPending:l,pagination:!0,paginationServer:!0,progressComponent:(0,j.jsx)(Ya,{}),paginationTotalRows:n,onChangeRowsPerPage:s,onChangePage:r,theme:h})]})},Xa=function(a){var e=a.data,n=a.totalRows,r=a.handlePerRowsChange,l=a.handlePageChange,o=a.loading,m=a.hakAkses,u=a.wilayahBidang,h=a.theme,x=(0,s.s0)(),g=function(a){var e=a.row,n=m.find((function(a){return a.id===e}));return(0,j.jsx)(j.Fragment,{children:null===n||void 0===n?void 0:n.nama_hak_akses})},p=function(a){var e=a.row,n=m.find((function(a){return a.id===e})),t=u.find((function(a){return a.id===(null===n||void 0===n?void 0:n.wilayah_bidang)}));return(0,j.jsx)(j.Fragment,{children:null===t||void 0===t?void 0:t.nama})},f=function(a){var e=a.row,n=(0,t.useState)(""),s=(0,c.Z)(n,2),r=s[0],l=s[1];return(0,t.useEffect)((function(){function a(){return a=(0,i.Z)(d().mark((function a(e){var n,t,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Ga,"/status-reklame/?%24filter=id%20eq%20").concat(e));case 2:n=a.sent,t=n.data,s=t.data[0].nama,l(s);case 6:case"end":return a.stop()}}),a)}))),a.apply(this,arguments)}!function(e){a.apply(this,arguments)}(e)}),[r,e]),(0,j.jsx)(j.Fragment,{children:r})},_=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Pelaksana",wrap:!0,width:"200px",selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(g,{row:parseInt(a.pelaksana)})}},{name:"Tanggal",width:"140px",selector:function(a){return a.tgl_pengecekan}},{name:"Waktu",width:"140px",wrap:!0,selector:function(a){return a.waktu_pengawasan}},{name:"Wilayah",width:"140px",wrap:!0,selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(p,{row:parseInt(a.pelaksana)})}},{name:"Alamat",width:"140px",wrap:!0,selector:function(a){return a.alamat}},{name:"Status",width:"140px",wrap:!0,selector:function(a){return a.status_reklame},cell:function(a){return(0,j.jsx)(f,{row:parseInt(a.status_reklame)})}},{name:"Pemilik Reklame Konten Iklan",width:"200px",wrap:!0,selector:function(a){return a.pemilik_reklame}},{name:"Aksi",sortable:!1,className:"action",center:!0,allowOverflow:!0,fixed:!0,cell:function(a){return(0,j.jsx)(t.Fragment,{children:(0,j.jsx)("div",{className:"d-flex mb-2 mt-2 flex-end",children:[ia.Z].map((function(e,n){return(0,j.jsxs)(e,{as:ca.Z,id:"dropdown-button-drop-".concat(n),size:"sm",variant:"light",title:"Aksi",children:[(0,j.jsx)(oa.Z.Item,{onClick:function(){return x("/pelaporan/DetailLaporanPengawasan/"+a.id)},children:"Detail"}),(0,j.jsx)(oa.Z.Item,{onClick:function(){return x("/pelaporan/ubah-laporan-pengawasan/"+a.id)},children:"Ubah"})]},n)}))})})}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return za(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:_,data:e,progressPending:o,pagination:!0,paginationServer:!0,progressComponent:(0,j.jsx)(Ya,{}),paginationTotalRows:n,onChangeRowsPerPage:r,onChangePage:l,theme:h})]})},Qa=function(a){var e=a.data,n=a.totalRows,r=a.handlePerRowsChange,l=a.handlePageChange,o=a.loading,m=a.hakAkses,u=(a.wilayahBidang,a.theme),h=(0,s.s0)(),x=function(a){var e=a.row,n=m.find((function(a){return a.id===e}));return(0,j.jsx)(j.Fragment,{children:null===n||void 0===n?void 0:n.nama_hak_akses})},g=function(a){var e=a.row,n=(0,t.useState)(""),s=(0,c.Z)(n,2),r=s[0],l=s[1];return(0,t.useEffect)((function(){function a(){return a=(0,i.Z)(d().mark((function a(e){var n,t,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(Ga,"/status-reklame/?%24filter=id%20eq%20").concat(e));case 2:n=a.sent,t=n.data,s=t.data[0].nama,l(s);case 6:case"end":return a.stop()}}),a)}))),a.apply(this,arguments)}!function(e){a.apply(this,arguments)}(e)}),[r,e]),(0,j.jsx)(j.Fragment,{children:r})},p=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Pelaksana",width:"140px",selector:function(a){return a.pelaksana},cell:function(a){return(0,j.jsx)(x,{row:parseInt(a.pelaksana)})}},{name:"Tanggal",width:"140px",selector:function(a){return a.tgl_pengecekan}},{name:"Share Location",width:"140px",selector:function(a){return a.share_location}},{name:"Alamat",width:"140px",wrap:!0,selector:function(a){return a.alamat}},{name:"Status",width:"140px",wrap:!0,selector:function(a){return a.status_reklame},cell:function(a){return(0,j.jsx)(g,{row:parseInt(a.status_reklame)})}},{name:"Ukuran",width:"140px",wrap:!0,selector:function(a){return a.ukuran}},{name:"Pemilik Reklame",width:"200px",wrap:!0,selector:function(a){return a.pemilik_reklame}},{name:"Latitude",width:"200px",wrap:!0,selector:function(a){return a.lokasi_tiang}},{name:"Longtitude",width:"200px",wrap:!0,selector:function(a){return a.longtitude}},{name:"Konstruksi Reklame",width:"200px",wrap:!0,selector:function(a){return a.konstruksi_reklame}},{name:"Konten Iklan",width:"200px",wrap:!0,selector:function(a){return a.konten_iklan}},{name:"Aksi",sortable:!1,text:"Action",className:"action",cell:function(a){return(0,j.jsx)(t.Fragment,{children:(0,j.jsx)("button",{className:"btn btn-primary btn-sm me-30",onClick:function(){return h("/pelaporan/DetailLaporanPengawasan/"+a.id)},children:"Detail"})})}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return za(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:p,data:e,progressPending:o,pagination:!0,paginationServer:!0,progressComponent:(0,j.jsx)(Ya,{}),paginationTotalRows:n,onChangeRowsPerPage:r,onChangePage:l,theme:u})]})};(0,da.jG)("darkMetro",{text:{primary:"#92929f",secondary:"#92929f"},background:{default:"#1e1e2e"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#2b2c41"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");var ae=va.t.getSystemMode(),ee={input:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#5e6278"})},menu:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},container:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},indicatorsContainer:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#cccccc"})},indicatorSeparator:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#cccccc"})},control:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)",boxShadow:"0 0 0 1px #f5f8fa"})},singleValue:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#f5f8fa",color:"#5e6278"})},option:function(a){return(0,l.Z)((0,l.Z)({},a),{},{height:"100%",backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})}},ne={input:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#92929f"})},menu:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},container:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},indicatorsContainer:function(a){return(0,l.Z)((0,l.Z)({},a),{},{color:"#92929f"})},indicatorSeparator:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#92929f"})},control:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)",boxShadow:"0 0 0 1px #1b1b29"})},singleValue:function(a){return(0,l.Z)((0,l.Z)({},a),{},{backgroundColor:"#1b1b29",color:"#92929f"})},option:function(a){return(0,l.Z)((0,l.Z)({},a),{},{height:"100%",backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})}},te="https://sisappra-be.tsgitdev.com",se="https://sisappra-master-data-service-v2.tsgitdev.com",re="https://sisappra-service-v2.tsgitdev.com",le="".concat(te,"/master"),ie="".concat(te,"/manajemen-pengguna"),ce=function(){var a=(0,s.s0)(),e=(0,ka.rB)().mode,n="system"===e?ae:e,r=((0,m.I0)(),(0,t.useState)(!1)),o=(0,c.Z)(r,2),u=o[0],x=o[1],g=(0,t.useState)([]),p=(0,c.Z)(g,2),f=p[0],_=p[1],v=(0,t.useState)(10),k=(0,c.Z)(v,2),b=k[0],N=k[1],w=(0,t.useState)(0),y=(0,c.Z)(w,2),Z=y[0],P=y[1],A=(0,t.useState)({strparam:""}),S=(0,c.Z)(A,2),K=S[0],R=S[1],T=(0,t.useState)(aa.bY[0]),B=(0,c.Z)(T,2),E=B[0],F=B[1],L=(0,t.useState)([]),I=(0,c.Z)(L,2),D=(I[0],I[1]),U=(0,t.useState)([]),q=(0,c.Z)(U,2),M=(q[0],q[1]),O=(0,t.useState)([]),V=(0,c.Z)(O,2),W=(V[0],V[1]);(0,m.v9)((function(a){return a.pelaporanPengawasan.list_kota})),(0,m.v9)((function(a){return a.pelaporanPengawasan.list_kecamatan})),(0,m.v9)((function(a){return a.pelaporanPengawasan.list_kelurahan}));(0,t.useEffect)((function(){ya(),Sa(),C().get("".concat(se,"/jenis-kendali/combobox?$orderby=nama")).then((function(a){var e=a.data.data.map((function(a){return{label:a.text,value:String(a.value)}}));M(e)})),C().get("".concat(se,"/jenis-reklame/combobox?$orderby=nama")).then((function(a){var e=a.data.data.map((function(a){return{label:a.text,value:String(a.value)}}));D(e)})),C().get("".concat(se,"/status-reklame/combobox?$orderby=nama")).then((function(a){var e=a.data.data.map((function(a){return{label:a.text,value:String(a.value)}}));W(e)}))}),[]);var H=(0,t.useState)({val:""}),G=(0,c.Z)(H,2),Y=G[0],z=G[1],$=(0,t.useState)({val:""}),X=(0,c.Z)($,2),Q=X[0],ea=X[1],na=(0,t.useState)({val:""}),ta=(0,c.Z)(na,2),sa=ta[0],ra=ta[1],la=function(a){z({val:a.target.value})},ia=function(a){ea({val:a.target.value})};var ca=(0,t.useState)({value:"",label:""}),oa=(0,c.Z)(ca,2),da=oa[0],ua=oa[1],ha=function(){var a=(0,i.Z)(d().mark((function a(e){var n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(se,"/jenis-reklame/combobox"));case 2:return n=a.sent,a.next=5,n.data.data;case 5:return t=a.sent,a.abrupt("return",t.map((function(a){return{label:a.text,value:a.value}})));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),xa=(0,t.useState)({value:"",label:""}),ga=(0,c.Z)(xa,2),pa=ga[0],ja=ga[1],fa=function(){var a=(0,i.Z)(d().mark((function a(e){var n,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(se,"/status-reklame/combobox"));case 2:return n=a.sent,a.next=5,n.data.data;case 5:return t=a.sent,a.abrupt("return",t.map((function(a){return{label:a.text,value:a.value}})));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),va=(0,t.useState)([]),ba=(0,c.Z)(va,2),Na=ba[0],wa=ba[1],ya=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(ie,"/hak-akses/find"));case 2:e=a.sent,wa(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Ca=(0,t.useState)([]),Za=(0,c.Z)(Ca,2),Pa=Za[0],Aa=Za[1],Sa=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(le,"/bidang-wilayah/find"));case 2:e=a.sent,Aa(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Ka=(0,t.useState)({start:Date.now()-10,end:Date.now()}),Ra=(0,c.Z)(Ka,2),Ta=(Ra[0],Ra[1],function(){var a=(0,i.Z)(d().mark((function a(e,n){var t,s;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(re,"/kegiatan-umum"));case 2:t=a.sent,s=t.data.data,F(s),console.log(t);case 6:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}()),Ba=(0,t.useState)(0),Ea=(0,c.Z)(Ba,2),Fa=Ea[0],La=Ea[1],Ia=(0,t.useState)([]),Da=(0,c.Z)(Ia,2),Ua=Da[0],qa=Da[1],Ma=localStorage.getItem("kt-auth-react-v"),Oa=JSON.parse(Ma).data.hak_akses;console.log("id hak akses",Oa),console.log("aksi",Fa);var Ja=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat(te,"/manajemen-pengguna/hak-akses/findone/").concat(Oa));case 2:e=a.sent,qa(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,t.useEffect)((function(){Ja()}),[]),(0,t.useEffect)((function(){var a,e,n;return null!==Ua&&void 0!==Ua&&null!==(a=Ua.nama_hak_akses)&&void 0!==a&&a.toLowerCase().includes("admin")?La(1):null!==Ua&&void 0!==Ua&&null!==(e=Ua.nama_hak_akses)&&void 0!==e&&e.toLowerCase().includes("kepala satpol pp dki")?La(2):null!==Ua&&void 0!==Ua&&null!==(n=Ua.nama_hak_akses)&&void 0!==n&&n.toLowerCase().includes("kepala")?La(0):La(3)}),[Ua]);function Va(a){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,i.Z)(d().mark((function a(e){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:x(!0),C().get("".concat(re,"/reklame/?%24filter=").concat(K.strparam,"&%24top=").concat(b,"&%24page=").concat(e)).then((function(a){var e=a.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.created_by,waktu_pengawasan:a.waktu_pengawasan,kota:a.kota,status_reklame:a.status_reklame,pemilik_reklame:a.pemilik_reklame,alamat:a.alamat,tgl_pengecekan:a.tgl_pengecekan,lokasi_tiang:a.lokasi_tiang,share_location:a.share_location,ukuran:a.ukuran,konstruksi_reklame:a.konstruksi_reklame,konten_iklan:a.konten_iklan,longtitude:a.longtitude}}));return Array.from(e).forEach((function(a,e){a.serial=e+1})),_(e),P(a.data.total_items),x(!1),[e,_]}));case 2:case"end":return a.stop()}}),a)}))),Wa.apply(this,arguments)}(0,t.useEffect)((function(){Va(0)}),[K,b]);var Ha=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e="",Y.val&&Q.val?e+="tgl_pengecekan%20ge%20%27".concat(Y.val,"%27%20and%20tgl_pengecekan%20le%20%27").concat(Q.val,"%27"):""!==Y.val?e+="tgl_pengecekan%20eq%20%27".concat(Y.val,"%27"):""!==Q.val&&(e+="tgl_pengecekan%20eq%20%27".concat(Q.val,"%27")),""!==sa.val&&(Y.val||Q.val||da.value||pa.value)?e+="%20and%20created_by%20eq%20%27".concat(sa.val,"%27"):""!==sa.val&&(e+="created_by%20eq%20%27".concat(sa.val,"%27")),""!==da.value&&(Y.val||Q.val||sa.val||pa.value)?e+="%20and%20jenis_reklame%20eq%20%27".concat(da.value,"%27"):""!==da.value&&(e+="jenis_reklame%20eq%20%27".concat(da.value,"%27")),""!==pa.value&&(Y.val||Q.val||sa.val||da.value)?e+="%20and%20status_reklame%20eq%20%27".concat(pa.value,"%27"):""!==pa.value&&(e+="status_reklame%20eq%20%27".concat(pa.value,"%27")),R((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:e})}));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Ga=function(){z({val:""}),ea({val:""}),ra({val:""}),ua({value:"",label:""}),ja({value:"",label:""}),R((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:""})}))},Ya=function(a){Va(a-1)},za=function(){var a=(0,i.Z)(d().mark((function a(e,n){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:x(!0),C().get("".concat(re,"/reklame/?%24filter=").concat(K.strparam,"&%24top=").concat(e,"&%24page=").concat(n)).then((function(a){var n=a.data.data.map((function(a){return{id:a.id,no:a.id,pelaksana:a.created_by,waktu_pengawasan:a.waktu_pengawasan,kota:a.kota,status_reklame:a.status_reklame,pemilik_reklame:a.pemilik_reklame,alamat:a.alamat,tgl_pengecekan:a.tgl_pengecekan}}));Array.from(n).forEach((function(a,e){a.serial=e+1})),_(n),N(e),x(!1)}));case 2:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}();return(0,j.jsx)("div",{className:"app-main flex-column flex-row-fluid",id:"kt_app_main",children:(0,j.jsxs)("div",{className:"d-flex flex-column flex-column-fluid",children:[(0,j.jsx)("div",{id:"kt_app_toolbar",className:"app-toolbar py-3 py-lg-6",children:(0,j.jsx)("div",{id:"kt_app_toolbar_container",className:"app-container container-xxl d-flex flex-stack",children:(0,j.jsx)("div",{className:"page-title d-flex flex-column justify-content-center flex-wrap me-3",children:(0,j.jsx)("h1",{className:"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0",children:"Daftar Laporan Pengawasan Reklame"})})})}),(0,j.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,j.jsx)("div",{id:"kt_app_content_container",className:"app-container container-xxl",children:3===Fa?(0,j.jsx)("div",{className:"card",children:(0,j.jsx)("div",{className:"card-header border-1 py-6 d-flex justify-content-center align-items-center",children:(0,j.jsx)("h3",{className:"fs-4 fw-semibold",children:"TIDAK MEMILIKI HAK AKSES HALAMAN INI"})})}):(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card card-flush h-xl-100",children:(0,j.jsx)("div",{className:"card-header border-1 pt-6",children:(0,j.jsx)("div",{className:"col-xl-12 mb-xl-12 mt-6",children:(0,j.jsx)("div",{className:"accordion accordion-icon-toggle",id:"kt_accordion_2",children:(0,j.jsxs)("div",{className:"mb-5",children:[(0,j.jsxs)("div",{className:"accordion-header py-3 d-flex","data-bs-toggle":"collapse","data-bs-target":"#kt_accordion_2_item_1",children:[(0,j.jsx)("span",{className:"accordion-icon",children:(0,j.jsx)("span",{className:"svg-icon svg-icon-4",children:(0,j.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,j.jsx)("rect",{opacity:"0.5",x:"18",y:"13",width:"13",height:"2",rx:"1",transform:"rotate(-180 18 13)",fill:"currentColor"}),(0,j.jsx)("path",{d:"M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z",fill:"currentColor"})]})})}),(0,j.jsx)("h3",{className:"fs-4 fw-semibold mb-0 ms-4",children:"Pilihan Filter"})]}),(0,j.jsx)("div",{id:"kt_accordion_2_item_1",className:"fs-6 collapse show ps-10","data-bs-parent":"#kt_accordion_2",children:0===Fa?(0,j.jsx)(h.J9,{validationSchema:E,initialValues:aa.E3,onSubmit:Ta,children:(0,j.jsx)(h.l0,{id:"list_pelaporan_kegiatan_filter",children:(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{type:"date",name:"tgl_pengecekan",className:"form-control",value:Y.val,onChange:la})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{name:"tgl_pengecekan",type:"date",className:"form-control",value:Q.val,onChange:ia})})]})})}),(0,j.jsx)("div",{className:"row g-8 mt-2",children:(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:Ha,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:Ga,children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})]})})]})})}):1===Fa?(0,j.jsx)(h.J9,{validationSchema:E,initialValues:aa.E3,onSubmit:Ta,children:(0,j.jsx)(h.l0,{id:"list_pelaporan_kegiatan_filter",children:(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{type:"date",name:"tgl_pengecekan",className:"form-control",value:Y.val,onChange:la})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{name:"tgl_pengecekan",type:"date",className:"form-control",value:Q.val,onChange:ia})})]})})}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:Ha,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:Ga,children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})]}),(0,j.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12",children:(0,j.jsxs)(_a.Z,{onClick:function(){return a("/pelaporan/tambah-laporan-pengawasan")},className:"btn btn-primary me-2",children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Tambah"]})})]})]})})}):(0,j.jsx)(h.J9,{validationSchema:E,initialValues:aa.E3,onSubmit:Ta,children:(0,j.jsx)(h.l0,{id:"list_pelaporan_kegiatan_filter",children:(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{type:"date",name:"tgl_pengecekan",className:"form-control",value:Y.val,onChange:la})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-24",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{name:"tgl_pengecekan",type:"date",className:"form-control",value:Q.val,onChange:ia})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Jenis Reklame"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)(J.Z,{name:"filter_jenis_reklame_id_selection",defaultOptions:!0,value:da,loadOptions:function(a,e){setTimeout((0,i.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,ha(a);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},onChange:function(a){ua((function(e){return(0,l.Z)((0,l.Z)({},e),a)}))},styles:"dark"===n?ne:ee})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Status Reklame"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)(J.Z,{name:"filter_jenis_reklame_id_selection",defaultOptions:!0,value:pa,loadOptions:function(a,e){setTimeout((0,i.Z)(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.next=3,fa(a);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},onChange:function(a){ja((function(e){return(0,l.Z)((0,l.Z)({},e),a)}))},styles:"dark"===n?ne:ee})})]})})}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:Ha,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:Ga,children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})]}),(0,j.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12"})]})]})})})})]})})})})}),(0,j.jsx)("div",{className:"card-body py-4",children:0===Fa?(0,j.jsx)($a,{data:f,totalRows:Z,handlePerRowsChange:za,handlePageChange:Ya,loading:u,hakAkses:Na,wilayahBidang:Pa,theme:"dark"===n?"darkMetro":"light"}):1===Fa?(0,j.jsx)(Xa,{data:f,totalRows:Z,handlePerRowsChange:za,handlePageChange:Ya,loading:u,hakAkses:Na,wilayahBidang:Pa,theme:"dark"===n?"darkMetro":"light"}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-2 fw-semibold text-center",children:"LAPORAN HASIL KEGIATAN"})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-2 fw-semibold text-center",children:"PADA SATPOL PP......................................"})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-6 fw-semibold text-center",children:"PERIODE .................... s/d ......................."})}),(0,j.jsx)(Qa,{data:f,totalRows:Z,handlePerRowsChange:za,handlePageChange:Ya,loading:u,hakAkses:Na,theme:"dark"===n?"darkMetro":"light"}),(0,j.jsxs)("div",{className:"row mt-10",children:[(0,j.jsx)("div",{className:"col-8"}),(0,j.jsxs)("div",{className:"col-4 fs-6 mb-2 fw-semibold text-center",children:["Jakarta, ..............................20...",(0,j.jsx)("div",{className:"col fs-6 mb-15 fw-semibold text-center",children:"KEPALA SATUAN POLISI PAMONG PRAJA ..............................................................."}),(0,j.jsx)("div",{className:"col fs-6 mb-2 fw-semibold text-center",children:"NAMA"}),(0,j.jsx)("div",{className:"col fs-6 mb-2 fw-semibold text-center",children:"NIP. ......................"})]})]})]})})]})})})]})})},oe=function(a){return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,j.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,j.jsx)("div",{className:"d-flex flex-column",children:(0,j.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})},de=function(a){var e=(0,ua.unparse)(a),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(n),t.setAttribute("download","LAPORAN TAMU DAERAH.csv"),document.body.appendChild(t),t.click(),t.remove()},me=function(a){var e=a.data,n=a.totalRows,r=a.handlePerRowsChange,l=a.handlePageChange,i=a.loading,c=a.konfirDel,o=a.theme,d=(0,s.s0)(),m=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Tanggal Kunjungan",width:"140px",sortable:!0,selector:function(a){return a.tanggal_kunjungan}},{name:"Waktu Mulai",width:"140px",selector:function(a){return a.waktu_mulai_kunjungan}},{name:"Waktu Selesai",width:"140px",selector:function(a){return a.waktu_selesai_kunjungan}},{name:"Asal Instansi",width:"140px",wrap:!0,selector:function(a){return a.asal_instansi}},{name:"Jumlah Pengunjung",width:"160px",wrap:!0,sortable:!0,selector:function(a){return a.jumlah}},{name:"Maksud Tujuan",width:"140px",wrap:!0,selector:function(a){return a.maksud_dan_tujuan}},{name:"Pejabat Penerima Kunjungan",width:"140px",wrap:!0,selector:function(a){return a.pejabat_penerima_kunjungan}},{name:"Tempat Kunjungan",width:"140px",wrap:!0,selector:function(a){return a.tempat_kunjungan}},{name:"Aksi",sortable:!1,className:"action",center:!0,allowOverflow:!0,fixed:!0,cell:function(a){return(0,j.jsx)(t.Fragment,{children:(0,j.jsx)("div",{className:"d-flex mb-2 mt-2 flex-end",children:[ia.Z].map((function(e,n){return(0,j.jsxs)(e,{as:ca.Z,id:"dropdown-button-drop-".concat(n),size:"sm",variant:"light",title:"Aksi",children:[(0,j.jsx)(oa.Z.Item,{onClick:function(){return d("/pelaporan/DetailLaporanTamuDaerah/"+a.id)},children:"Detail"}),(0,j.jsx)(oa.Z.Item,{onClick:function(){return d("/pelaporan/ubah-laporan-tamu-daerah/"+a.id)},children:"Ubah"}),(0,j.jsx)(oa.Z.Item,{href:"#",onClick:function(){return c(a.id)},children:"Hapus"})]},n)}))})})}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return de(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:m,data:e,progressPending:i,pagination:!0,paginationServer:!0,progressComponent:(0,j.jsx)(oe,{}),paginationTotalRows:n,onChangeRowsPerPage:r,onChangePage:l,theme:o})]})},ue=function(a){var e=a.data,n=a.totalRows,t=a.handlePerRowsChange,s=a.handlePageChange,r=a.loading,l=a.theme,i=[{name:"No",width:"80px",selector:function(a){return a.serial},sortable:!0,cell:function(a){return(0,j.jsx)("div",{className:"mb-2 mt-2",children:a.serial})}},{name:"Tanggal Kunjungan",width:"140px",selector:function(a){return a.tanggal_kunjungan}},{name:"Waktu Mulai",width:"140px",selector:function(a){return a.waktu_mulai_kunjungan}},{name:"Waktu Selesai",width:"140px",selector:function(a){return a.waktu_selesai_kunjungan}},{name:"Asal Instansi",width:"140px",wrap:!0,selector:function(a){return a.asal_instansi}},{name:"Jumlah Pengunjung",width:"140px",wrap:!0,selector:function(a){return a.jumlah}},{name:"Maksud Tujuan",width:"140px",wrap:!0,selector:function(a){return a.maksud_dan_tujuan}},{name:"Pejabat Penerima Kunjungan",width:"140px",wrap:!0,selector:function(a){return a.pejabat_penerima_kunjungan}},{name:"Tempat Kunjungan",width:"140px",wrap:!0,selector:function(a){return a.tempat_kunjungan}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("button",{type:"button","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",style:{float:"right",marginRight:"50px"},className:"btn btn-light-primary",onClick:function(){return de(e)},children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr078.svg",className:"svg-icon-2"}),"Unduh CSV"]})}),(0,j.jsx)(da.ZP,{columns:i,data:e,progressPending:r,progressComponent:(0,j.jsx)(oe,{}),pagination:!0,paginationServer:!0,paginationTotalRows:n,onChangeRowsPerPage:t,onChangePage:s,theme:l})]})};(0,da.jG)("darkMetro",{text:{primary:"#92929f",secondary:"#92929f"},background:{default:"#1e1e2e"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#2b2c41"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");var he=va.t.getSystemMode(),xe="https://sisappra-service-v2.tsgitdev.com",ge=function(){var a=(0,s.s0)(),e=(0,ka.rB)().mode,n="system"===e?he:e,r=(0,t.useState)({val:""}),o=(0,c.Z)(r,2),m=o[0],u=o[1],h=(0,t.useState)({val:""}),x=(0,c.Z)(h,2),g=x[0],p=x[1],f=(0,t.useState)({val:""}),_=(0,c.Z)(f,2),v=_[0],k=_[1],b=(0,t.useState)(!1),N=(0,c.Z)(b,2),y=N[0],Z=N[1],P=(0,t.useState)([]),A=(0,c.Z)(P,2),S=A[0],K=A[1],R=(0,t.useState)(10),T=(0,c.Z)(R,2),B=T[0],E=T[1],F=(0,t.useState)(0),L=(0,c.Z)(F,2),I=L[0],D=L[1],U=(0,t.useState)({strparam:""}),q=(0,c.Z)(U,2),M=q[0],O=q[1],J=(m.val,g.val,function(a){u({val:a.target.value})}),V=function(a){p({val:a.target.value})},W=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e="",m.val&&g.val?e+="tanggal_kunjungan%20ge%20%27".concat(m.val,"%27%20and%20tanggal_kunjungan%20le%20%27").concat(g.val,"%27"):""!==m.val?e+="tanggal_kunjungan%20eq%20%27".concat(m.val,"%27"):""!==g.val&&(e+="tanggal_kunjungan%20eq%20%27".concat(g.val,"%27")),""!==v.val&&(m.val||g.val)?e+="%20and%20asal_instansi%20eq%20%27".concat(v.val,"%27"):""!==v.val&&(e+="asal_instansi%20eq%20%27".concat(v.val,"%27")),O((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:e})}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),H=function(){u({val:""}),p({val:""}),k({val:""}),O((function(a){return(0,l.Z)((0,l.Z)({},a),{},{strparam:""})}))};function G(a){return Y.apply(this,arguments)}function Y(){return Y=(0,i.Z)(d().mark((function a(e){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Z(!0),C().get("".concat(xe,"/tamu-daerah/?%24filter=").concat(M.strparam,"&%24top=").concat(B,"&%24page=").concat(e)).then((function(a){var e=a.data.data.map((function(a){return{id:a.id,no:a.id,tanggal_kunjungan:a.tanggal_kunjungan,waktu_mulai_kunjungan:a.waktu_mulai_kunjungan,waktu_selesai_kunjungan:a.waktu_selesai_kunjungan,asal_instansi:a.asal_instansi,jumlah:a.jml_pengunjung,maksud_dan_tujuan:a.maksud_dan_tujuan,pejabat_penerima_kunjungan:a.pejabat_penerima_kunjungan,tempat_kunjungan:a.tempat_kunjungan,total_items:a.total_items}}));return Array.from(e).forEach((function(a,e){a.serial=e+1})),K(e),D(a.data.total_items),Z(!1),[e,K]}));case 2:case"end":return a.stop()}}),a)}))),Y.apply(this,arguments)}(0,t.useEffect)((function(){G(0)}),[M,B]);var z=function(a){G(a-1)},$=function(){var a=(0,i.Z)(d().mark((function a(e,n){return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Z(!0),C().get("".concat(xe,"/tamu-daerah/?%24filter=").concat(M.strparam,"&%24top=").concat(e,"&%24page=").concat(n)).then((function(a){var n=a.data.data.map((function(a){return{id:a.id,no:a.id,tanggal_kunjungan:a.tanggal_kunjungan,waktu_mulai_kunjungan:a.waktu_mulai_kunjungan,waktu_selesai_kunjungan:a.waktu_selesai_kunjungan,asal_instansi:a.asal_instansi,jumlah:a.jml_pengunjung,maksud_dan_tujuan:a.maksud_dan_tujuan,pejabat_penerima_kunjungan:a.pejabat_penerima_kunjungan,tempat_kunjungan:a.tempat_kunjungan,total_items:a.total_items}}));Array.from(n).forEach((function(a,e){a.serial=e+1})),K(n),E(e),Z(!1)}));case 2:case"end":return a.stop()}}),a)})));return function(e,n){return a.apply(this,arguments)}}(),X=(0,t.useState)(0),Q=(0,c.Z)(X,2),aa=Q[0],ea=Q[1],na=(0,t.useState)([]),ta=(0,c.Z)(na,2),sa=ta[0],ra=ta[1],ia=localStorage.getItem("kt-auth-react-v"),ca=JSON.parse(ia).data.hak_akses;console.log("https://sisappra-master-data-service-v2.tsgitdev.com");var oa=function(){var a=(0,i.Z)(d().mark((function a(){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C().get("".concat("https://sisappra-be.tsgitdev.com","/manajemen-pengguna/hak-akses/findone/").concat(ca));case 2:e=a.sent,ra(e.data.data);case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();(0,t.useEffect)((function(){oa()}),[]),(0,t.useEffect)((function(){var a,e;return null!==sa&&void 0!==sa&&null!==(a=sa.nama_hak_akses)&&void 0!==a&&a.toLowerCase().includes("admin")?ea(1):null!==sa&&void 0!==sa&&null!==(e=sa.nama_hak_akses)&&void 0!==e&&e.toLowerCase().includes("kepala ")?ea(2):ea(0)}),[sa]);return(0,j.jsx)("div",{className:"app-main flex-column flex-row-fluid",id:"kt_app_main",children:(0,j.jsxs)("div",{className:"d-flex flex-column flex-column-fluid",children:[(0,j.jsx)("div",{id:"kt_app_toolbar",className:"app-toolbar py-3 py-lg-6",children:(0,j.jsx)("div",{id:"kt_app_toolbar_container",className:"app-container container-xxl d-flex flex-stack",children:(0,j.jsx)("div",{className:"page-title d-flex flex-column justify-content-center flex-wrap me-3",children:(0,j.jsx)("h1",{className:"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0",children:"Daftar Laporan Tamu Daerah"})})})}),(0,j.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,j.jsx)("div",{id:"kt_app_content_container",className:"app-container container-xxl",children:0===aa?(0,j.jsx)("div",{className:"card",children:(0,j.jsx)("div",{className:"card-header border-1 py-6 d-flex justify-content-center align-items-center",children:(0,j.jsx)("h3",{className:"fs-4 fw-semibold",children:"TIDAK MEMILIKI HAK AKSES HALAMAN INI"})})}):(0,j.jsxs)("div",{className:"card",children:[(0,j.jsx)("div",{className:"card-header border-1 pt-6",children:(0,j.jsx)("div",{className:"accordion accordion-icon-toggle",id:"kt_accordion_2",children:(0,j.jsxs)("div",{className:"mb-5",children:[(0,j.jsxs)("div",{className:"accordion-header py-3 d-flex","data-bs-toggle":"collapse","data-bs-target":"#kt_accordion_2_item_1",children:[(0,j.jsx)("span",{className:"accordion-icon",children:(0,j.jsx)("span",{className:"svg-icon svg-icon-4",children:(0,j.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,j.jsx)("rect",{opacity:"0.5",x:"18",y:"13",width:"13",height:"2",rx:"1",transform:"rotate(-180 18 13)",fill:"currentColor"}),(0,j.jsx)("path",{d:"M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z",fill:"currentColor"})]})})}),(0,j.jsx)("h3",{className:"fs-4 fw-semibold mb-0 ms-4",children:"Pilihan Filter"})]}),(0,j.jsx)("div",{id:"kt_accordion_2_item_1",className:"fs-6 collapse show ps-10","data-bs-parent":"#kt_accordion_2",children:1===aa?(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-10 col-lg-10 col-sm-24",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-2 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-4 mx-10",children:(0,j.jsx)("input",{type:"date",name:"tanggal_kunjungan",className:"form-control",value:m.val,onChange:J})})]})})}),(0,j.jsx)("div",{className:"col-md-10 col-lg-10 col-sm-24",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-2 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-4 mx-10",children:(0,j.jsx)("input",{name:"tanggal_kunjungan",type:"date",className:"form-control",value:g.val,onChange:V})})]})})}),(0,j.jsxs)("div",{className:"row g-8 mt-2",children:[(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:W,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsx)(la.rU,{to:"#",children:(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:H,children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})})]}),(0,j.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12",children:(0,j.jsxs)(_a.Z,{onClick:function(){return a("/pelaporan/tambah-laporan-tamu-daerah")},className:"btn btn-primary me-2",children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Tambah"]})})]})]}):(0,j.jsxs)("div",{className:"row w-100 mt-10 mb-10",children:[(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Instansi"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{type:"text",name:"asal_instansi",className:"form-control",placeholder:"Masukkan asal instansi",value:v.val,onChange:function(a){k({val:a.target.value})}})})]})})}),(0,j.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-4 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Awal"})}),(0,j.jsx)("div",{className:"col-8",children:(0,j.jsx)("input",{name:"kegiatan__tanggal_awal",type:"date",className:"form-control",value:m.val,onChange:J})})]})})}),(0,j.jsx)("div",{className:"col-md-10 col-lg-10 col-sm-24",children:(0,j.jsx)("div",{className:"mb-10",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-2 pt-2",children:(0,j.jsx)("label",{className:"form-label align-middle",children:"Tanggal Akhir"})}),(0,j.jsx)("div",{className:"col-4 mx-10",children:(0,j.jsx)("input",{name:"kegiatan__tanggal_akhir",type:"date",className:"form-control",value:g.val,onChange:V})})]})})}),(0,j.jsx)("div",{className:"row g-8 mt-2",children:(0,j.jsxs)("div",{className:"d-flex justify-content-start col-md-6 col-lg-6 col-sm-6",children:[(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:W,children:[(0,j.jsx)(ma.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]}),(0,j.jsx)(la.rU,{to:"#",children:(0,j.jsxs)(_a.Z,{className:"btn btn-light-primary me-2",onClick:H,children:[(0,j.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})})]})})]})})]})})}),1===aa?(0,j.jsx)("div",{className:"card-body py-4",children:(0,j.jsx)(me,{data:S,totalRows:I,handlePerRowsChange:$,handlePageChange:z,loading:y,konfirDel:function(a){w().fire({text:"Anda yakin ingin menghapus data ini",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya!",cancelButtonText:"Tidak!",color:"#000000"}).then(function(){var e=(0,i.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=6;break}return t={data:{deleted_by:"string"}},e.next=4,C().delete("".concat(xe,"/tamu-daerah/").concat(a),t);case 4:e.sent?(G(0),w().fire({icon:"success",text:"Data berhasil dihapus",showConfirmButton:!1,timer:1500,color:"#000000"})):w().fire({icon:"error",text:"Data gagal dihapus, harap mencoba lagi",showConfirmButton:!1,timer:1500,color:"#000000"});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},theme:"dark"===n?"darkMetro":"light"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"card-body py-4",children:[(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-2 fw-semibold text-center",children:"REKAPITULASI TAMU DAERAH"})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col fs-4 mb-2 fw-semibold text-center",children:"PADA SATPOL PP......................................"})}),(0,j.jsx)("div",{className:"row",children:(0,j.jsxs)("div",{className:"col fs-4 mb-6 fw-semibold text-center",children:["PERIODE"," ",void 0!==m.val?m.val:"...................."," ","s/d"," ",void 0!==g.val?g.val:"...................."]})}),(0,j.jsx)(ue,{data:S,totalRows:I,handlePerRowsChange:$,handlePageChange:z,loading:y,theme:"dark"===n?"darkMetro":"light"})]}),(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-8"}),(0,j.jsxs)("div",{className:"col-4 fs-6 mb-2 fw-semibold text-center",children:["Jakarta, ..............................20...",(0,j.jsx)("div",{className:"col fs-6 mb-15 fw-semibold text-center",children:"KEPALA SATUAN POLISI PAMONG PRAJA ..............................................................."}),(0,j.jsx)("div",{className:"col fs-6 mb-2 fw-semibold text-center",children:"NAMA"}),(0,j.jsx)("div",{className:"col fs-6 mb-2 fw-semibold text-center",children:"NIP. ......................"})]})]})]})]})})})]})})},pe=[{title:" Pelaporan ",path:"/pelaporan/LaporanKegiatan",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],je=function(){return(0,j.jsx)(s.Z5,{children:(0,j.jsxs)(s.AW,{element:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(s.j3,{})}),children:[(0,j.jsx)(s.AW,{path:"LaporanKegiatan",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Laporan Kegiatan"}),(0,j.jsx)(Aa,{})]})}),(0,j.jsx)(s.AW,{path:"TambahLaporanKegiatan",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Tambah Laporan Kegiatan"}),(0,j.jsx)(ra,{})]})}),(0,j.jsx)(s.AW,{path:"UbahLaporanKegiatan/:id",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Ubah Laporan Kegiatan"}),(0,j.jsx)(ra,{})]})}),(0,j.jsx)(s.AW,{path:"DetailLaporanKegiatan/:id",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Detail Laporan Kegiatan"}),(0,j.jsx)(ra,{})]})}),(0,j.jsx)(s.AW,{path:"LaporanKejadian",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Laporan Kejadian"}),(0,j.jsx)(Ha,{})]})}),(0,j.jsx)(s.AW,{path:"tambah-laporan-kejadian",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Tambah Laporan Kejadian"}),(0,j.jsx)(M,{})]})}),(0,j.jsx)(s.AW,{path:"ubah-laporan-kejadian/:id",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Ubah Laporan Kejadian"}),(0,j.jsx)(M,{})]})}),(0,j.jsx)(s.AW,{path:"DetailLaporanKejadian/:id",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Detail Laporan Kejadian"}),(0,j.jsx)(M,{})]})}),(0,j.jsx)(s.AW,{path:"LaporanPengawasan",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Laporan Pengawasan"}),(0,j.jsx)(ce,{})]})}),(0,j.jsx)(s.AW,{path:"tambah-laporan-pengawasan",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Tambah Laporan Pengawasan"}),(0,j.jsx)(Y,{})]})}),(0,j.jsx)(s.AW,{path:"ubah-laporan-pengawasan/:id",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Ubah Laporan Pengawasan"}),(0,j.jsx)(Y,{})]})}),(0,j.jsx)(s.AW,{path:"DetailLaporanPengawasan/:id",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Detail Laporan Pengawasan"}),(0,j.jsx)(Y,{})]})}),(0,j.jsx)(s.AW,{path:"LaporanTamuDaerah",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Laporan Tamu Daerah"}),(0,j.jsx)(ge,{})]})}),(0,j.jsx)(s.AW,{path:"tambah-laporan-tamu-daerah",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Tambah Tamu Daerah"}),(0,j.jsx)(Q,{})]})}),(0,j.jsx)(s.AW,{path:"ubah-laporan-tamu-daerah/:id",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Ubah Tamu Daerah"}),(0,j.jsx)(Q,{})]})}),(0,j.jsx)(s.AW,{path:"DetailLaporanTamuDaerah/:id",element:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V1,{breadcrumbs:pe,children:"Detail Tamu Daerah"}),(0,j.jsx)(Q,{})]})}),(0,j.jsx)(s.AW,{index:!0,element:(0,j.jsx)(s.Fg,{to:"/pelaporan"})})]})})}}}]);
//# sourceMappingURL=955.e249eca2.chunk.js.map