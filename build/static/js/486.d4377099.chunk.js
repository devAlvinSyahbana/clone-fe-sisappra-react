"use strict";(self.webpackChunkSISAPPRA=self.webpackChunkSISAPPRA||[]).push([[486],{9486:function(a,n,e){e.r(n),e.d(n,{default:function(){return y}});var r=e(2791),s=e(6871),t=e(4880),l=e(4942),i=e(1413),c=e(5861),o=e(885),u=e(4687),d=e.n(u),m=e(4569),h=e.n(m),p=e(3504),f=e(3513),v=e(6144),x=e(1230),j=e(9546),g=e(3360),b=e(6487),Z=e(3027),_=e(662),N=e(6864),k=e(184),w="".concat("https://sisappra-be.tsgitdev.com","/sarana-prasarana");function S(){var a=(0,r.useState)(!1),n=(0,o.Z)(a,2),e=n[0],s=n[1],t=(0,r.useState)(!1),u=(0,o.Z)(t,2),m=(u[0],u[1],function(){return s(!1)}),S=(0,r.useState)({label:"",value:null}),P=(0,o.Z)(S,2),y=P[0],C=P[1],F=(0,r.useState)({label:"",value:null}),O=(0,o.Z)(F,2),A=O[0],T=O[1],I=(0,r.useState)({label:"",value:null}),U=(0,o.Z)(I,2),B=U[0],J=U[1],K=(0,r.useState)([]),L=(0,o.Z)(K,2),R=L[0],D=L[1],H=(0,r.useState)(!1),W=(0,o.Z)(H,2),E=W[0],V=W[1],q=(0,r.useState)(0),z=(0,o.Z)(q,2),G=z[0],M=z[1],Q=(0,r.useState)(10),X=(0,o.Z)(Q,2),Y=X[0],$=X[1],aa=(0,r.useState)({strparam:""}),na=(0,o.Z)(aa,2),ea=na[0],ra=na[1];(0,r.useEffect)((function(){function a(){return(a=(0,c.Z)(d().mark((function a(n){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return V(!0),a.next=3,h().get("".concat(w,"/filter?limit=").concat(Y,"&offset=").concat(n).concat(ea.strparam));case 3:e=a.sent,D(e.data.data),M(e.data.total_data),V(!1);case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(n){a.apply(this,arguments)}(1)}),[ea,Y]);var sa=function(a){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,k.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,k.jsx)("div",{className:"d-flex flex-column",children:(0,k.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})},ta=[{name:"Jenis Sarana & Prasarana",selector:function(a){return a.jenis_sarana_prasarana},sortable:!0,sortField:"jenis_sarana_prasarana"},{name:"Status Sarana & Prasarana",selector:function(a){return a.status_sarana_prasarana},sortable:!0,sortField:"status_sarana_prasarana"},{name:"Jumlah",selector:function(a){return a.jumlah},sortable:!0,sortField:"jumlah"},{name:"Kondisi",selector:function(a){return a.kondisi},sortable:!0,sortField:"kondisi"},{name:"Keterangan",selector:function(a){return a.keterangan},sortable:!0,sortField:"keterangan"},{name:"Dokumentasi",selector:function(a){return a.dokumentasi},sortable:!0,sortField:"dokumentasi"},{name:"Aksi",sortable:!1,text:"Action",className:"action",align:"left",cell:function(a){return(0,k.jsx)(r.Fragment,{children:(0,k.jsx)("div",{className:"mb-2",children:[j.Z].map((function(a,n){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(a,{as:v.Z,id:"dropdown-button-drop-".concat(n),size:"sm",variant:"light",title:"Aksi",children:[(0,k.jsx)(x.Z.Item,{children:(0,k.jsx)(p.rU,{to:"#",children:"Detail"})}),(0,k.jsx)(x.Z.Item,{children:(0,k.jsx)(p.rU,{to:"#",children:"Ubah"})}),(0,k.jsx)(x.Z.Item,{href:"#",children:"Hapus"})]},n)})}))})})}}],la=function(){var a=(0,c.Z)(d().mark((function a(n){var e;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return V(!0),a.next=3,h().get("".concat(w,"/filter?limit=").concat(Y,"&offset=").concat(n).concat(ea.strparam));case 3:return e=a.sent,D(e.data.data),M(e.data.total_data),V(!1),a.abrupt("return",[R,D]);case 8:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}(),ia=function(){var a=(0,c.Z)(d().mark((function a(n,e){var r;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return V(!0),a.next=3,h().get("".concat(w,"/filter?limit=").concat(Y,"&offset=").concat(e).concat(ea.strparam));case 3:r=a.sent,D(r.data.data),$(n),V(!1);case 7:case"end":return a.stop()}}),a)})));return function(n,e){return a.apply(this,arguments)}}(),ca=function(){var a=(0,c.Z)(d().mark((function a(n){var e,r;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h().get("".concat(w,"/findjenis/").concat(n));case 2:return e=a.sent,a.next=5,e.data.data;case 5:return r=a.sent,a.abrupt("return",r.map((function(a){return{label:a.jenis_sarana_prasarana,value:a.id}})));case 7:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}(),oa=function(a,n){setTimeout((0,c.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,ca(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),1e3)},ua=function(){var a=(0,c.Z)(d().mark((function a(n){var e,r;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h().get("".concat(w,"/findstatus/").concat(n));case 2:return e=a.sent,a.next=5,e.data.data;case 5:return r=a.sent,a.abrupt("return",r.map((function(a){return{label:a.status_sarana_prasarana,value:a.id}})));case 7:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}(),da=function(a,n){setTimeout((0,c.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,ua(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),1e3)},ma=function(){var a=(0,c.Z)(d().mark((function a(n){var e,r;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h().get("".concat(w,"/findkondisi/").concat(n));case 2:return e=a.sent,a.next=5,e.data.data;case 5:return r=a.sent,a.abrupt("return",r.map((function(a){return{label:a.kondisi_sarana_prasarana,value:a.id}})));case 7:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}(),ha=function(a,n){setTimeout((0,c.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,ma(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),1e3)},pa=function(){var a=(0,c.Z)(d().mark((function a(){var n;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n="",y.value&&(n+="&jenis_sarana_prasarana=".concat(y.value)),A.value&&(n+="&status_sarana_prasarana=".concat(A.value)),B.value&&(n+="&kondisi_sarana_prasarana=".concat(B.value)),ra((function(a){return(0,i.Z)((0,i.Z)({},a),{},{strparam:n})}));case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),fa=r.useState({}),va=(0,o.Z)(fa,2),xa=va[0],ja=va[1],ga=function(a,n){ja((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,l.Z)({},n,a))}))},ba=function(a){ja((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,l.Z)({},a.target.name,a.target.value))}))},Za=(0,N.TA)({initialValues:{jenis_sarana_prasarana:{value:"",label:"Pilih"},status_sarana_prasarana:{value:"",label:"Pilih"},jumlah:0,kondisi:{value:"",label:"Pilih"},keterangan:""},onSubmit:function(){var a=(0,c.Z)(d().mark((function a(n){var e,r,s,t;return d().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={},null!==xa&&void 0!==xa&&null!==(e=xa.jenis_sarana_prasarana)&&void 0!==e&&e.value?t.jenis_sarana_prasarana=xa.jenis_sarana_prasarana.value:delete t.jenis_sarana_prasarana,null!==xa&&void 0!==xa&&null!==(r=xa.status_sarana_prasarana)&&void 0!==r&&r.value?t.status_sarana_prasarana=xa.status_sarana_prasarana.value:delete t.status_sarana_prasarana,null!==xa&&void 0!==xa&&null!==(s=xa.kondisi)&&void 0!==s&&s.value?t.kondisi=xa.kondisi.value:delete t.kondisi,null!==xa&&void 0!==xa&&xa.keterangan?t.keterangan=xa.keterangan:delete t.keterangan,null!==xa&&void 0!==xa&&xa.jumlah?t.jumlah=xa.jumlah:delete t.jumlah,a.prev=6,a.next=9,h().post("".concat(w,"/create"),t);case 9:a.sent&&(la(1),m(),ja({})),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(6),console.error(a.t0);case 16:case"end":return a.stop()}}),a,null,[[6,13]])})));return function(n){return a.apply(this,arguments)}}()});return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"card",children:[(0,k.jsx)("div",{className:"row g-8 mt-2 ms-5 me-5",children:(0,k.jsx)("div",{className:"col-md-6",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsx)("label",{htmlFor:"",className:"mb-3",children:"Jenis Sarana & Prasarana"}),(0,k.jsx)(_.Z,{cacheOptions:!0,value:y.value?y:{value:"",label:"Pilih"},loadOptions:oa,defaultOptions:!0,onChange:function(a){C((function(n){return(0,i.Z)((0,i.Z)({},n),a)}))},placeholder:"Pilih"})]})})}),(0,k.jsx)("div",{className:"row g-8 mt-2 ms-5 me-5",children:(0,k.jsx)("div",{className:"col-md-6",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsx)("label",{htmlFor:"",className:"mb-3",children:"Status Sarana & Prasarana"}),(0,k.jsx)(_.Z,{cacheOptions:!0,value:A.value?A:{value:"",label:"Pilih"},loadOptions:da,defaultOptions:!0,onChange:function(a){T((function(n){return(0,i.Z)((0,i.Z)({},n),a)}))},placeholder:"Pilih"})]})})}),(0,k.jsx)("div",{className:"row g-8 mt-2 ms-5 me-5",children:(0,k.jsx)("div",{className:"col-md-6",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsx)("label",{htmlFor:"",className:"mb-3",children:"Kondisi"}),(0,k.jsx)(_.Z,{cacheOptions:!0,value:B.value?B:{value:"",label:"Pilih"},loadOptions:ha,defaultOptions:!0,onChange:function(a){J((function(n){return(0,i.Z)((0,i.Z)({},n),a)}))},placeholder:"Pilih"})]})})}),(0,k.jsxs)("div",{className:"row g-8 mt-2 ms-5 me-5",children:[(0,k.jsxs)("div",{className:"col-md-6 col-lg-6 col-sm-12",children:[(0,k.jsx)(p.rU,{to:"#",onClick:pa,className:"me-2",children:(0,k.jsxs)("button",{className:"btn btn-primary me-2",children:[(0,k.jsx)("i",{className:"fa-solid fa-search"}),"Cari"]})}),(0,k.jsx)(p.rU,{to:"#",onClick:function(){C({label:"",value:null}),T({label:"",value:null}),J({label:"",value:null}),ra((function(a){return(0,i.Z)((0,i.Z)({},a),{},{strparam:""})}))},children:(0,k.jsxs)("button",{className:"btn btn-primary",children:[(0,k.jsx)("i",{className:"fa-solid fa-arrows-rotate"}),"Reset"]})})]}),(0,k.jsxs)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12",children:[(0,k.jsx)(p.rU,{to:"#",children:(0,k.jsxs)(g.Z,{variant:"primary",onClick:function(){return s(!0)},children:[(0,k.jsx)("span",{className:"svg-icon svg-icon-2",children:(0,k.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,k.jsx)("rect",{opacity:"0.5",x:"11.364",y:"20.364",width:16,height:2,rx:1,transform:"rotate(-90 11.364 20.364)",fill:"currentColor"}),(0,k.jsx)("rect",{x:"4.36396",y:"11.364",width:16,height:2,rx:1,fill:"currentColor"})]})}),"Tambah Sarana"]})}),"\xa0",(0,k.jsxs)(j.Z,{id:"dropdown-basic-button",title:"Unduh",variant:"light",children:[(0,k.jsx)(x.Z.Item,{href:"".concat(w,"/unduh?q=1").concat(ea.strparam),children:"Excel"}),(0,k.jsx)(x.Z.Item,{href:"#",children:"PDF"})]})]})]}),(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(b.Z,{show:e,onHide:m,backdrop:"static",keyboard:!1,children:[(0,k.jsx)(b.Z.Header,{closeButton:!0,children:(0,k.jsx)(b.Z.Title,{children:"Tambah Sarana & Prasarana"})}),(0,k.jsxs)("form",{onSubmit:Za.handleSubmit,children:[(0,k.jsxs)(b.Z.Body,{children:[(0,k.jsx)("div",{className:"row g-10 mt-2 ms-5 me-5",children:(0,k.jsx)("div",{className:"col-md-15",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsx)("label",{htmlFor:"",className:"mb-3",children:"Jenis Sarana & Prasarana"}),(0,k.jsx)(_.Z,{cacheOptions:!0,loadOptions:oa,defaultOptions:!0,onChange:function(a){return ga(a,"jenis_sarana_prasarana")},value:null!==xa&&void 0!==xa&&xa.jenis_sarana_prasarana?null===xa||void 0===xa?void 0:xa.jenis_sarana_prasarana:{value:"",label:"Pilih"},placeholder:"Pilih"})]})})}),(0,k.jsx)("div",{className:"row g-6 mt-2 ms-5 me-5",children:(0,k.jsx)("div",{className:"col-md-15",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsx)("label",{htmlFor:"",className:"mb-3",children:"Status Sarana & Prasarana"}),(0,k.jsx)(_.Z,{cacheOptions:!0,loadOptions:da,defaultOptions:!0,onChange:function(a){return ga(a,"status_sarana_prasarana")},value:null!==xa&&void 0!==xa&&xa.status_sarana_prasarana?null===xa||void 0===xa?void 0:xa.status_sarana_prasarana:{value:"",label:"Pilih"},placeholder:"Pilih"})]})})}),(0,k.jsx)("div",{className:"row g-6 mt-2 ms-5 me-5",children:(0,k.jsx)("div",{className:"col-md-15",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsx)("label",{htmlFor:"",className:"mb-3",children:"Jumlah"}),(0,k.jsx)("input",{className:"form-control form-control form-control-solid",name:"jumlah",type:"number",min:"0",onChange:ba,onBlur:Za.handleBlur,value:null===xa||void 0===xa?void 0:xa.jumlah})]})})}),(0,k.jsx)("div",{className:"row g-6 mt-2 ms-5 me-5",children:(0,k.jsx)("div",{className:"col-md-15",children:(0,k.jsxs)("div",{className:"form-group",children:["Kondisi",(0,k.jsx)(_.Z,{cacheOptions:!0,loadOptions:ha,defaultOptions:!0,onChange:function(a){return ga(a,"kondisi")},value:null!==xa&&void 0!==xa&&xa.kondisi?null===xa||void 0===xa?void 0:xa.kondisi:{value:"",label:"Pilih"},placeholder:"Pilih"})]})})}),(0,k.jsx)("div",{className:"row g-6 mt-2 ms-5 me-5",children:(0,k.jsx)("div",{className:"col-md-15",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsx)(Z.Z.Label,{children:"Keterangan"}),(0,k.jsx)(Z.Z.Control,{as:"textarea",name:"keterangan",onChange:ba,value:null===xa||void 0===xa?void 0:xa.keterangan})]})})}),(0,k.jsx)("div",{className:"row g-6 mt-2 ms-5 me-5",children:(0,k.jsx)("div",{className:"col-md-15",children:(0,k.jsxs)("div",{className:"form-group",children:[(0,k.jsx)(Z.Z.Label,{children:"File Dokumentasi"}),(0,k.jsx)(Z.Z.Control,{type:"file",id:"firstimg"})]})})})]}),(0,k.jsxs)(b.Z.Footer,{children:[(0,k.jsx)(g.Z,{variant:"secondary",onClick:m,children:"Close"}),(0,k.jsxs)(g.Z,{type:"submit",children:[(0,k.jsx)("i",{className:"fa-solid fa-paper-plane"}),"Simpan"]})]})]})]})}),(0,k.jsx)("div",{className:"table-responsive mt-5 ms-5 me-5",children:(0,k.jsx)(f.ZP,{columns:ta,data:R,progressPending:E,progressComponent:(0,k.jsx)(sa,{}),pagination:!0,paginationServer:!0,paginationTotalRows:G,onChangeRowsPerPage:ia,onChangePage:function(a){la(a)}})})]})})}var P=[{title:"Sarana & Prasarana",path:"/sarana_prasarana/LaporanSaranaPrasarana",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],y=function(){return(0,k.jsx)(s.Z5,{children:(0,k.jsxs)(s.AW,{element:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(s.j3,{})}),children:[(0,k.jsx)(s.AW,{path:"LaporanSaranaPrasarana",element:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(t.V1,{breadcrumbs:P,children:"Laporan Sarana & Prasarana"}),(0,k.jsx)(S,{})]})}),(0,k.jsx)(s.AW,{index:!0,element:(0,k.jsx)(s.Fg,{to:"/sarana_prasarana"})})]})})}}}]);
//# sourceMappingURL=486.d4377099.chunk.js.map