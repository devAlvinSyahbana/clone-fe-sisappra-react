"use strict";(self.webpackChunkSISAPPRAv2_0=self.webpackChunkSISAPPRAv2_0||[]).push([[777],{70297:function(e,a,n){n.r(a),n.d(a,{default:function(){return ka}});var t=n(16871),s=n(81732),r=n(15861),l=n(29439),i=n(1413),o=n(64687),c=n.n(o),d=n(72791),u=n(74569),m=n.n(u),h=n(43504),f=n(43513),p=n(56144),x=n(70636),v=n(29546),g=n(21830),b=n.n(g),k=n(33959),j=n(24216),N=n(72426),Z=n.n(N),y=n(10589),_=n(19783),w=n(80184);(0,f.jG)("darkMetro",{text:{primary:"#92929f",secondary:"#92929f"},background:{default:"#1e1e2e"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#2b2c41"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");var C=y.t.getSystemMode(),S={input:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#5e6278"})},menu:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},indicatorsContainer:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#cccccc"})},indicatorSeparator:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#cccccc"})},control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)",boxShadow:"0 0 0 1px #f5f8fa"})},singleValue:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278"})},option:function(e){return(0,i.Z)((0,i.Z)({},e),{},{height:"100%",backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})}},A={input:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#92929f"})},menu:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},indicatorsContainer:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#92929f"})},indicatorSeparator:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#92929f"})},control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)",boxShadow:"0 0 0 1px #1b1b29"})},singleValue:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f"})},option:function(e){return(0,i.Z)((0,i.Z)({},e),{},{height:"100%",backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})}},B="".concat("https://sisappra-be.tsgitdev.com","/manajemen-pengguna");function P(){var e=(0,t.s0)(),a=(0,_.rB)().mode,n="system"===a?C:a,s=(0,d.useState)(!1),o=(0,l.Z)(s,2),u=(o[0],o[1],(0,d.useState)({val:""})),g=(0,l.Z)(u,2),N=g[0],y=g[1],P=(0,d.useState)([]),F=(0,l.Z)(P,2),M=F[0],T=F[1],D=(0,d.useState)(!1),H=(0,l.Z)(D,2),K=H[0],O=H[1],L=(0,d.useState)(0),E=(0,l.Z)(L,2),R=E[0],U=E[1],V=(0,d.useState)(10),I=(0,l.Z)(V,2),Y=I[0],W=I[1],z=(0,d.useState)({strparam:""}),G=(0,l.Z)(z,2),J=G[0],q=G[1],Q=function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,w.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})},X=(0,d.useState)({label:"",value:null}),$=(0,l.Z)(X,2),ee=$[0],ae=$[1],ne=function(){var e=(0,r.Z)(c().mark((function e(a){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get(B+"/hak-akses/filter-nama_hak_akses/"+a);case 2:return n=e.sent,e.next=5,n.data.data;case 5:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.nama_hak_akses,value:e.id}})));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),te=1,se=[{name:"No",sortable:!0,sortField:"No",wrap:!0,cell:function(e){return(0,w.jsx)("div",{className:"mt-5 mb-5",children:te++})}},{name:"NRK / NPTT / NPJLP",selector:function(e){return e.no_pegawai},sortable:!0,sortField:"no_pegawai",width:"150px",wrap:!0},{name:"Nama",selector:function(e){return e.nama_lengkap},sortable:!0,sortField:"nama_lengkap",width:"150px",wrap:!0},{name:"Email",selector:function(e){return e.email},sortable:!0,sortField:"email",width:"150px",wrap:!0},{name:"Hak Akses",selector:function(e){return e.hak_akses},sortable:!0,sortField:"hak_akses",wrap:!0,center:!0},{name:"Terakhir Login",selector:function(e){return e.terakhir_login},sortable:!0,sortField:"terakhir_login",wrap:!0,width:"120px",center:!0},{name:"Tanggal Bergabung",selector:function(e){return Z()(e.tgl_bergabung).format("D MMMM YYYY, h:mm a")},sortable:!0,sortField:"tgl_bergabung",wrap:!0,width:"190px",center:!0},{name:"Aksi",sortable:!1,className:"action",center:!0,allowOverflow:!0,fixed:!0,cell:function(a){return(0,w.jsx)(d.Fragment,{children:(0,w.jsx)("div",{className:"d-flex mb-2 mt-2 flex-end",children:[v.Z].map((function(n,t){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(n,{as:p.Z,id:"dropdown-button-drop-".concat(t),size:"sm",variant:"light",title:"Aksi",children:[(0,w.jsx)(x.Z.Item,{href:"#",onClick:function(){return e("/apps/data-pengguna/update-data-pengguna/"+a.id,{replace:!0})},children:"Ubah"}),(0,w.jsx)(x.Z.Item,{href:"#",onClick:function(){return e=a.id,n=a.status_pegawai,void b().fire({text:"Anda yakin ingin menghapus data ini",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya!",cancelButtonText:"Tidak!",color:"#000000"}).then(function(){var a=(0,r.Z)(c().mark((function a(t){var s;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t.isConfirmed){a.next=6;break}return s={data:{status_pegawai:n,deleted_by:0}},a.next=4,m().delete("".concat(B,"/delete/").concat(e),s);case 4:a.sent?(re(1),b().fire({icon:"success",text:"Data berhasil dihapus",showConfirmButton:!1,timer:1500,color:"#000000"})):b().fire({icon:"error",text:"Data gagal dihapus, harap mencoba lagi",showConfirmButton:!1,timer:1500,color:"#000000"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());var e,n},children:"Hapus"})]},t)})}))})})}}];(0,d.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(a){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,m().get("".concat(B,"/filter-data-pengguna?limit=").concat(Y,"&offset=").concat(a).concat(J.strparam));case 3:n=e.sent,T(n.data.data),U(n.data.total_data),O(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(a){e.apply(this,arguments)}(1)}),[J,Y]);var re=function(){var e=(0,r.Z)(c().mark((function e(a){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,m().get("".concat(B,"/filter-data-pengguna?limit=").concat(Y,"&offset=").concat(a).concat(J.strparam));case 3:return n=e.sent,T(n.data.data),U(n.data.total_data),O(!1),e.abrupt("return",[M,T]);case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),le=function(){var e=(0,r.Z)(c().mark((function e(a,n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,m().get("".concat(B,"/filter-data-pengguna?limit=").concat(a,"&offset=").concat(n).concat(J.strparam));case 3:t=e.sent,T(t.data.data),W(a),O(!1);case 7:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),ie=function(){var e=(0,r.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="",""!==N.val&&(a+="&nama_lengkap=".concat(N.val)),ee.value&&(a+="&hak_akses=".concat(ee.value)),q((function(e){return(0,i.Z)((0,i.Z)({},e),{},{strparam:a})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,w.jsx)("div",{className:"card",children:(0,w.jsxs)("div",{className:"card card-flush h-xl-100",children:[(0,w.jsx)("div",{className:"card-header border-1 pt-6",children:(0,w.jsx)("div",{className:"col-xl-12  mt-6",children:(0,w.jsx)("div",{className:"accordion accordion-icon-toggle",id:"kt_accordion_2",children:(0,w.jsxs)("div",{className:"mb-5",children:[(0,w.jsxs)("div",{className:"accordion-header py-3 d-flex","data-bs-toggle":"collapse","data-bs-target":"#kt_accordion_2_item_1",children:[(0,w.jsx)("span",{className:"accordion-icon",children:(0,w.jsx)("span",{className:"svg-icon svg-icon-4",children:(0,w.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,w.jsx)("rect",{opacity:"0.5",x:"18",y:"13",width:"13",height:"2",rx:"1",transform:"rotate(-180 18 13)",fill:"currentColor"}),(0,w.jsx)("path",{d:"M15.4343 12.5657L11.25 16.75C10.8358 17.1642 10.8358 17.8358 11.25 18.25C11.6642 18.6642 12.3358 18.6642 12.75 18.25L18.2929 12.7071C18.6834 12.3166 18.6834 11.6834 18.2929 11.2929L12.75 5.75C12.3358 5.33579 11.6642 5.33579 11.25 5.75C10.8358 6.16421 10.8358 6.83579 11.25 7.25L15.4343 11.4343C15.7467 11.7467 15.7467 12.2533 15.4343 12.5657Z",fill:"currentColor"})]})})}),(0,w.jsx)("h3",{className:"fs-4 fw-semibold mb-0 ms-4",children:"Pilihan Filter"})]}),(0,w.jsx)("div",{id:"kt_accordion_2_item_1",className:"fs-6 collapse show ps-10","data-bs-parent":"#kt_accordion_2",children:(0,w.jsxs)("div",{id:"kt_advanced_search_form",children:[(0,w.jsxs)("div",{className:"row g-8 mt-2",children:[(0,w.jsx)("div",{className:"col-xxl-3 col-lg-3 col-md-3 col-sm-12",children:(0,w.jsx)("input",{type:"text",className:"form-control form-control form-control-solid",name:"nama",value:N.val,onChange:function(e){y({val:e.target.value})},placeholder:"Masukkan Nama"})}),(0,w.jsx)("div",{className:"col-xxl-3 col-lg-3 col-md-3 col-sm-12",children:(0,w.jsx)(k.Z,{cacheOptions:!0,value:ee.value?ee:{value:"",label:"Pilih Hak Akses"},loadOptions:function(e,a){setTimeout((0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=a,n.next=3,ne(e);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},defaultOptions:!0,onChange:function(e){ae((function(a){return(0,i.Z)((0,i.Z)({},a),e)}))},placeholder:"Pilih Hak Akses",styles:"dark"===n?A:S,loadingMessage:function(){return"Sedang mencari pilihan..."},noOptionsMessage:function(){return"Ketik untuk mencari pilihan"}})})]}),(0,w.jsxs)("div",{className:"row g-8 mt-2",children:[(0,w.jsxs)("div",{className:"col-xxl-6 col-lg-6 col-md-6 col-sm-6",children:[(0,w.jsx)(h.rU,{to:"#",onClick:ie,children:(0,w.jsxs)("button",{className:"btn btn-light-primary me-2",children:[(0,w.jsx)(j.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]})}),(0,w.jsx)(h.rU,{to:"#",onClick:function(){y({val:""}),ae({label:"",value:null}),q((function(e){return(0,i.Z)((0,i.Z)({},e),{},{strparam:""})}))},children:(0,w.jsxs)("button",{className:"btn btn-light-primary",children:[(0,w.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})})]}),(0,w.jsx)("div",{className:"text-end col-xxl-6 col-lg-6 col-md-6 col-sm-12",children:(0,w.jsx)(h.rU,{to:"/apps/data-pengguna/tambah-data-pengguna",children:(0,w.jsxs)("button",{type:"button",className:"btn btn-primary me-2",children:[(0,w.jsx)(j.D8,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"}),"Tambah"]})})})]})]})})]})})})}),(0,w.jsx)("div",{className:"card-header rounded bgi-no-repeat bgi-size-cover bgi-position-y-top bgi-position-x-center align-items-start h-100px",style:{},"data-theme":"light"}),(0,w.jsx)("div",{className:"card-body mt-n20",children:(0,w.jsx)("div",{className:"mt-n20 position-relatve",children:(0,w.jsx)("div",{className:"card border card-flush h-xl-100",children:(0,w.jsx)("div",{className:"table-responsive mt-5 ms-5 me-5 w",children:(0,w.jsx)(f.ZP,{columns:se,data:M,progressPending:K,progressComponent:(0,w.jsx)(Q,{}),pagination:!0,paginationServer:!0,paginationTotalRows:R,onChangeRowsPerPage:le,onChangePage:function(e){re(e)},customStyles:{rows:{style:{minHeight:"72px"}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px"}},cells:{style:{paddingLeft:"8px",paddingRight:"8px"}}},theme:"dark"===n?"darkMetro":"light",noDataComponent:(0,w.jsx)("div",{className:"alert alert-primary d-flex align-items-center p-5 mt-10 mb-10",children:(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1 text-center",children:"Data tidak ditemukan..!"})})})})})})})})]})})})})}var F=n(21493),M=function(){return(0,w.jsxs)("div",{className:"d-flex flex-column flex-lg-row",children:[(0,w.jsx)("div",{className:"flex-column flex-lg-row-auto w-100 w-lg-300px w-xl-400px mb-10 mb-lg-0",children:(0,w.jsxs)("div",{className:"card card-flush",children:[(0,w.jsx)("div",{className:"card-header pt-7",id:"kt_chat_contacts_header",children:(0,w.jsxs)("form",{className:"w-100 position-relative",autoComplete:"off",children:[(0,w.jsx)(j.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2 svg-icon-lg-1 svg-icon-gray-500 position-absolute top-50 ms-5 translate-middle-y"}),(0,w.jsx)("input",{type:"text",className:"form-control form-control-solid px-15",name:"search",placeholder:"Search by username or email..."})]})}),(0,w.jsx)("div",{className:"card-body pt-5",id:"kt_chat_contacts_body",children:(0,w.jsxs)("div",{className:"scroll-y me-n5 pe-5 h-200px h-lg-auto","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_header, #kt_toolbar, #kt_footer, #kt_chat_contacts_header","data-kt-scroll-wrappers":"#kt_content, #kt_chat_contacts_body","data-kt-scroll-offset":"0px",children:[(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"symbol symbol-45px symbol-circle",children:(0,w.jsx)("span",{className:"symbol-label bg-light-danger text-danger fs-6 fw-bolder",children:"M"})}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Melody Macy"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"melody@altbox.com"})]})]}),(0,w.jsx)("div",{className:"d-flex flex-column align-items-end ms-2",children:(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"5 hrs"})})]}),(0,w.jsx)("div",{className:"separator separator-dashed d-none"}),(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"symbol symbol-45px symbol-circle",children:(0,w.jsx)("img",{alt:"Pic",src:(0,j.BY)("/media/avatars/300-1.jpg")})}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Max Smith"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"max@kt.com"})]})]}),(0,w.jsx)("div",{className:"d-flex flex-column align-items-end ms-2",children:(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"20 hrs"})})]}),(0,w.jsx)("div",{className:"separator separator-dashed d-none"}),(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"symbol symbol-45px symbol-circle",children:(0,w.jsx)("img",{alt:"Pic",src:(0,j.BY)("/media/avatars/300-5.jpg")})}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Sean Bean"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"sean@dellito.com"})]})]}),(0,w.jsxs)("div",{className:"d-flex flex-column align-items-end ms-2",children:[(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"20 hrs"}),(0,w.jsx)("span",{className:"badge badge-sm badge-circle badge-light-success",children:"6"})]})]}),(0,w.jsx)("div",{className:"separator separator-dashed d-none"}),(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"symbol symbol-45px symbol-circle",children:(0,w.jsx)("img",{alt:"Pic",src:(0,j.BY)("/media/avatars/300-25.jpg")})}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Brian Cox"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"brian@exchange.com"})]})]}),(0,w.jsx)("div",{className:"d-flex flex-column align-items-end ms-2",children:(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"20 hrs"})})]}),(0,w.jsx)("div",{className:"separator separator-dashed d-none"}),(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"symbol symbol-45px symbol-circle",children:(0,w.jsx)("span",{className:"symbol-label bg-light-warning text-warning fs-6 fw-bolder",children:"M"})}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Mikaela Collins"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"mikaela@pexcom.com"})]})]}),(0,w.jsx)("div",{className:"d-flex flex-column align-items-end ms-2",children:(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"1 day"})})]}),(0,w.jsx)("div",{className:"separator separator-dashed d-none"}),(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"symbol symbol-45px symbol-circle",children:(0,w.jsx)("img",{alt:"Pic",src:(0,j.BY)("/media/avatars/300-9.jpg")})}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Francis Mitcham"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"f.mitcham@kpmg.com.au"})]})]}),(0,w.jsxs)("div",{className:"d-flex flex-column align-items-end ms-2",children:[(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"5 hrs"}),(0,w.jsx)("span",{className:"badge badge-sm badge-circle badge-light-success",children:"6"})]})]}),(0,w.jsx)("div",{className:"separator separator-dashed d-none"}),(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsxs)("div",{className:"symbol symbol-45px symbol-circle",children:[(0,w.jsx)("span",{className:"symbol-label bg-light-danger text-danger fs-6 fw-bolder",children:"O"}),(0,w.jsx)("div",{className:"symbol-badge bg-success start-100 top-100 border-4 h-15px w-15px ms-n2 mt-n2"})]}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Olivia Wild"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"olivia@corpmail.com"})]})]}),(0,w.jsx)("div",{className:"d-flex flex-column align-items-end ms-2",children:(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"1 week"})})]}),(0,w.jsx)("div",{className:"separator separator-dashed d-none"}),(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"symbol symbol-45px symbol-circle",children:(0,w.jsx)("span",{className:"symbol-label bg-light-primary text-primary fs-6 fw-bolder",children:"N"})}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Neil Owen"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"owen.neil@gmail.com"})]})]}),(0,w.jsxs)("div",{className:"d-flex flex-column align-items-end ms-2",children:[(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"20 hrs"}),(0,w.jsx)("span",{className:"badge badge-sm badge-circle badge-light-success",children:"6"})]})]}),(0,w.jsx)("div",{className:"separator separator-dashed d-none"}),(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"symbol symbol-45px symbol-circle",children:(0,w.jsx)("img",{alt:"Pic",src:(0,j.BY)("/media/avatars/300-23.jpg")})}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Dan Wilson"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"dam@consilting.com"})]})]}),(0,w.jsxs)("div",{className:"d-flex flex-column align-items-end ms-2",children:[(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"2 weeks"}),(0,w.jsx)("span",{className:"badge badge-sm badge-circle badge-light-warning",children:"9"})]})]}),(0,w.jsx)("div",{className:"separator separator-dashed d-none"}),(0,w.jsxs)("div",{className:"d-flex flex-stack py-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsxs)("div",{className:"symbol symbol-45px symbol-circle",children:[(0,w.jsx)("span",{className:"symbol-label bg-light-danger text-danger fs-6 fw-bolder",children:"E"}),(0,w.jsx)("div",{className:"symbol-badge bg-success start-100 top-100 border-4 h-15px w-15px ms-n2 mt-n2"})]}),(0,w.jsxs)("div",{className:"ms-5",children:[(0,w.jsx)("a",{href:"#",className:"fs-5 fw-bolder text-gray-900 text-hover-primary mb-2",children:"Emma Bold"}),(0,w.jsx)("div",{className:"fw-bold text-gray-400",children:"emma@intenso.com"})]})]}),(0,w.jsx)("div",{className:"d-flex flex-column align-items-end ms-2",children:(0,w.jsx)("span",{className:"text-muted fs-7 mb-1",children:"1 day"})})]})]})})]})}),(0,w.jsx)("div",{className:"flex-lg-row-fluid ms-lg-7 ms-xl-10",children:(0,w.jsxs)("div",{className:"card",id:"kt_chat_messenger",children:[(0,w.jsxs)("div",{className:"card-header",id:"kt_chat_messenger_header",children:[(0,w.jsx)("div",{className:"card-title",children:(0,w.jsxs)("div",{className:"symbol-group symbol-hover",children:[(0,w.jsx)("div",{className:"symbol symbol-35px symbol-circle",children:(0,w.jsx)("img",{alt:"Pic",src:(0,j.BY)("/media/avatars/300-5.jpg")})}),(0,w.jsx)("div",{className:"symbol symbol-35px symbol-circle",children:(0,w.jsx)("img",{alt:"Pic",src:(0,j.BY)("/media/avatars/300-25.jpg")})}),(0,w.jsx)("div",{className:"symbol symbol-35px symbol-circle",children:(0,w.jsx)("span",{className:"symbol-label bg-light-warning text-warning 40px",children:"M"})}),(0,w.jsx)("div",{className:"symbol symbol-35px symbol-circle",children:(0,w.jsx)("img",{alt:"Pic",src:(0,j.BY)("/media/avatars/300-9.jpg")})}),(0,w.jsx)("div",{className:"symbol symbol-35px symbol-circle",children:(0,w.jsx)("span",{className:"symbol-label bg-light-danger text-danger 40px",children:"O"})}),(0,w.jsx)("div",{className:"symbol symbol-35px symbol-circle",children:(0,w.jsx)("span",{className:"symbol-label bg-light-primary text-primary 40px",children:"N"})}),(0,w.jsx)("div",{className:"symbol symbol-35px symbol-circle",children:(0,w.jsx)("img",{alt:"Pic",src:(0,j.BY)("/media/avatars/300-23.jpg")})}),(0,w.jsx)("a",{href:"#",className:"symbol symbol-35px symbol-circle",children:(0,w.jsx)("span",{className:"symbol-label fs-8 fw-bolder","data-bs-toggle":"tooltip","data-bs-trigger":"hover",title:"View more users",children:"+42"})})]})}),(0,w.jsx)("div",{className:"card-toolbar",children:(0,w.jsxs)("div",{className:"me-n3",children:[(0,w.jsx)("button",{className:"btn btn-sm btn-icon btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end",children:(0,w.jsx)("i",{className:"bi bi-three-dots fs-2"})}),(0,w.jsx)(F.Kz,{})]})})]}),(0,w.jsx)(F.P5,{})]})})]})},T=n(4942),D=n(45047),H=n(63027),K=n(55705),O=n(76863),L=n(28182),E="https://sisappra-be.tsgitdev.com",R="".concat(E,"/manajemen-pengguna/akses-kontrol"),U="".concat(E,"/manajemen-penggunaakses-kontrol");(0,f.jG)("darkMetro",{text:{primary:"#92929f",secondary:"#92929f"},background:{default:"#1e1e2e"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#2b2c41"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");var V=y.t.getSystemMode(),I=O.Ry().shape({modul:O.Z_().required("Wajib diisi")});function Y(){var e=(0,t.s0)(),a=(0,_.rB)().mode,n="system"===a?V:a,s=(0,d.useState)({val:""}),o=(0,l.Z)(s,2),u=o[0],g=o[1],k=(0,d.useState)([]),N=(0,l.Z)(k,2),y=(N[0],N[1],(0,d.useState)([])),C=(0,l.Z)(y,2),S=C[0],A=C[1],B=(0,d.useState)(!1),P=(0,l.Z)(B,2),F=P[0],M=P[1],O=(0,d.useState)({strparam:""}),E=(0,l.Z)(O,2),Y=E[0],W=E[1],z=(0,d.useState)(!1),G=(0,l.Z)(z,2),J=G[0],q=G[1],Q=function(){return q(!1)},X=(0,d.useState)(0),$=(0,l.Z)(X,2),ee=$[0],ae=$[1],ne=(0,d.useState)(10),te=(0,l.Z)(ne,2),se=te[0],re=(te[1],function(){var e=(0,r.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="",""!==u.val&&(a+="&modul=".concat(u.val)),W((function(e){return(0,i.Z)((0,i.Z)({},e),{},{strparam:a})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),le=function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,w.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})},ie=[{name:"No",selector:function(e){return e.serial}},{name:"Nama Akses Kontrol",sortable:!0,sortField:"modul",selector:function(e){return e.modul}},{name:"Hak Akses",sortable:!0,sortField:"kode",selector:function(e){return e.kode}},{name:"Tanggal Buat",selector:function(e){return Z()(e.tanggal_buat).format("D MMMM YYYY, h:mm a")},sortable:!0,sortField:"tanggal_buat"},{name:"Aksi",sortable:!1,text:"Action",className:"action",cell:function(a){return(0,w.jsx)(d.Fragment,{children:(0,w.jsx)("div",{className:"mb-2",children:[v.Z].map((function(n,t){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(n,{as:p.Z,id:"dropdown-button-drop-".concat(t),size:"sm",variant:"light",title:"Aksi",children:[(0,w.jsx)(x.Z.Item,{onClick:function(){return e("/apps/akses-kontrol/manajemen-permission/"+a.id,{state:{id_akses:a.id,nama_modul:a.modul}})},children:"Manajemen Permission"}),(0,w.jsx)(x.Z.Item,{onClick:function(){return e("/apps/akses-kontrol/manajemen-sub-modul/"+a.id,{state:{parent:a.level,parentName:a.modul}})},children:"Manajamen Sub-Modul"}),(0,w.jsx)(x.Z.Item,{onClick:function(){return Ze(a.id)},children:"Ubah"}),(0,w.jsx)(x.Z.Item,{href:"#",onClick:function(){return ye(a.id)},children:"Hapus"})]},t)})}))})})}}];(0,d.useEffect)((function(){oe(1)}),[Y]);var oe=function(){var e=(0,r.Z)(c().mark((function e(a){var n,t,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,m().get("".concat(R,"/find-all?").concat(Y.strparam));case 3:return n=e.sent,t=n.data.data.filter((function(e){return 1==e.level.split("-").length})),s=t,Array.from(s).forEach((function(e,a){e.serial=a+1})),A(s),ae(s.length),M(!1),console.log(t,a,se,s),e.abrupt("return",[S,A]);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ce=(0,d.useState)(0),de=(0,l.Z)(ce,2),ue=de[0],me=de[1],he=(0,d.useState)(),fe=(0,l.Z)(he,2),pe=fe[0],xe=fe[1],ve=(0,K.TA)({initialValues:(0,i.Z)({},pe),validationSchema:I,enableReinitialize:!0,onSubmit:function(){var e=(0,r.Z)(c().mark((function e(a,n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.setSubmitting)(!0),e.prev=2,0!==ue){e.next=10;break}return e.next=6,m().post("".concat(R,"/create"),(0,i.Z)({},pe));case 6:e.sent&&(b().fire({icon:"success",text:"Data berhasil disimpan",showConfirmButton:!1,timer:1500}),Q(),oe(1),t(!1)),e.next=14;break;case 10:return e.next=12,m().put("".concat(U,"/update/").concat(ke.id),(0,i.Z)({},pe));case 12:e.sent&&(b().fire({icon:"success",text:"Data berhasil disimpan",showConfirmButton:!1,timer:1500}),Q(),oe(1),t(!1));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),b().fire({icon:"error",text:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(a,n){return e.apply(this,arguments)}}()}),ge=(0,d.useState)({id:0}),be=(0,l.Z)(ge,2),ke=be[0],je=be[1],Ne=function(){var e=(0,r.Z)(c().mark((function e(a){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(R,"/findone/").concat(parseInt(a)));case 2:n=e.sent,t=n.data,je((function(e){return(0,i.Z)((0,i.Z)({},e),{},{id:parseInt(a)})})),xe((function(e){return(0,i.Z)((0,i.Z)({},e),t.data)}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ze=function(e){q(!0),me(1),Ne(e)},ye=function(e){b().fire({text:"Anda yakin ingin menghapus data ini",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya!",cancelButtonText:"Tidak!",color:"#000000"}).then(function(){var a=(0,r.Z)(c().mark((function a(n){return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.isConfirmed){a.next=5;break}return a.next=3,m().delete("".concat(R,"/delete/").concat(e));case 3:a.sent?(oe(1),b().fire({icon:"success",text:"Data berhasil dihapus",showConfirmButton:!1,timer:1500,color:"#000000"})):b().fire({icon:"error",text:"Data gagal dihapus, harap mencoba lagi",showConfirmButton:!1,timer:1500,color:"#000000"});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())};return(0,w.jsxs)("div",{className:"card",children:[(0,w.jsxs)("div",{className:"row g-8 mt-2 ms-5 me-5",children:[(0,w.jsx)("label",{children:(0,w.jsx)("h3",{children:"Akses Kontrol"})}),(0,w.jsx)("div",{className:"col-xxl-3 col-lg-3 col-md-3 col-sm-12",children:(0,w.jsx)("input",{type:"text",className:"form-control form-control form-control-solid",name:"nama",value:u.val,onChange:function(e){g({val:e.target.value})},placeholder:"Masukkan Nama Modul"})}),(0,w.jsxs)("div",{className:"col-xxl-3 col-lg-3 col-md-3 col-sm-12",children:[(0,w.jsx)(h.rU,{to:"#",onClick:re,children:(0,w.jsxs)("button",{className:"btn btn-light-primary me-2",children:[(0,w.jsx)(j.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]})}),(0,w.jsx)(h.rU,{to:"#",onClick:function(){g({val:""}),W((function(e){return(0,i.Z)((0,i.Z)({},e),{},{strparam:""})}))},children:(0,w.jsxs)("button",{className:"btn btn-light-primary me-2",children:[(0,w.jsx)("i",{className:"fa-solid fa-arrows-rotate svg-icon-2"}),"Reset"]})})]}),(0,w.jsx)("div",{className:"d-flex justify-content-end col-md-6 col-lg-6 col-sm-12",children:(0,w.jsx)(h.rU,{to:"#i",children:(0,w.jsxs)("button",{className:"btn btn-primary me-2",onClick:function(){q(!0),me(0),xe({modul:"",level:""})},children:[(0,w.jsx)("i",{className:"fa-solid fa-plus"}),"Tambah Akses Kontrol"]})})})]}),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(D.Z,{show:J,onHide:Q,backdrop:"static",keyboard:!1,centered:!0,children:[(0,w.jsx)(D.Z.Header,{closeButton:!0,children:(0,w.jsxs)(D.Z.Title,{children:[0===ue?"Tambah":"Ubah"," Akses Kontrol"]})}),(0,w.jsx)(D.Z.Body,{children:(0,w.jsx)("div",{className:"row mt-2 ",children:(0,w.jsxs)("form",{onSubmit:ve.handleSubmit,children:[(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Nama Akses Kontrol"}),(0,w.jsx)(H.Z.Control,{name:"modul",className:(0,L.Z)("form-control form-control-solid mb-1",{"is-invalid":ve.touched.modul&&ve.errors.modul},{"is-valid":ve.touched.modul&&!ve.errors.modul}),onChange:function(e){xe((function(a){return(0,i.Z)((0,i.Z)({},a),{},(0,T.Z)({},e.target.name,e.target.value))}))},value:null===pe||void 0===pe?void 0:pe.modul,placeholder:"Masukkan Nama Akses Kontrol"}),ve.touched.modul&&ve.errors.modul&&(0,w.jsx)("div",{className:"fv-plugins-message-container",children:(0,w.jsx)("div",{className:"fv-help-block",children:(0,w.jsx)("span",{role:"alert",children:ve.errors.modul})})})]}),(0,w.jsx)("div",{className:"p-0 mt-6",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsxs)("button",{className:"float-none btn btn-light align-self-center m-1",onClick:Q,type:"button",children:[(0,w.jsx)("i",{className:"fa fa-close"}),"Batal"]}),(0,w.jsxs)("button",{className:"float-none btn btn-primary align-self-center m-1",type:"submit",children:[(0,w.jsx)("i",{className:"fa-solid fa-paper-plane"}),"Simpan"]})]})})]})})})]})}),(0,w.jsx)("div",{className:"table-responsive mt-5 ms-5 me-5 w",children:(0,w.jsx)(f.ZP,{columns:ie,customStyles:{rows:{style:{minHeight:"82px"}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px"}},cells:{style:{paddingLeft:"8px",paddingRight:"8px"}}},data:S,progressPending:F,progressComponent:(0,w.jsx)(le,{}),pagination:!0,paginationTotalRows:ee,theme:"dark"===n?"darkMetro":"light",noDataComponent:(0,w.jsx)("div",{className:"alert alert-primary d-flex align-items-center p-5 mt-10 mb-10",children:(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1 text-center",children:"Data tidak ditemukan..!"})})})})})]})}var W="https://sisappra-be.tsgitdev.com",z="".concat(W,"/manajemen-pengguna/akses-kontrol"),G="".concat(W,"/manajemen-pengguna/modul-permission");(0,f.jG)("darkMetro",{text:{primary:"#92929f",secondary:"#92929f"},background:{default:"#1e1e2e"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#2b2c41"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");var J=y.t.getSystemMode(),q=O.Ry().shape({nama_permission:O.Z_().required("Wajib diisi")});function Q(){var e=(0,t.s0)(),a=(0,_.rB)().mode,n="system"===a?J:a,s=(0,d.useState)([]),o=(0,l.Z)(s,2),u=(o[0],o[1],(0,d.useState)([])),p=(0,l.Z)(u,2),x=p[0],v=p[1],g=(0,d.useState)(!1),k=(0,l.Z)(g,2),j=k[0],N=k[1],Z=(0,d.useState)({strparam:""}),y=(0,l.Z)(Z,2),C=(y[0],y[1],(0,d.useState)(!1)),S=(0,l.Z)(C,2),A=S[0],B=S[1],P=function(){return B(!1)},F=(0,d.useState)(0),M=(0,l.Z)(F,2),O=M[0],E=M[1],R=(0,d.useState)(10),U=(0,l.Z)(R,2),V=(U[0],U[1],function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,w.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})}),I=[{name:"No",selector:function(e){return e.serial}},{name:"Nama Permission",selector:function(e){return e.nama_permission},sortable:!0,sortField:"nama_permission"},{name:"Aksi",sortable:!1,text:"Action",className:"action",cell:function(e){return(0,w.jsx)(d.Fragment,{children:(0,w.jsx)("button",{className:"btn btn-light-danger btn-sm me-2",onClick:function(){return me(e.id)},children:"Hapus"})})}}];(0,d.useEffect)((function(){ae()}),[]);var Y=(0,d.useState)(),W=(0,l.Z)(Y,2),Q=W[0],X=W[1],$=(0,t.UO)().id,ee=(0,t.TH)(),ae=function(){var e=(0,r.Z)(c().mark((function e(){var a,n,t,s,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,m().get("".concat(G,"/find"));case 3:return a=e.sent,e.next=6,m().get("".concat(z,"/findone/").concat($));case 6:return n=e.sent,t=n.data.data.id,s=a.data.data.filter((function(e){return e.akses_kontrol==t?t:""})),r=s,Array.from(r).forEach((function(e,a){e.serial=a+1})),v(r),E(r.length),console.log(s,t),N(!1),de({akses_kontrol:t,status:0}),X(n.data.data),e.abrupt("return",[x,v]);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(e){de((function(a){return(0,i.Z)((0,i.Z)({},a),{},(0,T.Z)({},e.target.name,e.target.value))}))},te=(0,d.useState)(0),se=(0,l.Z)(te,2),re=se[0],le=se[1],ie=(0,d.useState)(),oe=(0,l.Z)(ie,2),ce=oe[0],de=oe[1],ue=(0,K.TA)({initialValues:(0,i.Z)({},ce),validationSchema:q,enableReinitialize:!0,onSubmit:function(){var e=(0,r.Z)(c().mark((function e(a,n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.setSubmitting)(!0),e.prev=2,0!==re){e.next=8;break}return e.next=6,m().post("".concat(G,"/create"),(0,i.Z)({},ce));case 6:e.sent&&(b().fire({icon:"success",text:"Data berhasil disimpan",showConfirmButton:!1,timer:1500}),P(),ae(),console.log(ee),t(!1));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),b().fire({icon:"error",text:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a,n){return e.apply(this,arguments)}}()}),me=function(e){b().fire({text:"Anda yakin ingin menghapus data ini",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya!",cancelButtonText:"Tidak!",color:"#000000"}).then(function(){var a=(0,r.Z)(c().mark((function a(n){return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.isConfirmed){a.next=5;break}return a.next=3,m().delete("".concat(G,"/delete/").concat(e));case 3:a.sent?(ae(),b().fire({icon:"success",text:"Data berhasil dihapus",showConfirmButton:!1,timer:1500,color:"#000000"})):b().fire({icon:"error",text:"Data gagal dihapus, harap mencoba lagi",showConfirmButton:!1,timer:1500,color:"#000000"});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())};return(0,w.jsxs)("div",{className:"card",children:[(0,w.jsxs)("div",{className:"row g-8 mt-2 ms-5 me-5",children:[(0,w.jsx)("label",{children:(0,w.jsxs)("h3",{children:["Modul Permission ",null===Q||void 0===Q?void 0:Q.modul]})}),(0,w.jsx)("div",{className:"col d-flex justify-content-end",children:(0,w.jsx)(h.rU,{to:"#",children:(0,w.jsxs)("button",{className:"btn btn-primary me-2",onClick:function(){B(!0),le(0),de({nama_permission:"",akses_kontrol:ee.state.id_akses,status:0})},children:[(0,w.jsx)("i",{className:"fa-solid fa-plus"}),"Tambah Permission"]})})})]}),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(D.Z,{show:A,onHide:P,backdrop:"static",keyboard:!1,centered:!0,children:[(0,w.jsx)(D.Z.Header,{closeButton:!0,children:(0,w.jsxs)(D.Z.Title,{children:[0===re?"Tambah":"Ubah"," Akses Kontrol"]})}),(0,w.jsx)(D.Z.Body,{children:(0,w.jsx)("div",{className:"row mt-2 ",children:(0,w.jsxs)("form",{onSubmit:ue.handleSubmit,children:[(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Nama Permission"}),(0,w.jsx)(H.Z.Control,{name:"nama_permission",className:(0,L.Z)("form-control form-control-solid mb-1",{"is-invalid":ue.touched.nama_permission&&ue.errors.nama_permission},{"is-valid":ue.touched.nama_permission&&!ue.errors.nama_permission}),onChange:ne,value:null===ce||void 0===ce?void 0:ce.nama_permission,placeholder:"Masukkan Nama Permission"}),ue.touched.nama_permission&&ue.errors.nama_permission&&(0,w.jsx)("div",{className:"fv-plugins-message-container",children:(0,w.jsx)("div",{className:"fv-help-block",children:(0,w.jsx)("span",{role:"alert",children:ue.errors.nama_permission})})}),(0,w.jsx)(H.Z.Control,{name:"akses_kontrol",className:"form-control form-control-solid mb-1",onChange:ne,value:null===ce||void 0===ce?void 0:ce.akses_kontrol,placeholder:"Masukkan Nama Permission",hidden:!0})]}),(0,w.jsx)("div",{className:"p-0 mt-6",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsxs)("button",{className:"float-none btn btn-light align-self-center m-1",onClick:P,type:"button",children:[(0,w.jsx)("i",{className:"fa fa-close"}),"Batal"]}),(0,w.jsxs)("button",{className:"float-none btn btn-primary align-self-center m-1",type:"submit",children:[(0,w.jsx)("i",{className:"fa-solid fa-paper-plane"}),"Simpan"]})]})})]})})})]})}),(0,w.jsx)("div",{className:"table-responsive mt-5 ms-5 me-5 w",children:(0,w.jsx)(f.ZP,{columns:I,data:x,progressPending:j,progressComponent:(0,w.jsx)(V,{}),pagination:!0,paginationTotalRows:O,theme:"dark"===n?"darkMetro":"light",noDataComponent:(0,w.jsx)("div",{className:"alert alert-primary d-flex align-items-center p-5 mt-10 mb-10",children:(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1 text-center",children:"Data tidak ditemukan..!"})})})})}),(0,w.jsx)("div",{className:"col d-flex justify-content-center mb-10",children:(0,w.jsxs)("button",{className:"btn btn-light",onClick:function(){return e(-1)},children:[(0,w.jsx)("i",{className:"fa-solid fa-arrow-left"}),"Kembali"]})})]})}var X="https://sisappra-be.tsgitdev.com",$="".concat(X,"/manajemen-pengguna/akses-kontrol"),ee="".concat(X,"/manajemen-penggunaakses-kontrol");(0,f.jG)("darkMetro",{text:{primary:"#92929f",secondary:"#92929f"},background:{default:"#1e1e2e"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#2b2c41"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");var ae=y.t.getSystemMode(),ne=O.Ry().shape({modul:O.Z_().required("Wajib diisi")});function te(){var e=(0,t.s0)(),a=(0,_.rB)().mode,n="system"===a?ae:a,s=(0,d.useState)({val:""}),o=(0,l.Z)(s,2),u=(o[0],o[1],(0,d.useState)([])),g=(0,l.Z)(u,2),k=(g[0],g[1],(0,d.useState)([])),j=(0,l.Z)(k,2),N=j[0],Z=j[1],y=(0,d.useState)(!1),C=(0,l.Z)(y,2),S=(C[0],C[1]),A=(0,d.useState)({strparam:""}),B=(0,l.Z)(A,2),P=(B[0],B[1],(0,d.useState)(!1)),F=(0,l.Z)(P,2),M=F[0],O=F[1],E=function(){return O(!1)},R=(0,d.useState)(0),U=(0,l.Z)(R,2),V=U[0],I=U[1],Y=(0,d.useState)(10),W=(0,l.Z)(Y,2),z=(W[0],W[1],function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,w.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})}),G=[{name:"No",selector:function(e){return e.serial}},{name:"Nama Akses Kontrol",sortable:!0,sortField:"modul",selector:function(e){return""!==e.level?e.modul:e.modul=""}},{name:"Aksi",sortable:!1,text:"Action",className:"action",cell:function(a){return(0,w.jsx)(d.Fragment,{children:(0,w.jsx)("div",{className:"mb-2",children:[v.Z].map((function(n,t){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(n,{as:p.Z,id:"dropdown-button-drop-".concat(t),size:"sm",variant:"light",title:"Aksi",children:[(0,w.jsx)(x.Z.Item,{onClick:function(){return e("/apps/akses-kontrol/manajemen-permission/"+a.id,{state:{id_akses:a.id,nama_modul:a.modul}})},children:"Manajemen Permission"}),(0,w.jsx)(x.Z.Item,{onClick:function(){return je(a.id)},children:"Ubah"}),(0,w.jsx)(x.Z.Item,{href:"#",onClick:function(){return Ne(a.id)},children:"Hapus"})]},t)})}))})})}}],J=(0,t.TH)();(0,d.useEffect)((function(){re()}),[]);var q=(0,d.useState)(),Q=(0,l.Z)(q,2),X=Q[0],te=Q[1],se=(0,t.UO)().id,re=function(){var e=(0,r.Z)(c().mark((function e(){var a,n,t,s,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,m().get("".concat($,"/find-all"));case 3:return a=e.sent,e.next=6,m().get("".concat($,"/findone/").concat(se));case 6:return n=e.sent,t=n.data.data.level+"-",s=a.data.data.filter((function(e){return e.level.startsWith(t)})),r=s,Array.from(r).forEach((function(e,a){e.serial=a+1})),Z(r),I(r.length),console.log(J,s,t),S(!1),te(n.data.data),fe({level:t}),e.abrupt("return",[N,Z]);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(e){fe((function(a){return(0,i.Z)((0,i.Z)({},a),{},(0,T.Z)({},e.target.name,e.target.value))}))},ie=(0,d.useState)(0),oe=(0,l.Z)(ie,2),ce=oe[0],de=oe[1],ue=(0,d.useState)(),me=(0,l.Z)(ue,2),he=me[0],fe=me[1],pe=(0,K.TA)({initialValues:(0,i.Z)({},he),validationSchema:ne,enableReinitialize:!0,onSubmit:function(){var e=(0,r.Z)(c().mark((function e(a,n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.setSubmitting)(!0),e.prev=2,0!==ce){e.next=10;break}return e.next=6,m().post("".concat($,"/create"),(0,i.Z)({},he));case 6:e.sent&&(b().fire({icon:"success",text:"Data berhasil disimpan",showConfirmButton:!1,timer:1500}),E(),re(),t(!1)),e.next=14;break;case 10:return e.next=12,m().put("".concat(ee,"/update/").concat(ge.id),(0,i.Z)({},he));case 12:e.sent&&(b().fire({icon:"success",text:"Data berhasil disimpan",showConfirmButton:!1,timer:1500}),E(),re(),t(!1));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),b().fire({icon:"error",text:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(a,n){return e.apply(this,arguments)}}()}),xe=(0,d.useState)({id:0}),ve=(0,l.Z)(xe,2),ge=ve[0],be=ve[1],ke=function(){var e=(0,r.Z)(c().mark((function e(a){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat($,"/findone/").concat(parseInt(a)));case 2:n=e.sent,t=n.data,be((function(e){return(0,i.Z)((0,i.Z)({},e),{},{id:parseInt(a)})})),fe((function(e){return(0,i.Z)((0,i.Z)({},e),t.data)}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),je=function(e){O(!0),de(1),ke(e)},Ne=function(e){b().fire({text:"Anda yakin ingin menghapus data ini",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya!",cancelButtonText:"Tidak!",color:"#000000"}).then(function(){var a=(0,r.Z)(c().mark((function a(n){return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.isConfirmed){a.next=5;break}return a.next=3,m().delete("".concat($,"/delete/").concat(e));case 3:a.sent?(re(),b().fire({icon:"success",text:"Data berhasil dihapus",showConfirmButton:!1,timer:1500,color:"#000000"})):b().fire({icon:"error",text:"Data gagal dihapus, harap mencoba lagi",showConfirmButton:!1,timer:1500,color:"#000000"});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())};return(0,w.jsxs)("div",{className:"card",children:[(0,w.jsxs)("div",{className:"row g-8 mt-2 ms-5 me-5",children:[(0,w.jsx)("label",{children:(0,w.jsxs)("h3",{children:["Manajemen Sub Modul ",null===X||void 0===X?void 0:X.modul]})}),(0,w.jsx)("div",{className:"col d-flex justify-content-end",children:(0,w.jsx)(h.rU,{to:"",children:(0,w.jsxs)("button",{className:"btn btn-primary me-2",onClick:function(){O(!0),de(0),fe({modul:"",level:J.state.parent+"-"})},children:[(0,w.jsx)("i",{className:"fa-solid fa-plus"}),"Tambah Sub Modul"]})})})]}),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(D.Z,{show:M,onHide:E,backdrop:"static",keyboard:!1,centered:!0,children:[(0,w.jsx)(D.Z.Header,{closeButton:!0,children:(0,w.jsxs)(D.Z.Title,{children:[0===ce?"Tambah":"Ubah"," Sub Modul"]})}),(0,w.jsx)(D.Z.Body,{children:(0,w.jsx)("div",{className:"row mt-2 ",children:(0,w.jsxs)("form",{onSubmit:pe.handleSubmit,children:[(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Nama Akses Kontrol"}),(0,w.jsx)(H.Z.Control,{name:"modul",className:(0,L.Z)("form-control form-control-solid mb-1",{"is-invalid":pe.touched.modul&&pe.errors.modul},{"is-valid":pe.touched.modul&&!pe.errors.modul}),onChange:le,value:null===he||void 0===he?void 0:he.modul,placeholder:"Masukkan Nama Akses Kontrol"}),pe.touched.modul&&pe.errors.modul&&(0,w.jsx)("div",{className:"fv-plugins-message-container",children:(0,w.jsx)("div",{className:"fv-help-block",children:(0,w.jsx)("span",{role:"alert",children:pe.errors.modul})})})]}),(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Level"}),(0,w.jsx)(H.Z.Control,{name:"level",className:(0,L.Z)("form-control form-control-solid mb-1",{"is-invalid":pe.touched.level&&pe.errors.level},{"is-valid":pe.touched.level&&!pe.errors.level}),onChange:le,value:null===he||void 0===he?void 0:he.level,placeholder:"Masukkan Level Akses"}),pe.touched.level&&pe.errors.level&&(0,w.jsx)("div",{className:"fv-plugins-message-container",children:(0,w.jsx)("div",{className:"fv-help-block",children:(0,w.jsx)("span",{role:"alert",children:pe.errors.level})})})]}),(0,w.jsx)("div",{className:"p-0 mt-6",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsxs)("button",{className:"float-none btn btn-light align-self-center m-1",onClick:E,type:"button",children:[(0,w.jsx)("i",{className:"fa fa-close"}),"Batal"]}),(0,w.jsxs)("button",{className:"float-none btn btn-primary align-self-center m-1",type:"submit",children:[(0,w.jsx)("i",{className:"fa-solid fa-paper-plane"}),"Simpan"]})]})})]})})})]})}),(0,w.jsx)("div",{className:"table-responsive mt-5 ms-5 me-5 w",children:(0,w.jsx)(f.ZP,{columns:G,data:N,customStyles:{rows:{style:{minHeight:"100px"}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px"}},cells:{style:{paddingLeft:"8px",paddingRight:"8px"}}},progressComponent:(0,w.jsx)(z,{}),pagination:!0,paginationTotalRows:V,theme:"dark"===n?"darkMetro":"light",noDataComponent:(0,w.jsx)("div",{className:"alert alert-primary d-flex align-items-center p-5 mt-10 mb-10",children:(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1 text-center",children:"Data tidak ditemukan..!"})})})})}),(0,w.jsx)("div",{className:"col d-flex justify-content-center mb-10",children:(0,w.jsxs)("button",{className:"btn btn-light",onClick:function(){return e(-1)},children:[(0,w.jsx)("i",{className:"fa-solid fa-arrow-left"}),"Kembali"]})})]})}var se=y.t.getSystemMode(),re={input:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#5e6278"})},menu:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},indicatorsContainer:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#cccccc"})},indicatorSeparator:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#cccccc"})},control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)",boxShadow:"0 0 0 1px #f5f8fa"})},singleValue:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278"})},option:function(e){return(0,i.Z)((0,i.Z)({},e),{},{height:"100%",backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})}},le={input:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#92929f"})},menu:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},indicatorsContainer:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#92929f"})},indicatorSeparator:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#92929f"})},control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)",boxShadow:"0 0 0 1px #1b1b29"})},singleValue:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f"})},option:function(e){return(0,i.Z)((0,i.Z)({},e),{},{height:"100%",backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})}},ie="https://sisappra-be.tsgitdev.com",oe="".concat(ie,"/manajemen-pengguna"),ce="".concat(ie,"/manajemen-pengguna/hak-akses");function de(){var e=(0,t.s0)(),a=(0,_.rB)().mode,n="system"===a?se:a,s=(0,d.useState)({val:""}),o=(0,l.Z)(s,2),u=o[0],f=(o[1],(0,d.useState)({val:""})),p=(0,l.Z)(f,2),x=p[0],v=p[1],g=d.useState({}),j=(0,l.Z)(g,2),N=j[0],Z=j[1],y=(0,d.useState)(!1),C=(0,l.Z)(y,2),S=(C[0],C[1],function(e){Z((function(a){return(0,i.Z)((0,i.Z)({},a),{},(0,T.Z)({},e.target.name,e.target.value))}))}),A=function(){var e=(0,r.Z)(c().mark((function e(a){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(ce,"/filter-nama_hak_akses/").concat(a));case 2:return n=e.sent,e.next=5,n.data.data;case 5:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.nama_hak_akses,value:e.id}})));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),B=(0,K.TA)({initialValues:{nama_lengkap:"",no_pegawai:"",kata_sandi:"12345",email:"",foto:"",status_pengguna:{value:"",label:"Pilih status pengguna"},hak_akses:{value:"",label:"Pilih Hak Akses"}},onSubmit:function(){var a=(0,r.Z)(c().mark((function a(n){var t,s;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={nama_lengkap:null!==N&&void 0!==N&&N.nama_lengkap?N.nama_lengkap:"",kata_sandi:null!==N&&void 0!==N&&N.kata_sandi?N.kata_sandi:"12345",email:null!==N&&void 0!==N&&N.email?N.email:"",status_pengguna:null!==N&&void 0!==N&&N.status_pengguna?N.status_pengguna:0,hak_akses:null!==N&&void 0!==N&&null!==(t=N.hak_akses)&&void 0!==t&&t.value?N.hak_akses.value:0,no_pegawai:null!==x&&void 0!==x&&x.val?x.val:""},a.prev=1,a.next=4,m().post("".concat(oe,"/create"),s);case 4:a.sent&&(b().fire({icon:"success",text:"Data berhasil disimpan",showConfirmButton:!1,timer:1500}),e("/apps/data-pengguna/",{replace:!0})),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),b().fire({icon:"error",text:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()});return(0,w.jsx)("div",{className:"card mb-3 mb-xl-2",children:(0,w.jsx)("div",{className:"card-body",children:(0,w.jsxs)("form",{onSubmit:B.handleSubmit,children:[(0,w.jsxs)("div",{className:"row mt-2",children:["Non - PNS"===u.val?(0,w.jsx)("div",{className:"col-6 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Nama Lengkap"}),(0,w.jsx)(H.Z.Control,{type:"text",name:"nama_lengkap",className:"form-control form-control-solid",onChange:S,value:null===N||void 0===N?void 0:N.nama_lengkap,placeholder:"Masukkan nama lengkap"})]})}):null,(0,w.jsx)("div",{className:"col-6 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"No Pegawai"}),(0,w.jsx)("input",{type:"number",className:"form-control form-control form-control-solid",value:null===N||void 0===N?void 0:N.no_pegawai,onChange:function(e){v((function(a){return(0,i.Z)((0,i.Z)({},a),{},{val:e.target.value})}))},placeholder:"Masukkan nomor NRK / NPTT / NPJLP"})]})}),(0,w.jsx)("div",{className:"col-6 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Email"}),(0,w.jsx)(H.Z.Control,{type:"text",name:"email",className:"form-control form-control-solid",onChange:S,value:null===N||void 0===N?void 0:N.email,placeholder:"Masukkan alamat email"})]})}),(0,w.jsx)("div",{className:"col-6 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Hak Akses"}),(0,w.jsx)(k.Z,{cacheOptions:!0,loadOptions:function(e,a){setTimeout((0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=a,n.next=3,A(e);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},defaultOptions:!0,onChange:function(e){return a=e,n="hak_akses",void Z((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,T.Z)({},n,a))}));var a,n},value:null!==N&&void 0!==N&&N.hak_akses?null===N||void 0===N?void 0:N.hak_akses:{value:"",label:"Pilih"},placeholder:"Pilih",styles:"dark"===n?le:re,loadingMessage:function(){return"Sedang mencari pilihan..."},noOptionsMessage:function(){return"Ketik untuk mencari pilihan"}})]})})]}),(0,w.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-center mt-4",children:[(0,w.jsx)(h.rU,{to:"/apps/data-pengguna",children:(0,w.jsxs)("button",{className:"float-none btn btn-light align-self-center m-1",children:[" ",(0,w.jsx)("i",{className:"fa-solid fa-xmark"}),"Batal"]})}),(0,w.jsxs)("button",{className:"float-none btn btn-primary align-self-center m-1",type:"submit",children:[(0,w.jsx)("i",{className:"fa-sharp fa-solid fa-paper-plane"}),"Simpan"]})]})]})})})}var ue=y.t.getSystemMode(),me={input:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#5e6278"})},menu:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},indicatorsContainer:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#cccccc"})},indicatorSeparator:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#cccccc"})},control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)",boxShadow:"0 0 0 1px #f5f8fa"})},singleValue:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278"})},option:function(e){return(0,i.Z)((0,i.Z)({},e),{},{height:"100%",backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})}},he={input:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#92929f"})},menu:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},indicatorsContainer:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#92929f"})},indicatorSeparator:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#92929f"})},control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)",boxShadow:"0 0 0 1px #1b1b29"})},singleValue:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f"})},option:function(e){return(0,i.Z)((0,i.Z)({},e),{},{height:"100%",backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})}},fe="https://sisappra-be.tsgitdev.com",pe="".concat(fe,"/manajemen-pengguna"),xe="".concat(fe,"/manajemen-pengguna/hak-akses");function ve(){var e=(0,_.rB)().mode,a="system"===e?ue:e,n=(0,t.s0)(),s=(0,t.UO)().id,o=d.useState({}),u=(0,l.Z)(o,2),f=u[0],p=u[1],x=d.useState({}),v=(0,l.Z)(x,2),g=v[0],j=v[1];(0,d.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var a,n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(pe,"/find/").concat(s));case 2:a=e.sent,n=a.data.data,t={hak_akses:n.hak_akses,kata_sandi:n.kata_sandi,status_pengguna:n.status_pengguna,updated_by:0,no_pegawai:n.no_pegawai},S(a.data.data.hak_akses),p(a.data.data),j((function(e){return(0,i.Z)((0,i.Z)({},e),t)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]);var N=(0,d.useState)({value:"",label:""}),Z=(0,l.Z)(N,2),y=Z[0],C=Z[1],S=function(){var e=(0,r.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}return e.next=3,m().get("".concat(xe,"/findone/").concat(parseInt(a))).then((function(e){C((function(a){var n,t,s,r;return(0,i.Z)((0,i.Z)({},a),{},{value:null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.id,label:null===e||void 0===e||null===(s=e.data)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.nama_hak_akses})}))})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=(0,r.Z)(c().mark((function e(a){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(xe,"/filter-nama_hak_akses/").concat(a));case 2:return n=e.sent,e.next=5,n.data.data;case 5:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.nama_hak_akses,value:e.id}})));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),B=(0,K.TA)({initialValues:{kata_sandi:"",no_pegawai:"",foto:"",hak_akses:{value:"",label:"Pilih Hak Akses"},status_pengguna:{value:"",label:"Status Pengguna"}},onSubmit:function(){var e=(0,r.Z)(c().mark((function e(a){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={no_pegawai:null!==f&&void 0!==f&&f.no_pegawai?f.no_pegawai:null!==g&&void 0!==g&&g.no_pegawai?g.no_pegawai:"",kata_sandi:null!==f&&void 0!==f&&f.kata_sandi?f.kata_sandi:"",status_pengguna:null!==f&&void 0!==f&&f.status_pengguna?f.status_pengguna:null!==g&&void 0!==g&&g.status_pengguna?g.status_pengguna:0,hak_akses:null!==f&&void 0!==f&&null!==(t=f.hak_akses)&&void 0!==t&&t.value?f.hak_akses.value:null!==g&&void 0!==g&&g.hak_akses?g.hak_akses:0,updated_by:0},e.prev=1,e.next=4,m().put("".concat(pe,"/update/").concat(s),r);case 4:e.sent&&(b().fire({icon:"success",title:"Data berhasil disimpan",showConfirmButton:!1,timer:1500}),n("/apps/data-pengguna",{replace:!0})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),b().fire({icon:"error",title:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()});return(0,w.jsx)("div",{className:"app-main flex-column flex-row-fluid",id:"kt_app_main",children:(0,w.jsx)("div",{className:"d-flex flex-column flex-column-fluid",children:(0,w.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,w.jsx)("div",{id:"kt_app_content_container",className:"app-container container-xxl",children:(0,w.jsx)("div",{className:"card mb-2 mb-xl-1",children:(0,w.jsx)("div",{className:"card-body",children:(0,w.jsxs)("form",{onSubmit:B.handleSubmit,children:[(0,w.jsx)("div",{className:"row mt-2 ",children:(0,w.jsx)("div",{className:"col-12 mb-6 text-center",children:(0,w.jsx)("div",{className:"me-7 mb-4",children:(0,w.jsx)("div",{className:"symbol symbol-100px symbol-lg-160px symbol-fixed position-relative",children:f&&""!==(null===f||void 0===f?void 0:f.foto)?(0,w.jsx)("div",{className:"symbol-label",children:(0,w.jsx)("img",{src:"".concat(fe,"/").concat(null===f||void 0===f?void 0:f.foto),className:"w-100"})}):(0,w.jsx)("div",{className:(0,L.Z)("symbol-label fs-1","bg-light-secondary","text-dark-secondary")})})})})}),(0,w.jsxs)("div",{className:"row mt-2",children:[(0,w.jsx)("div",{className:"col-6 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Password"}),(0,w.jsx)(H.Z.Control,{type:"password",name:"kata_sandi",className:"form-control form-control-solid",onChange:function(e){p((function(a){return(0,i.Z)((0,i.Z)({},a),{},(0,T.Z)({},e.target.name,e.target.value))}))},placeholder:"Ubah password"})]})}),(0,w.jsx)("div",{className:"col-6 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Hak Akses"}),(0,w.jsx)(k.Z,{cacheOptions:!0,loadOptions:function(e,a){setTimeout((0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=a,n.next=3,A(e);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},defaultOptions:!0,onChange:function(e){return a=e,n="hak_akses",void p((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,T.Z)({},n,a))}));var a,n},value:null!==f&&void 0!==f&&f.hak_akses&&"object"===typeof(null===f||void 0===f?void 0:f.hak_akses)?null===f||void 0===f?void 0:f.hak_akses:y&&""!==y.label?y:{value:"",label:"Pilih"},name:"hak_akses",placeholder:"Pilih",styles:"dark"===a?he:me,loadingMessage:function(){return"Sedang mencari pilihan..."},noOptionsMessage:function(){return"Ketik untuk mencari pilihan"}})]})})]}),(0,w.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-center",children:[(0,w.jsx)(h.rU,{to:"/apps/data-pengguna",children:(0,w.jsxs)("button",{className:"btn btn-secondary",children:[(0,w.jsx)("i",{className:"fa fa-close"}),"Batal"]})}),(0,w.jsxs)("button",{className:"btn btn-primary",type:"submit",children:[(0,w.jsx)("i",{className:"fa-solid fa-paper-plane"}),"Simpan"]})]})]})})})})})})})}var ge="".concat("https://sisappra-be.tsgitdev.com","/manajemen-pengguna");function be(){var e=(0,t.UO)().id,a=d.useState({}),n=(0,l.Z)(a,2),s=n[0],o=n[1];return(0,d.useEffect)((function(){var a=function(){var a=(0,r.Z)(c().mark((function a(){var n,t,s;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m().get("".concat(ge,"/find/").concat(e));case 2:n=a.sent,t=n.data.data,s={nama_lengkap:t.nama_lengkap,id_pegawai:t.id_pegawai,no_pegawai:t.no_pegawai,email:t.email,kata_sandi:t.kata_sandi,hak_akses:t.hak_akses,status_pengguna:t.status_pengguna,terakhir_login:t.terakhir_login,updated_by:""},o((function(e){return(0,i.Z)((0,i.Z)({},e),s)}));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[s,e]),(0,w.jsx)("div",{className:"app-main flex-column flex-row-fluid",id:"kt_app_main",children:(0,w.jsx)("div",{className:"d-flex flex-column flex-column-fluid",children:(0,w.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,w.jsx)("div",{id:"kt_app_content_container",className:"app-container container-xxl",children:(0,w.jsx)("div",{className:"card mb-3 mb-xl-2",children:(0,w.jsx)("div",{className:"card-body",children:(0,w.jsxs)("form",{children:[(0,w.jsxs)("div",{className:"row mt-2",children:[(0,w.jsx)("div",{className:"col-5 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Nama Lengkap"}),(0,w.jsx)(H.Z.Control,{name:"nama_lengkap",className:"form-control form-control-solid",value:null!==s&&void 0!==s&&s.nama_lengkap?null===s||void 0===s?void 0:s.nama_lengkap:"",readOnly:!0})]})}),(0,w.jsx)("div",{className:"col-5 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Id Pegawai"}),(0,w.jsx)(H.Z.Control,{name:"id_pegawai",className:"form-control form-control-solid",value:null!==s&&void 0!==s&&s.id_pegawai?null===s||void 0===s?void 0:s.id_pegawai:"",readOnly:!0})]})}),(0,w.jsx)("div",{className:"col-5 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"No Pegawai"}),(0,w.jsx)(H.Z.Control,{name:"no_pegawai",className:"form-control form-control-solid",value:null!==s&&void 0!==s&&s.no_pegawai?null===s||void 0===s?void 0:s.no_pegawai:"",readOnly:!0})]})}),(0,w.jsx)("div",{className:"col-5 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Email"}),(0,w.jsx)(H.Z.Control,{name:"email",className:"form-control form-control-solid",value:null!==s&&void 0!==s&&s.email?null===s||void 0===s?void 0:s.email:"",readOnly:!0})]})}),(0,w.jsx)("div",{className:"col-5 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Kata Sandi"}),(0,w.jsx)(H.Z.Control,{name:"kata_sandi",className:"form-control form-control-solid",value:null!==s&&void 0!==s&&s.kata_sandi?null===s||void 0===s?void 0:s.kata_sandi:"",readOnly:!0})]})}),(0,w.jsx)("div",{className:"col-5 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Hak Akses"}),(0,w.jsx)(H.Z.Control,{name:"hak_akses",className:"form-control form-control-solid",value:null!==s&&void 0!==s&&s.hak_akses?null===s||void 0===s?void 0:s.hak_akses:"",readOnly:!0})]})}),(0,w.jsx)("div",{className:"col-5 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Status Pengguna"}),(0,w.jsx)(H.Z.Control,{name:"status_pengguna",className:"form-control form-control-solid",value:null!==s&&void 0!==s&&s.status_pengguna?null===s||void 0===s?void 0:s.status_pengguna:"",readOnly:!0})]})}),(0,w.jsx)("div",{className:"col-5 mb-6",children:(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)(H.Z.Label,{children:"Terakhir Login"}),(0,w.jsx)(H.Z.Control,{name:"terakhir_login",className:"form-control form-control-solid",value:null!==s&&void 0!==s&&s.terakhir_login?null===s||void 0===s?void 0:s.terakhir_login:"",readOnly:!0})]})})]}),(0,w.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-center",children:(0,w.jsx)(h.rU,{to:"/apps/data-pengguna",children:(0,w.jsxs)("button",{className:"btn btn-secondary",children:[(0,w.jsx)("i",{className:"fa-solid fa-arrow-left"}),"Kembali"]})})})]})})})})})})})}var ke=(0,n(66543).Z)("card-group"),je=n(43360),Ne=n(45987),Ze=n(71707),ye=n.n(Ze),_e=n(80239),we=n(10162),Ce=n(17858);function Se(e,a){return Array.isArray(e)?e.includes(a):e===a}var Ae=d.createContext({});Ae.displayName="AccordionContext";var Be=Ae,Pe=["as","bsPrefix","className","children","eventKey"],Fe=d.forwardRef((function(e,a){var n=e.as,t=void 0===n?"div":n,s=e.bsPrefix,r=e.className,l=e.children,o=e.eventKey,c=(0,Ne.Z)(e,Pe),u=(0,d.useContext)(Be).activeEventKey;return s=(0,we.vE)(s,"accordion-collapse"),(0,w.jsx)(Ce.Z,(0,i.Z)((0,i.Z)({ref:a,in:Se(u,o)},c),{},{className:ye()(r,s),children:(0,w.jsx)(t,{children:d.Children.only(l)})}))}));Fe.displayName="AccordionCollapse";var Me=Fe,Te=d.createContext({eventKey:""});Te.displayName="AccordionItemContext";var De=Te,He=["as","bsPrefix","className"],Ke=d.forwardRef((function(e,a){var n=e.as,t=void 0===n?"div":n,s=e.bsPrefix,r=e.className,l=(0,Ne.Z)(e,He);s=(0,we.vE)(s,"accordion-body");var o=(0,d.useContext)(De).eventKey;return(0,w.jsx)(Me,{eventKey:o,children:(0,w.jsx)(t,(0,i.Z)((0,i.Z)({ref:a},l),{},{className:ye()(r,s)}))})}));Ke.displayName="AccordionBody";var Oe=Ke,Le=n(93433),Ee=["as","bsPrefix","className","onClick"];var Re=d.forwardRef((function(e,a){var n=e.as,t=void 0===n?"button":n,s=e.bsPrefix,r=e.className,l=e.onClick,o=(0,Ne.Z)(e,Ee);s=(0,we.vE)(s,"accordion-button");var c=(0,d.useContext)(De).eventKey,u=function(e,a){var n=(0,d.useContext)(Be),t=n.activeEventKey,s=n.onSelect,r=n.alwaysOpen;return function(n){var l=e===t?null:e;r&&(l=Array.isArray(t)?t.includes(e)?t.filter((function(a){return a!==e})):[].concat((0,Le.Z)(t),[e]):[e]),null==s||s(l,n),null==a||a(n)}}(c,l),m=(0,d.useContext)(Be).activeEventKey;return"button"===t&&(o.type="button"),(0,w.jsx)(t,(0,i.Z)((0,i.Z)({ref:a,onClick:u},o),{},{"aria-expanded":c===m,className:ye()(r,s,!Se(m,c)&&"collapsed")}))}));Re.displayName="AccordionButton";var Ue=Re,Ve=["as","bsPrefix","className","children","onClick"],Ie=d.forwardRef((function(e,a){var n=e.as,t=void 0===n?"h2":n,s=e.bsPrefix,r=e.className,l=e.children,o=e.onClick,c=(0,Ne.Z)(e,Ve);return s=(0,we.vE)(s,"accordion-header"),(0,w.jsx)(t,(0,i.Z)((0,i.Z)({ref:a},c),{},{className:ye()(r,s),children:(0,w.jsx)(Ue,{onClick:o,children:l})}))}));Ie.displayName="AccordionHeader";var Ye=Ie,We=["as","bsPrefix","className","eventKey"],ze=d.forwardRef((function(e,a){var n=e.as,t=void 0===n?"div":n,s=e.bsPrefix,r=e.className,l=e.eventKey,o=(0,Ne.Z)(e,We);s=(0,we.vE)(s,"accordion-item");var c=(0,d.useMemo)((function(){return{eventKey:l}}),[l]);return(0,w.jsx)(De.Provider,{value:c,children:(0,w.jsx)(t,(0,i.Z)((0,i.Z)({ref:a},o),{},{className:ye()(r,s)}))})}));ze.displayName="AccordionItem";var Ge=ze,Je=["as","activeKey","bsPrefix","className","onSelect","flush","alwaysOpen"],qe=d.forwardRef((function(e,a){var n=(0,_e.Ch)(e,{activeKey:"onSelect"}),t=n.as,s=void 0===t?"div":t,r=n.activeKey,l=n.bsPrefix,o=n.className,c=n.onSelect,u=n.flush,m=n.alwaysOpen,h=(0,Ne.Z)(n,Je),f=(0,we.vE)(l,"accordion"),p=(0,d.useMemo)((function(){return{activeEventKey:r,onSelect:c,alwaysOpen:m}}),[r,c,m]);return(0,w.jsx)(Be.Provider,{value:p,children:(0,w.jsx)(s,(0,i.Z)((0,i.Z)({ref:a},h),{},{className:ye()(o,f,u&&"".concat(f,"-flush"))}))})}));qe.displayName="Accordion";var Qe=Object.assign(qe,{Button:Ue,Collapse:Me,Item:Ge,Header:Ye,Body:Oe}),Xe=y.t.getSystemMode(),$e={input:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#5e6278"})},menu:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})},indicatorsContainer:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#cccccc"})},indicatorSeparator:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#cccccc"})},control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)",boxShadow:"0 0 0 1px #f5f8fa"})},singleValue:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#f5f8fa",color:"#5e6278"})},option:function(e){return(0,i.Z)((0,i.Z)({},e),{},{height:"100%",backgroundColor:"#f5f8fa",color:"#5e6278",borderColor:"hsl(204deg 33% 97%)"})}},ea={input:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#92929f"})},menu:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},container:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})},indicatorsContainer:function(e){return(0,i.Z)((0,i.Z)({},e),{},{color:"#92929f"})},indicatorSeparator:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#92929f"})},control:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)",boxShadow:"0 0 0 1px #1b1b29"})},singleValue:function(e){return(0,i.Z)((0,i.Z)({},e),{},{backgroundColor:"#1b1b29",color:"#92929f"})},option:function(e){return(0,i.Z)((0,i.Z)({},e),{},{height:"100%",backgroundColor:"#1b1b29",color:"#92929f",borderColor:"hsl(240deg 13% 13%)"})}},aa="https://sisappra-be.tsgitdev.com",na="".concat(aa,"/manajemen-pengguna"),ta="".concat(aa,"/master/bidang-wilayah"),sa="".concat(aa,"/master/jabatan"),ra="".concat(aa,"/master/pelaksana"),la="".concat(aa,"/manajemen-pengguna/akses-kontrol");function ia(){var e=(0,t.s0)(),a=(0,_.rB)().mode,n="system"===a?Xe:a,s=(0,d.useState)(!1),o=(0,l.Z)(s,2),u=o[0],h=o[1],f=function(){return h(!1)},p=(0,d.useState)({val:"Pelaksana"}),x=(0,l.Z)(p,2),v=x[0],g=x[1],j=(0,d.useState)([]),N=(0,l.Z)(j,2),Z=N[0],y=N[1],C=(0,d.useState)([]),S=(0,l.Z)(C,2),A=S[0],B=S[1],P=(0,d.useState)([]),F=(0,l.Z)(P,2),M=F[0],T=F[1],O=(0,K.TA)({initialValues:{wilayah_bidang:{value:"",label:"Pilih"},kecamatan:{value:"",label:"Pilih"},jabatan:{value:"",label:"Pilih"},nama_hak_akses:"",value_permission:[]},onSubmit:function(){var e=(0,r.Z)(c().mark((function e(a){var n,t,s,r,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="Pelaksana"===v.val?Y.label+" "+se.label+" "+he.label:a.nama_hak_akses,t={nama_hak_akses:n,wilayah_bidang:null!==Y&&void 0!==Y&&Y.value?Y.value:0,kecamatan:null!==se&&void 0!==se&&se.value?se.value:0,jabatan:null!==he&&void 0!==he&&he.value?he.value:0,created_by:0},e.prev=2,e.next=5,m().post("".concat(na,"/hak-akses/create"),t);case 5:if(!(s=e.sent)){e.next=23;break}r=0;case 8:if(!(r<M.length)){e.next=20;break}if(!(l=M[r].akses_kontrol+" "+M[r].id)||!a.value_permission.includes(l)){e.next=15;break}return e.next=13,m().post("".concat(na,"/akses-kontrol-mapping/create"),{id_hak_akses:s.data.data.id,id_akses_kontrol:M[r].akses_kontrol,id_permission:M[r].id,value_permission:!0});case 13:e.next=17;break;case 15:return e.next=17,m().post("".concat(na,"/akses-kontrol-mapping/create"),{id_hak_akses:s.data.data.id,id_akses_kontrol:M[r].akses_kontrol,id_permission:M[r].id,value_permission:!1});case 17:r++,e.next=8;break;case 20:b().fire({icon:"success",title:"Data berhasil disimpan",showConfirmButton:!1,timer:1500}),a.value_permission=[],h(!1);case 23:xe(),f(),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(2),b().fire({icon:"error",title:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(e.t0);case 31:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(a){return e.apply(this,arguments)}}()}),L=(0,d.useState)({id:""}),E=(0,l.Z)(L,2),R=E[0],U=E[1],V=(0,d.useState)({value:null,label:""}),I=(0,l.Z)(V,2),Y=I[0],W=I[1],z=(0,d.useState)([]),G=(0,l.Z)(z,2),J=G[0],q=G[1],Q=function(){var e=(0,r.Z)(c().mark((function e(a){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(ta,"/filter/").concat(a));case 2:return n=e.sent,t=n.data.data,e.abrupt("return",t.map((function(e){return{label:e.nama,value:e.id}})));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),X=(0,d.useState)({id:""}),$=(0,l.Z)(X,2),ee=$[0],ae=$[1],ne=(0,d.useState)({value:null,label:""}),te=(0,l.Z)(ne,2),se=te[0],re=te[1],le=(0,d.useState)([]),ie=(0,l.Z)(le,2),oe=ie[0],ce=ie[1],de=function(){var e=(0,r.Z)(c().mark((function e(a){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(ra,"/filter?id_tempat_pelaksanaan=").concat(R.id).concat(""!==a&&"&nama=".concat(a)));case 2:return n=e.sent,t=n.data.data,e.abrupt("return",t.map((function(e){return{label:e.nama,value:e.id}})));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ue=(0,d.useState)({value:null,label:""}),me=(0,l.Z)(ue,2),he=me[0],fe=me[1],pe=function(){var e=(0,r.Z)(c().mark((function e(a){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(sa,"/filter?id_master_tempat_seksi_pelaksanaan=").concat(parseInt(ee.id)).concat(""!==a&&"&nama=".concat(a)));case 2:return n=e.sent,t=n.data.data,e.abrupt("return",t.map((function(e){return{label:e.jabatan,value:e.id}})));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){xe(),ve(),ge()}),[]);var xe=function(){var e=(0,r.Z)(c().mark((function e(){var a,n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(na,"/hak-akses/find"));case 2:return a=e.sent,n=a.data.data,Array.from(n).forEach(function(){var e=(0,r.Z)(c().mark((function e(a){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(na,"/hak-akses/count-total-data/{id_hak_akses}?id_hak_akses=").concat(a.id));case 2:n=e.sent,a.jumlah_pengguna="".concat(n.data.data.total_data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),t=setTimeout((function(){y(n)}),1500),e.abrupt("return",(function(){return clearTimeout(t)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,r.Z)(c().mark((function e(){var a,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(la,"/find"));case 2:n=e.sent,B(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=(0,r.Z)(c().mark((function e(){var a,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(na,"/modul-permission/find"));case 2:n=e.sent,T(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,w.jsx)(ke,{children:(0,w.jsxs)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-5 g-xl-9",children:[Z&&Z.length>0&&Z.map((function(a){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"col-md-4",children:(0,w.jsxs)("div",{className:"card card-flush h-md-100",children:[(0,w.jsx)("div",{className:"card-header",children:(0,w.jsx)("div",{className:"card-title",children:(0,w.jsx)("h3",{children:null===a||void 0===a?void 0:a.nama_hak_akses})})}),(0,w.jsx)("div",{className:"card-body pt-1",children:(0,w.jsxs)("div",{className:"fw-bold text-gray-600 mb-5",children:["Total Pengguna Dengan Hak Akses Ini:"," ",(0,w.jsx)("span",{className:"fw-bold text-black",children:a.jumlah_pengguna})]})}),(0,w.jsx)("div",{className:"ol-md-4",children:(0,w.jsx)("div",{className:"card h-md-100",children:(0,w.jsx)("div",{className:"card-body d-flex flex-center",children:(0,w.jsx)("button",{className:"btn btn-light btn-active-primary my-1 me-2",onClick:function(){return e("/apps/detail-hak-akses/DetailHakAkses/"+a.id,{state:{parent:a.hak_akses,parentName:a.hak_akses}})},children:"Detail Hak Akses"})})})})]})},a.id+a.kode)})})),(0,w.jsx)("div",{className:"col-md-4",children:(0,w.jsx)("div",{className:"card h-md-100",children:(0,w.jsx)("div",{className:"card-body d-flex flex-center",children:(0,w.jsx)("button",{type:"button",className:"btn btn-clear d-flex flex-column flex-center","data-bs-toggle":"modal","data-bs-target":"#kt_modal_add_role",onClick:function(){return h(!0)},children:(0,w.jsx)("div",{className:"fw-bold fs-3 text-gray-600 text-hover-primary",children:"Tambah Hak Akses"})})})})}),(0,w.jsx)(D.Z,{size:"xl",show:u,"aria-labelledby":"example-modal-sizes-title-lg",backdrop:"static",keyboard:!1,centered:!0,onHide:f,children:(0,w.jsxs)("form",{onSubmit:O.handleSubmit,children:[(0,w.jsx)(D.Z.Header,{closeButton:!0,children:(0,w.jsx)(D.Z.Title,{children:"Tambah Hak Akses Pelaksana"})}),(0,w.jsxs)(D.Z.Body,{children:[(0,w.jsx)("div",{className:"col-md-6 col-lg-6"}),(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)("label",{htmlFor:"",className:"mb-3",children:"Status Kepegawaian"}),(0,w.jsx)("div",{children:(0,w.jsx)("select",{className:"form-select form-select-solid mb-5","aria-label":"Select example",value:v.val,onChange:function(e){g({val:e.target.value})},name:"val",children:["Pelaksana","Non-Pelaksana"].map((function(e){return(0,w.jsx)("option",{value:e,children:e})}))})})]}),"Pelaksana"===v.val?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"",className:"mb-3",children:"Wilayah/Bidang"}),(0,w.jsx)(k.Z,{styles:"dark"===n?ea:$e,className:"mb-5",value:Y.value?Y:{value:"",label:"Pilih"},loadOptions:function(e,a){setTimeout((0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=a,n.next=3,Q(e);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),1e3)},defaultOptions:!0,onChange:function(e){W((function(a){return(0,i.Z)((0,i.Z)({},a),e)})),U({id:e.value}),re({value:null,label:""}),fe({value:null,label:""});var a=setTimeout((0,r.Z)(c().mark((function a(){var n,t;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m().get("".concat(ra,"/filter?id_tempat_pelaksanaan=").concat(e.value));case 2:n=a.sent,t=n.data.data,Array.from(t).forEach(function(){var e=(0,r.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.label=a.nama,a.value=a.id;case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),q(t);case 6:case"end":return a.stop()}}),a)}))),100);return function(){return clearTimeout(a)}}})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"",className:"mb-3",children:"Kecamatan"}),(0,w.jsx)(k.Z,{styles:"dark"===n?ea:$e,className:"mb-5",value:se.value?se:{value:"",label:"Pilih"},loadOptions:function(e,a){setTimeout((0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=a,n.next=3,de(e);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),500)},defaultOptions:J,onChange:function(e){re((function(a){return(0,i.Z)((0,i.Z)({},a),e)})),ae({id:e.value}),fe({value:null,label:""});var a=setTimeout((0,r.Z)(c().mark((function a(){var n,t;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m().get("".concat(sa,"/filter?id_master_tempat_seksi_pelaksanaan=").concat(e.value));case 2:n=a.sent,t=n.data.data,Array.from(t).forEach(function(){var e=(0,r.Z)(c().mark((function e(a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.label=a.jabatan,a.value=a.id;case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),ce(t);case 6:case"end":return a.stop()}}),a)}))),100);return function(){return clearTimeout(a)}}})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"",className:"mb-3",children:"Jabatan"}),(0,w.jsx)(k.Z,{styles:"dark"===n?ea:$e,value:he.value?he:{value:"",label:"Pilih"},loadOptions:function(e,a){setTimeout((0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=a,n.next=3,pe(e);case 3:n.t1=n.sent,(0,n.t0)(n.t1);case 5:case"end":return n.stop()}}),n)}))),500)},defaultOptions:oe,onChange:function(e){fe((function(a){return(0,i.Z)((0,i.Z)({},a),e)}))}})]})]}):null,"Non-Pelaksana"===v.val?(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{htmlFor:"",className:"mb-3",children:"Nama Hak Akses"}),(0,w.jsx)(H.Z.Control,{name:"nama_hak_akses",className:"form-control form-control-solid",onChange:O.handleChange,value:O.values.nama_hak_akses})]}):null,(0,w.jsxs)("div",{className:"fv-row mt-5",children:[(0,w.jsx)("h5",{className:"fs-5 fw-bold form-label mb-3",children:"Akses Kontrol"}),(0,w.jsx)("div",{className:"table-responsive",children:(0,w.jsx)("div",{className:"table align-middle table-row-dashed fs-6 gy-5",children:(0,w.jsx)("div",{className:"text-gray-600 fw-semibold",children:A&&A.length>0&&A.map((function(e){return(0,w.jsx)(w.Fragment,{children:e.level.split("-").length<2&&(0,w.jsx)(Qe,{defaultActiveKey:"0",children:(0,w.jsxs)(Qe.Item,{eventKey:"1",children:[(0,w.jsx)(Qe.Header,{children:(0,w.jsx)("h3",{children:e.modul})}),(0,w.jsx)(Qe.Body,{children:A.map((function(a){return(0,w.jsx)(w.Fragment,{children:a.level.split("-")[0]===e.level&&(0,w.jsxs)("div",{className:"d-flex align-items-center py-4 mb-4",children:[(0,w.jsx)("h5",{className:"card-title m-0 w-50",children:a.modul}),(0,w.jsx)("div",{className:"d-flex w-50",children:M.map((function(e){return(0,w.jsx)(w.Fragment,{children:e.akses_kontrol===a.id&&(0,w.jsxs)("label",{className:"form-check form-check-custom form-check-solid me-5 me-lg-20",children:[(0,w.jsx)("input",{name:"value_permission",type:"checkbox",onChange:O.handleChange,value:a.id+" "+e.id}),(0,w.jsx)("span",{className:"form-check-label",children:e.nama_permission})]})})}))})]})})}))})]})},e.id)})}))})})})]})]}),(0,w.jsxs)(D.Z.Footer,{children:[(0,w.jsx)(je.Z,{variant:"secondary",onClick:f,children:"Close"}),(0,w.jsxs)("button",{className:"btn btn-primary",type:"submit",children:[(0,w.jsx)("i",{className:"fa-solid fa-paper-plane"}),"Simpan"]})]})]})})]})})}(0,f.jG)("darkMetro",{text:{primary:"#92929f",secondary:"#92929f"},background:{default:"#1e1e2e"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#2b2c41"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");var oa=y.t.getSystemMode(),ca="https://sisappra-be.tsgitdev.com",da="".concat(ca,"/manajemen-pengguna"),ua="".concat(ca,"/manajemen-pengguna/akses-kontrol");function ma(){var e=(0,t.UO)().id,a=(0,t.s0)(),n=(0,_.rB)().mode,s=(0,d.useState)(!1),o=(0,l.Z)(s,2),u=o[0],g=o[1],k=function(){return g(!1)},N=(0,d.useState)({val:""}),y=(0,l.Z)(N,2),C=y[0],S=y[1],A="system"===n?oa:n,B=(0,d.useState)(),P=(0,l.Z)(B,2),F=P[0],M=P[1],T=(0,d.useState)(),O=(0,l.Z)(T,2),E=O[0],R=O[1],U=(0,d.useState)([]),V=(0,l.Z)(U,2),I=V[0],Y=V[1],W=(0,d.useState)([]),z=(0,l.Z)(W,2),G=z[0],J=z[1],q=(0,d.useState)({filterArr:[],data:[]}),Q=(0,l.Z)(q,2),X=Q[0],$=Q[1],ee=(0,d.useState)([]),ae=(0,l.Z)(ee,2),ne=ae[0],te=ae[1],se=(0,d.useState)(!1),re=(0,l.Z)(se,2),le=re[0],ie=re[1],oe=(0,d.useState)(0),ce=(0,l.Z)(oe,2),de=ce[0],ue=ce[1],me=(0,d.useState)(0),he=(0,l.Z)(me,2),fe=he[0],pe=he[1],xe=(0,d.useState)({strparam:""}),ve=(0,l.Z)(xe,2),ge=ve[0],be=ve[1],ke=function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"alert alert-primary d-flex align-items-center p-5 mb-10",children:[(0,w.jsx)("span",{className:"spinner-border spinner-border-xl align-middle me-3"}),(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1",children:"Sedang mengambil data..."})})]})})},Ne=(0,K.TA)({initialValues:{nama_hak_akses:"",value_permission:X.filterArr},onSubmit:function(){var a=(0,r.Z)(c().mark((function a(n){var t,s,r,l;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={nama_hak_akses:n.nama_hak_akses,updated_by:0},a.prev=1,a.next=4,m().put("".concat(da,"/hak-akses/update/").concat(e),t);case 4:if(!a.sent){a.next=39;break}s=0;case 7:if(!(s<G.length)){a.next=35;break}if(r=G[s].akses_kontrol+" "+G[s].id,null===X||void 0===X||!X.filterArr.includes(r)){a.next=25;break}l=0;case 11:if(!(l<X.data.length)){a.next=23;break}if(X.data[l].id_akses_kontrol!==G[s].akses_kontrol||X.data[l].id_permission!==G[s].id){a.next=20;break}if(!n.value_permission.includes(r)){a.next=18;break}return a.next=16,m().put("".concat(da,"/akses-kontrol-mapping/update/").concat(X.data[l].id),{id_hak_akses:e,id_akses_kontrol:G[s].akses_kontrol,id_permission:G[s].id,value_permission:!0});case 16:a.next=20;break;case 18:return a.next=20,m().put("".concat(da,"/akses-kontrol-mapping/update/").concat(X.data[l].id),{id_hak_akses:e,id_akses_kontrol:G[s].akses_kontrol,id_permission:G[s].id,value_permission:!1});case 20:l++,a.next=11;break;case 23:a.next=32;break;case 25:if(!n.value_permission.includes(r)){a.next=30;break}return a.next=28,m().post("".concat(da,"/akses-kontrol-mapping/create"),{id_hak_akses:e,id_akses_kontrol:G[s].akses_kontrol,id_permission:G[s].id,value_permission:!0});case 28:a.next=32;break;case 30:return a.next=32,m().post("".concat(da,"/akses-kontrol-mapping/create"),{id_hak_akses:e,id_akses_kontrol:G[s].akses_kontrol,id_permission:G[s].id,value_permission:!1});case 32:s++,a.next=7;break;case 35:b().fire({icon:"success",title:"Data berhasil disimpan",showConfirmButton:!1,timer:2e3}),n.value_permission=[],Se(1),g(!1);case 39:a.next=45;break;case 41:a.prev=41,a.t0=a.catch(1),b().fire({icon:"error",title:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(a.t0);case 45:case"end":return a.stop()}}),a,null,[[1,41]])})));return function(e){return a.apply(this,arguments)}}()}),Ze=function(){var e=(0,r.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="",""!==C.val&&(a+="&nama_lengkap=".concat(C.val)),be((function(e){return(0,i.Z)((0,i.Z)({},e),{},{strparam:a})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){ye(1),we(),Ce(),Se(1)}),[]),(0,d.useEffect)((function(){_e(1)}),[ge,fe]),(0,d.useEffect)((function(){ye(1)}),[Ne.isSubmitting]);var ye=function(){var a=(0,r.Z)(c().mark((function a(n){var t,s,r,l;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m().get("".concat(da,"/hak-akses/count-total-data/{id_hak_akses}?id_hak_akses=").concat(e));case 2:return t=a.sent,M(t.data.data),pe(t.data.data.total_data),a.next=7,m().get("".concat(da,"/hak-akses/findone/").concat(e));case 7:return s=a.sent,R(s.data.data),Ne.values.nama_hak_akses=s.data.data.nama_hak_akses,a.next=12,m().get("".concat(da,"/filter-data-pengguna?limit=").concat(t.data.data.total_data,"&offset=").concat(n).concat(ge.strparam,"&hak_akses=").concat(e));case 12:return r=a.sent,ue(r.data.total_data),l=setTimeout((function(){var e=r.data.data;Array.from(e).forEach((function(e,a){e.serial=a+1})),te(e),ie(!1)}),50),a.abrupt("return",(function(){return clearTimeout(l)}));case 16:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),_e=function(){var a=(0,r.Z)(c().mark((function a(n){var t,s;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return ie(!0),a.next=3,m().get("".concat(da,"/filter-data-pengguna?limit=").concat(fe,"&offset=").concat(n).concat(ge.strparam,"&hak_akses=").concat(e));case 3:return t=a.sent,ue(t.data.total_data),s=setTimeout((function(){var e=t.data.data;Array.from(e).forEach((function(e,a){e.serial=a+1})),te(e),ie(!1)}),100),a.abrupt("return",(function(){return clearTimeout(s)}));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),we=function(){var e=(0,r.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(ua,"/find"));case 2:a=e.sent,Y(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,r.Z)(c().mark((function e(){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(da,"/modul-permission/find"));case 2:a=e.sent,J(a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var a=(0,r.Z)(c().mark((function a(n){var t,s,r,l;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m().get("".concat(da,"/akses-kontrol-mapping/filter/{id_hak_akses}?limit=").concat(G.length>1?G.length:100,"&offset=").concat(n,"&id_hak_akses=").concat(e));case 2:for(t=a.sent,s=[],r=[],l=0;l<t.data.data.length;l++)r.push(t.data.data[l].id_akses_kontrol+" "+t.data.data[l].id_permission),t.data.data[l].value_permission&&s.push(t.data.data[l].id_akses_kontrol+" "+t.data.data[l].id_permission);$({filterArr:r,data:t.data.data}),Ne.values.value_permission=s;case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Ae=[{name:"No",selector:function(e){return e.serial},sortable:!0,width:"10%",cell:function(e){return(0,w.jsx)("div",{className:"mb-2 mt-2",children:e.serial})}},{name:"Pengguna",selector:function(e){return""!==e.hak_akses?e.nama_lengkap:e.nama_lengkap=""},sortField:"nama_lengkap",sortable:!0,minWidth:"200px",wrap:!0,cell:function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"symbol symbol-circle symbol-50px overflow-hidden me-3",children:""!==(null===e||void 0===e?void 0:e.foto)?(0,w.jsx)("div",{className:"symbol-label",children:(0,w.jsx)("img",{src:"".concat(ca,"/").concat(null===e||void 0===e?void 0:e.foto),alt:null===e||void 0===e?void 0:e.nama_lengkap,className:"w-100"})}):(0,w.jsx)("div",{className:(0,L.Z)("symbol-label fs-3","bg-light-primary","text-primary"),children:null===e||void 0===e?void 0:e.nama_lengkap.charAt(0)})}),(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("span",{children:null===e||void 0===e?void 0:e.nama_lengkap})})]})})}},{name:"Tanggal Bergabung",sortable:!0,sortField:"tgl_bergabung",selector:function(e){return Z()(e.tgl_bergabung).format("D MMMM YYYY")},wrap:!0,center:!0},{name:"Aksi",sortable:!1,className:"action",center:!0,allowOverflow:!0,fixed:!0,cell:function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"d-flex mb-2 mt-2 flex-end",children:[v.Z].map((function(a,n){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(a,{as:p.Z,id:"dropdown-button-drop-".concat(n),size:"sm",variant:"light",title:"Aksi",children:(0,w.jsx)(x.Z.Item,{href:"#",onClick:function(){return function(e){b().fire({text:"Anda yakin ingin menghapus pengguna dari hak akses ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya!",cancelButtonText:"Tidak!",color:"#000000"}).then(function(){var a=(0,r.Z)(c().mark((function a(n){var t;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.isConfirmed){a.next=6;break}return t={status_pengguna:0,deleted_by:0},a.next=4,m().put("".concat(da,"/hapus-hak-akses-pengguna/").concat(e),t);case 4:a.sent?(_e(1),b().fire({icon:"success",text:"Data berhasil dihapus",showConfirmButton:!1,timer:1500,color:"#000000"})):b().fire({icon:"error",text:"Data gagal dihapus, harap mencoba lagi",showConfirmButton:!1,timer:1500,color:"#000000"});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}(e.id)},children:"Hapus"})},n)})}))})})}}];return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"row row-cols-1 g-5 g-xl-9",children:[(0,w.jsx)("div",{className:"px-0",children:(0,w.jsxs)("div",{className:"card card-flush h-md-30",children:[(0,w.jsx)("div",{className:"card-header pt-8",children:(0,w.jsx)("div",{className:"card-title",children:(0,w.jsx)("h2",{children:null===E||void 0===E?void 0:E.nama_hak_akses})})}),(0,w.jsx)("div",{className:"card-body pt-1"}),(0,w.jsxs)("div",{className:"card-footer flex-wrap pt-0",children:[(0,w.jsxs)("button",{className:"float-none btn btn-secondary align-self-center",onClick:function(){return a(-1)},children:[(0,w.jsx)("i",{className:"fa-solid fa-arrow-left "}),"Kembali"]}),(0,w.jsx)("button",{onClick:function(){return g(!0)},className:"btn btn-primary btn-active-light-primary ms-4",children:"Ubah Hak Akses"})]})]})}),(0,w.jsx)(D.Z,{size:"xl",show:u,"aria-labelledby":"example-modal-sizes-title-lg",backdrop:"static",keyboard:!1,centered:!0,onHide:k,children:(0,w.jsxs)("form",{onSubmit:Ne.handleSubmit,children:[(0,w.jsx)(D.Z.Header,{closeButton:!0,children:(0,w.jsx)(D.Z.Title,{children:"Ubah Hak Akses"})}),(0,w.jsxs)(D.Z.Body,{children:[(0,w.jsxs)(H.Z.Group,{className:"mb-10 form-control-solid",children:[(0,w.jsx)(H.Z.Label,{children:"Nama Hak Akses"}),(0,w.jsx)(H.Z.Control,{name:"nama_hak_akses",className:"form-control form-control-solid",onChange:Ne.handleChange,value:Ne.values.nama_hak_akses})]}),(0,w.jsxs)("div",{className:"fv-row",children:[(0,w.jsx)("span",{className:"fs-5 fw-bold form-label mb-2",children:"Akses Kontrol"}),(0,w.jsx)("div",{className:"table-responsive",children:(0,w.jsx)("div",{className:"table align-middle table-row-dashed fs-6 gy-5",children:(0,w.jsx)("div",{className:"text-gray-600 fw-semibold",children:I&&I.length>0&&I.map((function(e){return(0,w.jsx)(w.Fragment,{children:e.level.split("-").length<2&&(0,w.jsx)(Qe,{defaultActiveKey:"0",children:(0,w.jsxs)(Qe.Item,{eventKey:"1",children:[(0,w.jsx)(Qe.Header,{children:(0,w.jsx)("h3",{children:e.modul})}),(0,w.jsx)(Qe.Body,{children:I.map((function(a){return(0,w.jsx)(w.Fragment,{children:a.level.split("-")[0]===e.level&&(0,w.jsxs)("div",{className:"d-flex align-items-center py-4 mb-4",children:[(0,w.jsx)("h5",{className:"card-title m-0 w-50",children:a.modul}),(0,w.jsx)("div",{className:"d-flex w-50",children:G.map((function(e){return(0,w.jsx)(w.Fragment,{children:e.akses_kontrol===a.id&&(0,w.jsxs)("label",{className:"form-check form-check-custom form-check-solid me-5 me-lg-20",children:[(0,w.jsx)("input",{name:"value_permission",type:"checkbox",onChange:Ne.handleChange,value:a.id+" "+e.id,checked:Ne.values.value_permission.includes(a.id+" "+e.id)}),(0,w.jsx)("span",{className:"form-check-label",children:e.nama_permission})]},"mp"+a.id)})}))})]},"ak2"+a.id)})}))})]})},"ak"+e.id)})}))})})})]})]}),(0,w.jsxs)(D.Z.Footer,{children:[(0,w.jsx)(je.Z,{variant:"secondary",onClick:k,children:"Close"}),(0,w.jsxs)("button",{className:"btn btn-primary",type:"submit",children:[(0,w.jsx)("i",{className:"fa-solid fa-paper-plane"}),"Simpan"]})]})]})}),(0,w.jsx)("div",{id:"kt_app_content",className:"app-content flex-column-fluid",children:(0,w.jsxs)("div",{className:"card",children:[(0,w.jsxs)("div",{className:"row g-8 mt-2 ms-5 me-5",children:[(0,w.jsx)("label",{children:(0,w.jsxs)("h2",{children:["Pengguna Terdaftar (",0!==(null===F||void 0===F?void 0:F.total_data)?null===F||void 0===F?void 0:F.total_data:"Tidak Ada Pengguna",")"]})}),(0,w.jsx)("div",{className:"col-xxl-20 col-lg-4 col-md-20 col-sm-12",children:(0,w.jsx)("input",{type:"text",className:"form-control form-control form-control-solid",name:"nama",value:C.val,onChange:function(e){S({val:e.target.value})},placeholder:"Masukkan Nama"})}),(0,w.jsx)("div",{className:"col-xxl-20 col-lg-4 col-md-20 col-sm-12",children:(0,w.jsx)(h.rU,{to:"#",onClick:Ze,children:(0,w.jsxs)("button",{className:"btn btn-light-primary me-2",children:[(0,w.jsx)(j.D8,{path:"/media/icons/duotune/general/gen021.svg",className:"svg-icon-2"}),"Cari"]})})})]}),(0,w.jsx)("div",{className:"table-responsive mt-5 ms-5 me-5 w",children:(0,w.jsx)(f.ZP,{columns:Ae,data:ne,progressPending:le,progressComponent:(0,w.jsx)(ke,{}),pagination:!0,paginationTotalRows:de,customStyles:{rows:{style:{minHeight:"72px"}},headCells:{style:{paddingLeft:"8px",paddingRight:"8px"}},cells:{style:{paddingLeft:"8px",paddingRight:"8px"}}},theme:"dark"===A?"darkMetro":"light",noDataComponent:(0,w.jsx)("div",{className:"alert alert-primary d-flex align-items-center p-5 mt-10 mb-10",children:(0,w.jsx)("div",{className:"d-flex flex-column",children:(0,w.jsx)("h5",{className:"mb-1 text-center",children:"Data tidak ditemukan..!"})})})})})]})})]})})}n(98234),n(89390);var ha=Math.PI/180;function fa(e,a,n){return pa.apply(this,arguments)}function pa(){return pa=(0,r.Z)(c().mark((function e(a,n,t){var s,r,l,i,o,d,u,m,h,f,p,x=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=x.length>3&&void 0!==x[3]?x[3]:1,r=x.length>4&&void 0!==x[4]?x[4]:0,l=n.getContext("2d")){e.next=5;break}throw new Error("No 2d context");case 5:i=a.naturalWidth/a.width,o=a.naturalHeight/a.height,d=window.devicePixelRatio,n.width=Math.floor(t.width*i*d),n.height=Math.floor(t.height*o*d),l.scale(d,d),l.imageSmoothingQuality="high",u=t.x*i,m=t.y*o,h=r*ha,f=a.naturalWidth/2,p=a.naturalHeight/2,l.save(),l.translate(-u,-m),l.translate(f,p),l.rotate(h),l.scale(s,s),l.translate(-f,-p),l.drawImage(a,0,0,a.naturalWidth,a.naturalHeight,0,0,a.naturalWidth,a.naturalHeight),l.restore();case 25:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}var xa="https://sisappra-be.tsgitdev.com",va="".concat(xa,"/manajemen-pengguna");"".concat(xa,"/kepegawaian");function ga(){var e=(0,t.s0)(),a=(0,t.UO)().id,n=d.useState({}),s=(0,l.Z)(n,2),o=s[0],u=s[1],h=d.useState({}),f=(0,l.Z)(h,2),p=f[0],x=f[1],v=(0,d.useState)({strparam:""}),g=(0,l.Z)(v,2),k=(g[0],g[1],(0,d.useState)(!1)),j=(0,l.Z)(k,2),N=(j[0],j[1],(0,d.useState)(!1)),Z=(0,l.Z)(N,2),y=(Z[0],Z[1],(0,d.useState)(!1)),_=(0,l.Z)(y,2),C=(_[0],_[1],(0,d.useState)(!1)),S=(0,l.Z)(C,2),A=(S[0],S[1],(0,d.useState)()),B=(0,l.Z)(A,2),P=(B[0],B[1],(0,d.useState)("")),F=(0,l.Z)(P,2),M=(F[0],F[1],(0,d.useRef)(null)),D=(0,d.useRef)(null),O=(0,d.useState)(),L=(0,l.Z)(O,2),E=(L[0],L[1],(0,d.useState)()),R=(0,l.Z)(E,2),U=R[0],V=(R[1],(0,d.useState)(1)),I=(0,l.Z)(V,2),Y=I[0],W=(I[1],(0,d.useState)(0)),z=(0,l.Z)(W,2),G=z[0],J=(z[1],(0,d.useState)(16/9)),q=(0,l.Z)(J,2);q[0],q[1];(0,d.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var n,t,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get("".concat(va,"/find/").concat(a));case 2:n=e.sent,t=n.data.data,s={email:t.email,kata_sandi:t.kata_sandi,hak_akses:t.hak_akses,nama_lengkap:t.nama_lengkap,updated_by:0},x((function(e){return(0,i.Z)((0,i.Z)({},e),s)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o,a]);var Q,X,$,ee=function(e){u((function(a){return(0,i.Z)((0,i.Z)({},a),{},(0,T.Z)({},e.target.name,e.target.value))}))};Q=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==U&&void 0!==U&&U.width&&null!==U&&void 0!==U&&U.height&&D.current&&M.current&&fa(D.current,M.current,U,Y,G);case 1:case"end":return e.stop()}}),e)}))),X=100,$=[U,Y,G],(0,d.useEffect)((function(){var e=setTimeout((function(){Q.apply(void 0,$)}),X);return function(){clearTimeout(e)}}),[$,Q,X]);(0,K.TA)({initialValues:{id:0,nama_lengkap:"",email:"",foto:"",hak_akses:0},onSubmit:function(){var n=(0,r.Z)(c().mark((function n(t){var s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={nama_lengkap:null!==o&&void 0!==o&&o.nama_lengkap?o.nama_lengkap:null!==p&&void 0!==p&&p.nama_lengkap?p.nama_lengkap:"",kata_sandi:null!==o&&void 0!==o&&o.kata_sandi?o.kata_sandi:null!==p&&void 0!==p&&p.kata_sandi?p.kata_sandi:"",email:null!==o&&void 0!==o&&o.email?o.email:null!==p&&void 0!==p&&p.email?p.email:"",foto:null!==o&&void 0!==o&&o.foto?o.foto:null!==p&&void 0!==p&&p.foto?p.foto:"",hak_akses:null!==o&&void 0!==o&&o.hak_akses?o.hak_akses:null!==p&&void 0!==p&&p.hak_akses?p.hak_akses:0,updated_by:0},n.prev=1,n.next=4,m().put("".concat(va,"/hak-akses/findone/").concat(a),s);case 4:n.sent&&(b().fire({icon:"success",title:"Data berhasil disimpan",showConfirmButton:!1,timer:1500}),e("/apps/detail-hak-akses/DetailHakAkses",{replace:!0})),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),b().fire({icon:"error",title:"Data gagal disimpan, harap mencoba lagi",showConfirmButton:!1,timer:1500}),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()});return(0,w.jsx)("div",{className:"card mb-1 mb-xl-1",children:(0,w.jsxs)("div",{className:"flex-lg-row-fluid ms-lg-10",children:[(0,w.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md mt-3",children:(0,w.jsxs)("button",{className:"btn btn-secondary",onClick:function(){return e(-1)},children:[(0,w.jsx)("i",{className:"fa-solid fa-arrow-left"}),"Kembali"]})}),(0,w.jsx)("div",{className:"row mt-2",children:(0,w.jsx)("div",{className:"col-12 mb-6 text-center",children:(0,w.jsx)("div",{className:"me-7 mb-4",children:(0,w.jsxs)("div",{className:"symbol symbol-10px symbol-lg-100px symbol-fixed position-relative overlay overflow-hidden",children:[(0,w.jsx)("div",{className:"card-body",children:(0,w.jsx)("div",{className:'col-md-2 class="d-flex flex-center  py-3 px-10 ',children:(0,w.jsxs)("div",{className:"symbol symbol-100px symbol-lg-160px symbol-fixed position-relative overlay overflow-hidden",children:[(0,w.jsx)("div",{className:"overlay-wrapper"}),(0,w.jsx)("div",{className:"overlay-layer bg-dark bg-opacity-10 align-items-end justify-content-center"})]})})}),(0,w.jsx)("div",{className:"card-body pt-0 pb-5",children:(0,w.jsx)("div",{className:"table-responsive",children:(0,w.jsx)("table",{className:"table align-middle table-row-dashed gy-5",id:"kt_table_users_login_session",children:(0,w.jsxs)("tbody",{className:"fs-6 fw-semibold text-gray-600",children:[(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:"Nama Lengkap"}),(0,w.jsx)("td",{children:(0,w.jsx)(H.Z.Control,{name:"nama_lengkap",className:"form-control form-control-solid",onChange:ee,value:null!==o&&void 0!==o&&o.nama_lengkap||""===(null===o||void 0===o?void 0:o.nama_lengkap)?null===o||void 0===o?void 0:o.nama_lengkap:null!==p&&void 0!==p&&p.nama_lengkap?null===p||void 0===p?void 0:p.nama_lengkap:"",readOnly:!0})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:"email"}),(0,w.jsx)("td",{children:(0,w.jsx)(H.Z.Control,{name:"email",className:"form-control form-control-solid",onChange:ee,value:null!==o&&void 0!==o&&o.email||""===(null===o||void 0===o?void 0:o.email)?null===o||void 0===o?void 0:o.email:null!==p&&void 0!==p&&p.email?null===p||void 0===p?void 0:p.email:"",readOnly:!0})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:"Pasword"}),(0,w.jsx)("td",{children:(0,w.jsx)(H.Z.Control,{name:"kata_sandi",type:"password",className:"form-control form-control-solid",onChange:ee,value:null!==o&&void 0!==o&&o.kata_sandi||""===(null===o||void 0===o?void 0:o.kata_sandi)?null===o||void 0===o?void 0:o.kata_sandi:null!==p&&void 0!==p&&p.kata_sandi?null===p||void 0===p?void 0:p.kata_sandi:"",readOnly:!0})})]}),(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:"Hak Akses"}),(0,w.jsx)("td",{children:(0,w.jsx)(H.Z.Control,{name:"hak_akses",className:"form-control form-control-solid",onChange:ee,value:null!==o&&void 0!==o&&o.hak_akses||0===(null===o||void 0===o?void 0:o.hak_akses)?null===o||void 0===o?void 0:o.hak_akses:null!==p&&void 0!==p&&p.hak_akses?null===p||void 0===p?void 0:p.hak_akses:0,readOnly:!0})})]})]})})})})]})})})})]})})}var ba=[{title:"Data Pengguna",path:"/apps/manajemen-pengguna/pengguna",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],ka=function(){return(0,w.jsx)(t.Z5,{children:(0,w.jsxs)(t.AW,{element:(0,w.jsx)(t.j3,{}),children:[(0,w.jsx)(t.AW,{path:"data-pengguna",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Manajemen Pengguna"}),(0,w.jsx)(P,{})]})}),(0,w.jsx)(t.AW,{path:"data-pengguna/tambah-data-pengguna",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Tambah Data Pengguna"}),(0,w.jsx)(de,{})]})}),(0,w.jsx)(t.AW,{path:"data-pengguna/update-data-pengguna/:id",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Ubah Data Pengguna"}),(0,w.jsx)(ve,{})]})}),(0,w.jsx)(t.AW,{path:"data-pengguna/detail-data-pengguna/:id",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Lihat Jenis Kegiatan"}),(0,w.jsx)(be,{})]})}),(0,w.jsx)(t.AW,{path:"group-chat",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Group chat"}),(0,w.jsx)(M,{})]})}),(0,w.jsx)(t.AW,{path:"akses-kontrol",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Akses Kontrol"}),(0,w.jsx)(Y,{})]})}),(0,w.jsx)(t.AW,{path:"akses-kontrol/manajemen-permission/:id",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Manajemen Permission"}),(0,w.jsx)(Q,{})]})}),(0,w.jsx)(t.AW,{path:"akses-kontrol/manajemen-sub-modul/:id",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Manajemen Sub Modul"}),(0,w.jsx)(te,{})]})}),(0,w.jsx)(t.AW,{path:"hak-akses",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Hak Akses"}),(0,w.jsx)(ia,{})]})}),(0,w.jsx)(t.AW,{path:"detail-hak-akses/DetailHakAkses/:id",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Detail Hak Akses"}),(0,w.jsx)(ma,{})]})}),(0,w.jsx)(t.AW,{path:"update-hak-akses/UpdateHakAkses/:id",element:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.V1,{breadcrumbs:ba,children:"Detail Hak Akses"}),(0,w.jsx)(ga,{})]})}),(0,w.jsx)(t.AW,{index:!0,element:(0,w.jsx)(t.Fg,{to:"/data-pengguna"})})]})})}}}]);
//# sourceMappingURL=777.501e1652.chunk.js.map